  [1m[35m (37.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "petzito_backend_test"[0m
  [1m[35m (120.4ms)[0m  [1m[35mCREATE DATABASE "petzito_backend_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (1.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "cities" CASCADE[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "cities" ("id" bigserial primary key, "name" character varying NOT NULL, "country_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_cities_on_country_id" ON "cities" ("country_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_cities_on_name_and_country_id" ON "cities" ("name", "country_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "countries" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "countries" ("id" bigserial primary key, "name" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_countries_on_name" ON "countries" ("name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "field_solutions" CASCADE[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "field_solutions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "form_solution_id" uuid NOT NULL, "field_id" character varying NOT NULL, "field_value" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_field_solutions_on_form_solution_id_and_field_id" ON "field_solutions" ("form_solution_id", "field_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_field_solutions_on_form_solution_id" ON "field_solutions" ("form_solution_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "flow_solutions" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "flow_solutions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "user_id" bigint NOT NULL, "flow_id" uuid NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_flow_solutions_on_flow_id" ON "flow_solutions" ("flow_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_flow_solutions_on_user_id_and_flow_id" ON "flow_solutions" ("user_id", "flow_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_flow_solutions_on_user_id" ON "flow_solutions" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "flows" CASCADE[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "flows" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "name" character varying NOT NULL, "json_schema" json NOT NULL, "city_id" bigint, "country_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_flows_on_city_id" ON "flows" ("city_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_flows_on_country_id" ON "flows" ("country_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_flows_on_name" ON "flows" ("name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "form_solutions" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "form_solutions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "section_solution_id" uuid NOT NULL, "form_id" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_form_solutions_on_section_solution_id_and_form_id" ON "form_solutions" ("section_solution_id", "form_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_form_solutions_on_section_solution_id" ON "form_solutions" ("section_solution_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "section_solutions" CASCADE[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "section_solutions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "flow_solution_id" uuid NOT NULL, "section_id" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_section_solutions_on_flow_solution_id_and_section_id" ON "section_solutions" ("flow_solution_id", "section_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_section_solutions_on_flow_solution_id" ON "section_solutions" ("flow_solution_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE "cities" ADD CONSTRAINT "fk_rails_996e05be41"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "field_solutions" ADD CONSTRAINT "fk_rails_e6b5616a5e"
FOREIGN KEY ("form_solution_id")
  REFERENCES "form_solutions" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "flow_solutions" ADD CONSTRAINT "fk_rails_90552d9836"
FOREIGN KEY ("flow_id")
  REFERENCES "flows" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "flow_solutions" ADD CONSTRAINT "fk_rails_3a4f93cff3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "flows" ADD CONSTRAINT "fk_rails_cf4554c914"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "flows" ADD CONSTRAINT "fk_rails_a9f06e9579"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "form_solutions" ADD CONSTRAINT "fk_rails_66d736315e"
FOREIGN KEY ("section_solution_id")
  REFERENCES "section_solutions" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "section_solutions" ADD CONSTRAINT "fk_rails_9223386b69"
FOREIGN KEY ("flow_solution_id")
  REFERENCES "flow_solutions" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250817013732)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250817013727),
(20250817013722),
(20250817013718),
(20250817013713),
(20250817013653),
(20250817013648),
(20250817013640);[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-08-17 01:45:00.433185', '2025-08-17 01:45:00.433188') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '982848a8a4efa7ee341d845c6c28bbf9497348a6', '2025-08-17 01:45:00.434437', '2025-08-17 01:45:00.434438') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
  [1m[36mCity Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE "cities"."name" IS NULL AND "cities"."country_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"], ["LIMIT", 1]]
  [1m[36mCity Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", "Ciudad 3"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE "cities"."name" IS NULL AND "cities"."country_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 4"], ["LIMIT", 1]]
  [1m[36mCountry Create (1.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 4"], ["created_at", "2025-08-17 01:45:01.387063"], ["updated_at", "2025-08-17 01:45:01.387063"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Bogot√°"], ["country_id", 1], ["LIMIT", 1]]
  [1m[36mCity Create (1.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Bogot√°"], ["country_id", 1], ["created_at", "2025-08-17 01:45:01.391409"], ["updated_at", "2025-08-17 01:45:01.391409"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Medell√≠n"], ["country_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 5"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 5"], ["created_at", "2025-08-17 01:45:01.396085"], ["updated_at", "2025-08-17 01:45:01.396085"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Bogot√°"], ["country_id", 2], ["LIMIT", 1]]
  [1m[36mCity Create (0.8ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Bogot√°"], ["country_id", 2], ["created_at", "2025-08-17 01:45:01.397718"], ["updated_at", "2025-08-17 01:45:01.397718"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Bogot√°"], ["country_id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Colombia"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Colombia"], ["created_at", "2025-08-17 01:45:01.431423"], ["updated_at", "2025-08-17 01:45:01.431423"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Argentina"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Argentina"], ["created_at", "2025-08-17 01:45:01.432946"], ["updated_at", "2025-08-17 01:45:01.432946"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Buenos Aires"], ["country_id", 3], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Buenos Aires"], ["country_id", 3], ["created_at", "2025-08-17 01:45:01.434720"], ["updated_at", "2025-08-17 01:45:01.434720"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Buenos Aires"], ["country_id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 6"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 6"], ["created_at", "2025-08-17 01:45:01.438481"], ["updated_at", "2025-08-17 01:45:01.438481"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "  bogota  "], ["country_id", 5], ["LIMIT", 1]]
  [1m[36mCity Create (2.5ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Bogota"], ["country_id", 5], ["created_at", "2025-08-17 01:45:01.441386"], ["updated_at", "2025-08-17 01:45:01.441386"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 7"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 7"], ["created_at", "2025-08-17 01:45:01.449376"], ["updated_at", "2025-08-17 01:45:01.449376"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Medell√≠n"], ["country_id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", "Ciudad 4"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
  [1m[36mCountry Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Load (0.4ms)[0m  [1m[34mSELECT "countries".* FROM "countries" ORDER BY "countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 9"], ["created_at", "2025-08-17 01:45:01.457016"], ["updated_at", "2025-08-17 01:45:01.457016"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 9"], ["LIMIT", 1]]
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "pA√çS 9"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"], ["LIMIT", 1]]
  [1m[36mCountry Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "  mexico  "], ["LIMIT", 1]]
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Mexico"], ["created_at", "2025-08-17 01:45:01.466859"], ["updated_at", "2025-08-17 01:45:01.466859"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "m√©xico"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "M√©xico"], ["created_at", "2025-08-17 01:45:01.469448"], ["updated_at", "2025-08-17 01:45:01.469448"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Colombia"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Argentina"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Argentina"], ["created_at", "2025-08-17 01:45:01.473002"], ["updated_at", "2025-08-17 01:45:01.473002"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Argentina"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Load (0.3ms)[0m  [1m[34mSELECT "flows".* FROM "flows" ORDER BY "flows"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", "Ciudad 6"], ["LIMIT", 1]]
  [1m[36mCountry Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 12"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 12"], ["created_at", "2025-08-17 01:45:01.495084"], ["updated_at", "2025-08-17 01:45:01.495084"]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 6"], ["country_id", 11], ["created_at", "2025-08-17 01:45:01.495722"], ["updated_at", "2025-08-17 01:45:01.495722"]]
  [1m[36mFlow Create (1.6ms)[0m  [1m[32mINSERT INTO "flows" ("name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Flow2"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 5], ["country_id", nil], ["created_at", "2025-08-17 01:45:01.496304"], ["updated_at", "2025-08-17 01:45:01.496304"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow2"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "fLOW2"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow3"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow 1"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "My-Flow"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "FLOW@123"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "flow#456"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow4"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow5"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow6"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (7.1ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow7"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow8"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow9"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow10"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow11"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 28"], ["LIMIT", 1]]
  [1m[36mCountry Create (1.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 28"], ["created_at", "2025-08-17 01:45:01.556245"], ["updated_at", "2025-08-17 01:45:01.556245"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 20"], ["country_id", 12], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 20"], ["country_id", 12], ["created_at", "2025-08-17 01:45:01.560245"], ["updated_at", "2025-08-17 01:45:01.560245"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow12"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.9ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "ec3916ea-bfc3-4c65-987c-12c67de3d990"], ["name", "Flow12"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 6], ["country_id", nil], ["created_at", "2025-08-17 01:45:01.563347"], ["updated_at", "2025-08-17 01:45:01.563347"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow13"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.5ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "904f3179-093c-4ebf-b930-b4e297aa7d8e"], ["name", "Flow13"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", nil], ["country_id", 12], ["created_at", "2025-08-17 01:45:01.566910"], ["updated_at", "2025-08-17 01:45:01.566910"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (4.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 29"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 29"], ["created_at", "2025-08-17 01:45:01.573547"], ["updated_at", "2025-08-17 01:45:01.573547"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 21"], ["country_id", 13], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 21"], ["country_id", 13], ["created_at", "2025-08-17 01:45:01.575785"], ["updated_at", "2025-08-17 01:45:01.575785"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow14"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "f129d67a-5117-44fb-95b4-c31b0053f9ef"], ["name", "Flow14"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 7], ["country_id", nil], ["created_at", "2025-08-17 01:45:01.577251"], ["updated_at", "2025-08-17 01:45:01.577251"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."city_id" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["city_id", 6], ["id", "ec3916ea-bfc3-4c65-987c-12c67de3d990"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."city_id" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["city_id", 6], ["id", "904f3179-093c-4ebf-b930-b4e297aa7d8e"], ["LIMIT", 1]]
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."city_id" = $1[0m  [["city_id", 6]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 30"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 30"], ["created_at", "2025-08-17 01:45:01.582444"], ["updated_at", "2025-08-17 01:45:01.582444"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 22"], ["country_id", 14], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 22"], ["country_id", 14], ["created_at", "2025-08-17 01:45:01.585169"], ["updated_at", "2025-08-17 01:45:01.585169"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow15"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "9ae8ad2b-5ad0-4807-8a32-7f9aca594c76"], ["name", "Flow15"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 8], ["country_id", nil], ["created_at", "2025-08-17 01:45:01.587054"], ["updated_at", "2025-08-17 01:45:01.587054"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow16"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "1733b209-a04c-4cd4-af22-8974e7d05a58"], ["name", "Flow16"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", nil], ["country_id", 14], ["created_at", "2025-08-17 01:45:01.588799"], ["updated_at", "2025-08-17 01:45:01.588799"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 31"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.8ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 31"], ["created_at", "2025-08-17 01:45:01.591835"], ["updated_at", "2025-08-17 01:45:01.591835"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 23"], ["country_id", 15], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 23"], ["country_id", 15], ["created_at", "2025-08-17 01:45:01.595342"], ["updated_at", "2025-08-17 01:45:01.595342"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow17"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.9ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "b5c70348-336e-4890-8c75-bd7fee4e6c14"], ["name", "Flow17"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 9], ["country_id", nil], ["created_at", "2025-08-17 01:45:01.597955"], ["updated_at", "2025-08-17 01:45:01.597955"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."country_id" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["country_id", 14], ["id", "1733b209-a04c-4cd4-af22-8974e7d05a58"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."country_id" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["country_id", 14], ["id", "9ae8ad2b-5ad0-4807-8a32-7f9aca594c76"], ["LIMIT", 1]]
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."country_id" = $1[0m  [["country_id", 14]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 32"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 32"], ["created_at", "2025-08-17 01:45:01.603006"], ["updated_at", "2025-08-17 01:45:01.603006"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 24"], ["country_id", 16], ["LIMIT", 1]]
  [1m[36mCity Create (1.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 24"], ["country_id", 16], ["created_at", "2025-08-17 01:45:01.604581"], ["updated_at", "2025-08-17 01:45:01.604581"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow18"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "acd604d1-c991-4a59-8fc3-314403b7cf9d"], ["name", "Flow18"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 10], ["country_id", nil], ["created_at", "2025-08-17 01:45:01.607669"], ["updated_at", "2025-08-17 01:45:01.607669"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow19"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "cd8a267f-ac94-4c43-ae4a-0bd62c22c754"], ["name", "Flow19"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", nil], ["country_id", 16], ["created_at", "2025-08-17 01:45:01.610077"], ["updated_at", "2025-08-17 01:45:01.610077"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 33"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 33"], ["created_at", "2025-08-17 01:45:01.612090"], ["updated_at", "2025-08-17 01:45:01.612090"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 25"], ["country_id", 17], ["LIMIT", 1]]
  [1m[36mCity Create (0.5ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 25"], ["country_id", 17], ["created_at", "2025-08-17 01:45:01.613389"], ["updated_at", "2025-08-17 01:45:01.613389"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (5.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow20"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "b8d922c5-ea43-4ffb-a695-91cc4a0534d1"], ["name", "Flow20"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 11], ["country_id", nil], ["created_at", "2025-08-17 01:45:01.620453"], ["updated_at", "2025-08-17 01:45:01.620453"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["name", "Flow18"], ["id", "acd604d1-c991-4a59-8fc3-314403b7cf9d"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow21"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 35"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 35"], ["created_at", "2025-08-17 01:45:01.626726"], ["updated_at", "2025-08-17 01:45:01.626726"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 27"], ["country_id", 18], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 27"], ["country_id", 18], ["created_at", "2025-08-17 01:45:01.628558"], ["updated_at", "2025-08-17 01:45:01.628558"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.7ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "fe73ab22-bd30-4618-becc-2280395cb1b1"], ["name", "TestFlow"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 12], ["country_id", nil], ["created_at", "2025-08-17 01:45:01.629855"], ["updated_at", "2025-08-17 01:45:01.629855"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
  [1m[36mCity Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE "cities"."name" IS NULL AND "cities"."country_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"], ["LIMIT", 1]]
  [1m[36mCity Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", "Ciudad 3"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE "cities"."name" IS NULL AND "cities"."country_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 4"], ["LIMIT", 1]]
  [1m[36mCountry Create (1.1ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 4"], ["created_at", "2025-08-17 01:45:57.719791"], ["updated_at", "2025-08-17 01:45:57.719791"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (4.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Bogot√°"], ["country_id", 19], ["LIMIT", 1]]
  [1m[36mCity Create (0.6ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Bogot√°"], ["country_id", 19], ["created_at", "2025-08-17 01:45:57.727104"], ["updated_at", "2025-08-17 01:45:57.727104"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Medell√≠n"], ["country_id", 19], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 5"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 5"], ["created_at", "2025-08-17 01:45:57.731238"], ["updated_at", "2025-08-17 01:45:57.731238"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Bogot√°"], ["country_id", 20], ["LIMIT", 1]]
  [1m[36mCity Create (0.5ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Bogot√°"], ["country_id", 20], ["created_at", "2025-08-17 01:45:57.732983"], ["updated_at", "2025-08-17 01:45:57.732983"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Bogot√°"], ["country_id", 20], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Colombia"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Colombia"], ["created_at", "2025-08-17 01:45:57.737539"], ["updated_at", "2025-08-17 01:45:57.737539"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Argentina"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.7ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Argentina"], ["created_at", "2025-08-17 01:45:57.740779"], ["updated_at", "2025-08-17 01:45:57.740779"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Buenos Aires"], ["country_id", 21], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Buenos Aires"], ["country_id", 21], ["created_at", "2025-08-17 01:45:57.742534"], ["updated_at", "2025-08-17 01:45:57.742534"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Buenos Aires"], ["country_id", 22], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 6"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 6"], ["created_at", "2025-08-17 01:45:57.746830"], ["updated_at", "2025-08-17 01:45:57.746830"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "  bogota  "], ["country_id", 23], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Bogota"], ["country_id", 23], ["created_at", "2025-08-17 01:45:57.748507"], ["updated_at", "2025-08-17 01:45:57.748507"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 7"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 7"], ["created_at", "2025-08-17 01:45:57.751053"], ["updated_at", "2025-08-17 01:45:57.751053"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Medell√≠n"], ["country_id", 24], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", "Ciudad 4"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
  [1m[36mCountry Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" ORDER BY "countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 9"], ["created_at", "2025-08-17 01:45:57.762797"], ["updated_at", "2025-08-17 01:45:57.762797"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 9"], ["LIMIT", 1]]
  [1m[36mCountry Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "pA√çS 9"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"], ["LIMIT", 1]]
  [1m[36mCountry Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "  mexico  "], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Mexico"], ["created_at", "2025-08-17 01:45:57.770160"], ["updated_at", "2025-08-17 01:45:57.770160"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "m√©xico"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "M√©xico"], ["created_at", "2025-08-17 01:45:57.772270"], ["updated_at", "2025-08-17 01:45:57.772270"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Colombia"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (13.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Argentina"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Argentina"], ["created_at", "2025-08-17 01:45:57.791009"], ["updated_at", "2025-08-17 01:45:57.791009"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Argentina"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (3.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Load (0.4ms)[0m  [1m[34mSELECT "flows".* FROM "flows" ORDER BY "flows"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", "Ciudad 6"], ["LIMIT", 1]]
  [1m[36mCountry Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 12"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 12"], ["created_at", "2025-08-17 01:45:57.812879"], ["updated_at", "2025-08-17 01:45:57.812879"]]
  [1m[36mCity Create (4.7ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 6"], ["country_id", 29], ["created_at", "2025-08-17 01:45:57.813487"], ["updated_at", "2025-08-17 01:45:57.813487"]]
  [1m[36mFlow Create (2.0ms)[0m  [1m[32mINSERT INTO "flows" ("name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Flow2"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 17], ["country_id", nil], ["created_at", "2025-08-17 01:45:57.818452"], ["updated_at", "2025-08-17 01:45:57.818452"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (4.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow2"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "fLOW2"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow3"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow 1"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "My-Flow"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "FLOW@123"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "flow#456"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 20"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 20"], ["created_at", "2025-08-17 01:45:57.849195"], ["updated_at", "2025-08-17 01:45:57.849195"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 14"], ["country_id", 30], ["LIMIT", 1]]
  [1m[36mCity Create (3.9ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 14"], ["country_id", 30], ["created_at", "2025-08-17 01:45:57.850485"], ["updated_at", "2025-08-17 01:45:57.850485"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow4"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow5"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow6"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow7"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow8"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow9"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow10"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow11"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 29"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 29"], ["created_at", "2025-08-17 01:45:57.875377"], ["updated_at", "2025-08-17 01:45:57.875377"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 21"], ["country_id", 31], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 21"], ["country_id", 31], ["created_at", "2025-08-17 01:45:57.877214"], ["updated_at", "2025-08-17 01:45:57.877214"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow12"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.6ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "22597820-7f54-42f9-b22c-752ca3189ef8"], ["name", "Flow12"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 19], ["country_id", nil], ["created_at", "2025-08-17 01:45:57.879209"], ["updated_at", "2025-08-17 01:45:57.879209"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow13"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "8bbb08c1-efc0-4817-bb47-5958a492bc5b"], ["name", "Flow13"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", nil], ["country_id", 31], ["created_at", "2025-08-17 01:45:57.881935"], ["updated_at", "2025-08-17 01:45:57.881935"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 30"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 30"], ["created_at", "2025-08-17 01:45:57.884042"], ["updated_at", "2025-08-17 01:45:57.884042"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 22"], ["country_id", 32], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 22"], ["country_id", 32], ["created_at", "2025-08-17 01:45:57.885352"], ["updated_at", "2025-08-17 01:45:57.885352"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow14"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.6ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "f14572a7-90e1-4504-8715-6404a470bffb"], ["name", "Flow14"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 20], ["country_id", nil], ["created_at", "2025-08-17 01:45:57.886877"], ["updated_at", "2025-08-17 01:45:57.886877"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."city_id" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["city_id", 19], ["id", "22597820-7f54-42f9-b22c-752ca3189ef8"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."city_id" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["city_id", 19], ["id", "8bbb08c1-efc0-4817-bb47-5958a492bc5b"], ["LIMIT", 1]]
  [1m[36mFlow Load (0.1ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."city_id" = $1[0m  [["city_id", 19]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 31"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 31"], ["created_at", "2025-08-17 01:45:57.891089"], ["updated_at", "2025-08-17 01:45:57.891089"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 23"], ["country_id", 33], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 23"], ["country_id", 33], ["created_at", "2025-08-17 01:45:57.892264"], ["updated_at", "2025-08-17 01:45:57.892264"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow15"], ["LIMIT", 1]]
  [1m[36mFlow Create (1.6ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "49004e17-69fc-4f90-8be2-7f5703125f28"], ["name", "Flow15"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 21], ["country_id", nil], ["created_at", "2025-08-17 01:45:57.893727"], ["updated_at", "2025-08-17 01:45:57.893727"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow16"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "4e31b85e-d1ff-4372-afc7-9bf4da72f34a"], ["name", "Flow16"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", nil], ["country_id", 33], ["created_at", "2025-08-17 01:45:57.897594"], ["updated_at", "2025-08-17 01:45:57.897594"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 32"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 32"], ["created_at", "2025-08-17 01:45:57.899343"], ["updated_at", "2025-08-17 01:45:57.899343"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 24"], ["country_id", 34], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 24"], ["country_id", 34], ["created_at", "2025-08-17 01:45:57.900605"], ["updated_at", "2025-08-17 01:45:57.900605"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow17"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "40898fab-4218-4872-ac9b-7c5621f9b838"], ["name", "Flow17"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 22], ["country_id", nil], ["created_at", "2025-08-17 01:45:57.902278"], ["updated_at", "2025-08-17 01:45:57.902278"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."country_id" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["country_id", 33], ["id", "4e31b85e-d1ff-4372-afc7-9bf4da72f34a"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."country_id" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["country_id", 33], ["id", "49004e17-69fc-4f90-8be2-7f5703125f28"], ["LIMIT", 1]]
  [1m[36mFlow Load (0.3ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."country_id" = $1[0m  [["country_id", 33]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 33"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 33"], ["created_at", "2025-08-17 01:45:57.907733"], ["updated_at", "2025-08-17 01:45:57.907733"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 25"], ["country_id", 35], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 25"], ["country_id", 35], ["created_at", "2025-08-17 01:45:57.908960"], ["updated_at", "2025-08-17 01:45:57.908960"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow18"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "235b34eb-1995-482c-ab2b-b71a42ecdb9c"], ["name", "Flow18"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 23], ["country_id", nil], ["created_at", "2025-08-17 01:45:57.910343"], ["updated_at", "2025-08-17 01:45:57.910343"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow19"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.6ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "0e20a7f5-6f91-4c22-a12a-ca661d988836"], ["name", "Flow19"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", nil], ["country_id", 35], ["created_at", "2025-08-17 01:45:57.912048"], ["updated_at", "2025-08-17 01:45:57.912048"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 34"], ["LIMIT", 1]]
  [1m[36mCountry Create (4.1ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 34"], ["created_at", "2025-08-17 01:45:57.914419"], ["updated_at", "2025-08-17 01:45:57.914419"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 26"], ["country_id", 36], ["LIMIT", 1]]
  [1m[36mCity Create (0.5ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 26"], ["country_id", 36], ["created_at", "2025-08-17 01:45:57.920871"], ["updated_at", "2025-08-17 01:45:57.920871"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow20"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "83b53da1-c3ef-449b-8a4b-912bc03a81b7"], ["name", "Flow20"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 24], ["country_id", nil], ["created_at", "2025-08-17 01:45:57.923090"], ["updated_at", "2025-08-17 01:45:57.923090"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["name", "Flow18"], ["id", "235b34eb-1995-482c-ab2b-b71a42ecdb9c"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow21"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 36"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 36"], ["created_at", "2025-08-17 01:45:57.927372"], ["updated_at", "2025-08-17 01:45:57.927372"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 28"], ["country_id", 37], ["LIMIT", 1]]
  [1m[36mCity Create (0.5ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 28"], ["country_id", 37], ["created_at", "2025-08-17 01:45:57.929457"], ["updated_at", "2025-08-17 01:45:57.929457"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "c1093563-e242-4bd6-88ca-4b14a8850cf6"], ["name", "TestFlow"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 25], ["country_id", nil], ["created_at", "2025-08-17 01:45:57.931202"], ["updated_at", "2025-08-17 01:45:57.931202"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (2.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Load (0.3ms)[0m  [1m[34mSELECT "flows".* FROM "flows" ORDER BY "flows"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", "Ciudad 2"], ["LIMIT", 1]]
  [1m[36mCountry Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 2"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 2"], ["created_at", "2025-08-17 01:46:13.840716"], ["updated_at", "2025-08-17 01:46:13.840716"]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 2"], ["country_id", 38], ["created_at", "2025-08-17 01:46:13.841774"], ["updated_at", "2025-08-17 01:46:13.841774"]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Flow2"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 26], ["country_id", nil], ["created_at", "2025-08-17 01:46:13.842380"], ["updated_at", "2025-08-17 01:46:13.842380"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow2"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "fLOW2"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow3"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow 1"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "My-Flow"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "FLOW@123"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "flow#456"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 10"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 10"], ["created_at", "2025-08-17 01:46:13.866292"], ["updated_at", "2025-08-17 01:46:13.866292"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 10"], ["country_id", 39], ["LIMIT", 1]]
  [1m[36mCity Create (1.1ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 10"], ["country_id", 39], ["created_at", "2025-08-17 01:46:13.878771"], ["updated_at", "2025-08-17 01:46:13.878771"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow4"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow5"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow6"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow7"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow8"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow9"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow10"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (3.7ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (2.9ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow11"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (7.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 19"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 19"], ["created_at", "2025-08-17 01:46:13.951455"], ["updated_at", "2025-08-17 01:46:13.951455"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 17"], ["country_id", 40], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 17"], ["country_id", 40], ["created_at", "2025-08-17 01:46:13.956476"], ["updated_at", "2025-08-17 01:46:13.956476"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow12"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.5ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "a6d11b11-2c4b-4131-b278-5778242b895d"], ["name", "Flow12"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 28], ["country_id", nil], ["created_at", "2025-08-17 01:46:13.959448"], ["updated_at", "2025-08-17 01:46:13.959448"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow13"], ["LIMIT", 1]]
  [1m[36mFlow Create (1.0ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "c2b755d9-133e-4c10-9cb3-551d43422fbe"], ["name", "Flow13"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", nil], ["country_id", 40], ["created_at", "2025-08-17 01:46:13.961898"], ["updated_at", "2025-08-17 01:46:13.961898"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 20"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 20"], ["created_at", "2025-08-17 01:46:13.965212"], ["updated_at", "2025-08-17 01:46:13.965212"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 18"], ["country_id", 41], ["LIMIT", 1]]
  [1m[36mCity Create (0.7ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 18"], ["country_id", 41], ["created_at", "2025-08-17 01:46:13.966917"], ["updated_at", "2025-08-17 01:46:13.966917"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow14"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.8ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "6ccae8b4-17a4-4947-9d87-5311b4e4f531"], ["name", "Flow14"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 29], ["country_id", nil], ["created_at", "2025-08-17 01:46:13.970293"], ["updated_at", "2025-08-17 01:46:13.970293"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."city_id" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["city_id", 28], ["id", "a6d11b11-2c4b-4131-b278-5778242b895d"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."city_id" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["city_id", 28], ["id", "c2b755d9-133e-4c10-9cb3-551d43422fbe"], ["LIMIT", 1]]
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."city_id" = $1[0m  [["city_id", 28]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 21"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 21"], ["created_at", "2025-08-17 01:46:13.975381"], ["updated_at", "2025-08-17 01:46:13.975381"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 19"], ["country_id", 42], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 19"], ["country_id", 42], ["created_at", "2025-08-17 01:46:13.977633"], ["updated_at", "2025-08-17 01:46:13.977633"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow15"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "d7a265ab-fe88-41b8-9ebf-ce8c3aae7c47"], ["name", "Flow15"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 30], ["country_id", nil], ["created_at", "2025-08-17 01:46:13.980874"], ["updated_at", "2025-08-17 01:46:13.980874"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow16"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "0116163d-8acb-4285-9093-d90cc777e29f"], ["name", "Flow16"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", nil], ["country_id", 42], ["created_at", "2025-08-17 01:46:13.983029"], ["updated_at", "2025-08-17 01:46:13.983029"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 22"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 22"], ["created_at", "2025-08-17 01:46:13.984766"], ["updated_at", "2025-08-17 01:46:13.984766"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 20"], ["country_id", 43], ["LIMIT", 1]]
  [1m[36mCity Create (0.6ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 20"], ["country_id", 43], ["created_at", "2025-08-17 01:46:13.986625"], ["updated_at", "2025-08-17 01:46:13.986625"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow17"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.9ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "5f991d39-795e-4290-8e02-a7bea94c7614"], ["name", "Flow17"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 31], ["country_id", nil], ["created_at", "2025-08-17 01:46:13.989620"], ["updated_at", "2025-08-17 01:46:13.989620"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."country_id" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["country_id", 42], ["id", "0116163d-8acb-4285-9093-d90cc777e29f"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."country_id" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["country_id", 42], ["id", "d7a265ab-fe88-41b8-9ebf-ce8c3aae7c47"], ["LIMIT", 1]]
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."country_id" = $1[0m  [["country_id", 42]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 23"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 23"], ["created_at", "2025-08-17 01:46:13.995658"], ["updated_at", "2025-08-17 01:46:13.995658"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 21"], ["country_id", 44], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 21"], ["country_id", 44], ["created_at", "2025-08-17 01:46:13.998568"], ["updated_at", "2025-08-17 01:46:13.998568"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow18"], ["LIMIT", 1]]
  [1m[36mFlow Create (4.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "bff69234-ac3e-4dab-8fe9-7d96abfd8c66"], ["name", "Flow18"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 32], ["country_id", nil], ["created_at", "2025-08-17 01:46:14.002247"], ["updated_at", "2025-08-17 01:46:14.002247"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow19"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "0b9392a5-ddf9-4a22-ae5e-d3940e26d446"], ["name", "Flow19"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", nil], ["country_id", 44], ["created_at", "2025-08-17 01:46:14.008727"], ["updated_at", "2025-08-17 01:46:14.008727"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 24"], ["LIMIT", 1]]
  [1m[36mCountry Create (1.5ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 24"], ["created_at", "2025-08-17 01:46:14.010786"], ["updated_at", "2025-08-17 01:46:14.010786"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 22"], ["country_id", 45], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 22"], ["country_id", 45], ["created_at", "2025-08-17 01:46:14.014554"], ["updated_at", "2025-08-17 01:46:14.014554"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow20"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "bb1888d8-036d-42ab-a95c-4ac723328dfa"], ["name", "Flow20"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 33], ["country_id", nil], ["created_at", "2025-08-17 01:46:14.016454"], ["updated_at", "2025-08-17 01:46:14.016454"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["name", "Flow18"], ["id", "bff69234-ac3e-4dab-8fe9-7d96abfd8c66"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow21"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (2.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 26"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 26"], ["created_at", "2025-08-17 01:46:14.023833"], ["updated_at", "2025-08-17 01:46:14.023833"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 24"], ["country_id", 46], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 24"], ["country_id", 46], ["created_at", "2025-08-17 01:46:14.025338"], ["updated_at", "2025-08-17 01:46:14.025338"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "02b980c0-6205-457b-86de-fe58a56a8ef7"], ["name", "TestFlow"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 34], ["country_id", nil], ["created_at", "2025-08-17 01:46:14.027018"], ["updated_at", "2025-08-17 01:46:14.027018"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Load (0.3ms)[0m  [1m[34mSELECT "flows".* FROM "flows" ORDER BY "flows"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", "Ciudad 2"], ["LIMIT", 1]]
  [1m[36mCountry Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 2"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 2"], ["created_at", "2025-08-17 01:46:51.149648"], ["updated_at", "2025-08-17 01:46:51.149648"]]
  [1m[36mCity Create (0.6ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 2"], ["country_id", 47], ["created_at", "2025-08-17 01:46:51.150627"], ["updated_at", "2025-08-17 01:46:51.150627"]]
  [1m[36mFlow Create (5.1ms)[0m  [1m[32mINSERT INTO "flows" ("name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Flow2"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 35], ["country_id", nil], ["created_at", "2025-08-17 01:46:51.151561"], ["updated_at", "2025-08-17 01:46:51.151561"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow2"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "fLOW2"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow3"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow 1"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "My-Flow"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "FLOW@123"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "flow#456"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow4"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow5"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow6"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow7"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow8"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow9"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow10"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (2.7ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow11"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (2.9ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 18"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 18"], ["created_at", "2025-08-17 01:46:51.232179"], ["updated_at", "2025-08-17 01:46:51.232179"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 16"], ["country_id", 48], ["LIMIT", 1]]
  [1m[36mCity Create (0.6ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 16"], ["country_id", 48], ["created_at", "2025-08-17 01:46:51.236685"], ["updated_at", "2025-08-17 01:46:51.236685"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow12"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.7ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "98bdead0-99a6-431d-bda5-cde5f985481c"], ["name", "Flow12"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 36], ["country_id", nil], ["created_at", "2025-08-17 01:46:51.244270"], ["updated_at", "2025-08-17 01:46:51.244270"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 19"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 19"], ["created_at", "2025-08-17 01:46:51.249875"], ["updated_at", "2025-08-17 01:46:51.249875"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 17"], ["country_id", 49], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 17"], ["country_id", 49], ["created_at", "2025-08-17 01:46:51.251216"], ["updated_at", "2025-08-17 01:46:51.251216"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow13"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "b00b5ec9-f2b2-4369-a10f-dc65dc74ca2d"], ["name", "Flow13"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 37], ["country_id", 48], ["created_at", "2025-08-17 01:46:51.252924"], ["updated_at", "2025-08-17 01:46:51.252924"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 20"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 20"], ["created_at", "2025-08-17 01:46:51.255147"], ["updated_at", "2025-08-17 01:46:51.255147"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 18"], ["country_id", 50], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 18"], ["country_id", 50], ["created_at", "2025-08-17 01:46:51.256582"], ["updated_at", "2025-08-17 01:46:51.256582"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow14"], ["LIMIT", 1]]
  [1m[36mFlow Create (2.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "fa4f2936-40e5-4617-bc5e-6ca3b629bf4d"], ["name", "Flow14"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 38], ["country_id", nil], ["created_at", "2025-08-17 01:46:51.257904"], ["updated_at", "2025-08-17 01:46:51.257904"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."city_id" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["city_id", 36], ["id", "98bdead0-99a6-431d-bda5-cde5f985481c"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."city_id" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["city_id", 36], ["id", "b00b5ec9-f2b2-4369-a10f-dc65dc74ca2d"], ["LIMIT", 1]]
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."city_id" = $1[0m  [["city_id", 36]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 21"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 21"], ["created_at", "2025-08-17 01:46:51.264407"], ["updated_at", "2025-08-17 01:46:51.264407"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 19"], ["country_id", 51], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 19"], ["country_id", 51], ["created_at", "2025-08-17 01:46:51.265705"], ["updated_at", "2025-08-17 01:46:51.265705"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow15"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "aa6ba370-9f17-460d-83ba-9273168d2631"], ["name", "Flow15"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 39], ["country_id", nil], ["created_at", "2025-08-17 01:46:51.267031"], ["updated_at", "2025-08-17 01:46:51.267031"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 22"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 22"], ["created_at", "2025-08-17 01:46:51.268187"], ["updated_at", "2025-08-17 01:46:51.268187"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 20"], ["country_id", 52], ["LIMIT", 1]]
  [1m[36mCity Create (0.9ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 20"], ["country_id", 52], ["created_at", "2025-08-17 01:46:51.269668"], ["updated_at", "2025-08-17 01:46:51.269668"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow16"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "de8ddc73-57f8-4cd4-a240-a4edc1e0fd23"], ["name", "Flow16"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 40], ["country_id", 51], ["created_at", "2025-08-17 01:46:51.273005"], ["updated_at", "2025-08-17 01:46:51.273005"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 23"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 23"], ["created_at", "2025-08-17 01:46:51.274556"], ["updated_at", "2025-08-17 01:46:51.274556"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 21"], ["country_id", 53], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 21"], ["country_id", 53], ["created_at", "2025-08-17 01:46:51.275608"], ["updated_at", "2025-08-17 01:46:51.275608"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow17"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "e0dd63d9-d0c5-4349-9851-dff7fb851d3f"], ["name", "Flow17"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 41], ["country_id", nil], ["created_at", "2025-08-17 01:46:51.276670"], ["updated_at", "2025-08-17 01:46:51.276670"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."country_id" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["country_id", 51], ["id", "de8ddc73-57f8-4cd4-a240-a4edc1e0fd23"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."country_id" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["country_id", 51], ["id", "aa6ba370-9f17-460d-83ba-9273168d2631"], ["LIMIT", 1]]
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."country_id" = $1[0m  [["country_id", 51]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (3.0ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 24"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 24"], ["created_at", "2025-08-17 01:46:51.283356"], ["updated_at", "2025-08-17 01:46:51.283356"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 22"], ["country_id", 54], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 22"], ["country_id", 54], ["created_at", "2025-08-17 01:46:51.285187"], ["updated_at", "2025-08-17 01:46:51.285187"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow18"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "1c62c2c3-cbaa-4c59-8d8d-cee569671f67"], ["name", "Flow18"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 42], ["country_id", nil], ["created_at", "2025-08-17 01:46:51.286929"], ["updated_at", "2025-08-17 01:46:51.286929"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (4.1ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 25"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 25"], ["created_at", "2025-08-17 01:46:51.292449"], ["updated_at", "2025-08-17 01:46:51.292449"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 23"], ["country_id", 55], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 23"], ["country_id", 55], ["created_at", "2025-08-17 01:46:51.294015"], ["updated_at", "2025-08-17 01:46:51.294015"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow19"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.6ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "b0596d27-ca7b-463f-a11f-9227dbc3575f"], ["name", "Flow19"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 43], ["country_id", 54], ["created_at", "2025-08-17 01:46:51.295532"], ["updated_at", "2025-08-17 01:46:51.295532"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 26"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 26"], ["created_at", "2025-08-17 01:46:51.297761"], ["updated_at", "2025-08-17 01:46:51.297761"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 24"], ["country_id", 56], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 24"], ["country_id", 56], ["created_at", "2025-08-17 01:46:51.299035"], ["updated_at", "2025-08-17 01:46:51.299035"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow20"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "29f1e791-2cf7-4ec6-9ddb-d914fcd1649d"], ["name", "Flow20"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 44], ["country_id", nil], ["created_at", "2025-08-17 01:46:51.300301"], ["updated_at", "2025-08-17 01:46:51.300301"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["name", "Flow18"], ["id", "1c62c2c3-cbaa-4c59-8d8d-cee569671f67"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow21"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 28"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 28"], ["created_at", "2025-08-17 01:46:51.306349"], ["updated_at", "2025-08-17 01:46:51.306349"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 26"], ["country_id", 57], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 26"], ["country_id", 57], ["created_at", "2025-08-17 01:46:51.307869"], ["updated_at", "2025-08-17 01:46:51.307869"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "9d4fd4b3-c15e-4b79-b8b1-2f31adee9b23"], ["name", "TestFlow"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 45], ["country_id", nil], ["created_at", "2025-08-17 01:46:51.309025"], ["updated_at", "2025-08-17 01:46:51.309025"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", "Ciudad 1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow2"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow3"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow4"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", "Ciudad 1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow2"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow3"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow4"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (4.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", "Ciudad 1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 3"], ["LIMIT", 1]]
  [1m[36mCountry Create (1.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 3"], ["created_at", "2025-08-17 01:49:00.927887"], ["updated_at", "2025-08-17 01:49:00.927887"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 2"], ["country_id", 58], ["LIMIT", 1]]
  [1m[36mCity Create (0.5ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 2"], ["country_id", 58], ["created_at", "2025-08-17 01:49:00.931035"], ["updated_at", "2025-08-17 01:49:00.931035"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 4"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 4"], ["created_at", "2025-08-17 01:49:00.935883"], ["updated_at", "2025-08-17 01:49:00.935883"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow2"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 5"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 5"], ["created_at", "2025-08-17 01:49:00.939485"], ["updated_at", "2025-08-17 01:49:00.939485"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 3"], ["country_id", 60], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 3"], ["country_id", 60], ["created_at", "2025-08-17 01:49:00.940885"], ["updated_at", "2025-08-17 01:49:00.940885"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 6"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 6"], ["created_at", "2025-08-17 01:49:00.942193"], ["updated_at", "2025-08-17 01:49:00.942193"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow3"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow4"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (5.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 1"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 1"], ["created_at", "2025-08-17 01:49:07.561278"], ["updated_at", "2025-08-17 01:49:07.561278"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 1"], ["country_id", 62], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 1"], ["country_id", 62], ["created_at", "2025-08-17 01:49:07.566966"], ["updated_at", "2025-08-17 01:49:07.566966"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (4.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 2"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 2"], ["created_at", "2025-08-17 01:49:07.710237"], ["updated_at", "2025-08-17 01:49:07.710237"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 2"], ["country_id", 63], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 2"], ["country_id", 63], ["created_at", "2025-08-17 01:49:07.712466"], ["updated_at", "2025-08-17 01:49:07.712466"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" ORDER BY "flows"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Create (0.6ms)[0m  [1m[32mINSERT INTO "flows" ("name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Flow2"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 49], ["country_id", nil], ["created_at", "2025-08-17 01:49:07.714597"], ["updated_at", "2025-08-17 01:49:07.714597"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow2"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "fLOW2"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 3"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 3"], ["created_at", "2025-08-17 01:49:07.719340"], ["updated_at", "2025-08-17 01:49:07.719340"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 3"], ["country_id", 64], ["LIMIT", 1]]
  [1m[36mCity Create (0.7ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 3"], ["country_id", 64], ["created_at", "2025-08-17 01:49:07.721272"], ["updated_at", "2025-08-17 01:49:07.721272"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow3"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 4"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 4"], ["created_at", "2025-08-17 01:49:07.726297"], ["updated_at", "2025-08-17 01:49:07.726297"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 4"], ["country_id", 65], ["LIMIT", 1]]
  [1m[36mCity Create (1.1ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 4"], ["country_id", 65], ["created_at", "2025-08-17 01:49:07.728974"], ["updated_at", "2025-08-17 01:49:07.728974"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 5"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 5"], ["created_at", "2025-08-17 01:49:07.732314"], ["updated_at", "2025-08-17 01:49:07.732314"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 5"], ["country_id", 66], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 5"], ["country_id", 66], ["created_at", "2025-08-17 01:49:07.733972"], ["updated_at", "2025-08-17 01:49:07.733972"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "MyFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 6"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 6"], ["created_at", "2025-08-17 01:49:07.736236"], ["updated_at", "2025-08-17 01:49:07.736236"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 6"], ["country_id", 67], ["LIMIT", 1]]
  [1m[36mCity Create (1.6ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 6"], ["country_id", 67], ["created_at", "2025-08-17 01:49:07.738190"], ["updated_at", "2025-08-17 01:49:07.738190"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "FLOW123"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 7"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 7"], ["created_at", "2025-08-17 01:49:07.741911"], ["updated_at", "2025-08-17 01:49:07.741911"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 7"], ["country_id", 68], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 7"], ["country_id", 68], ["created_at", "2025-08-17 01:49:07.743179"], ["updated_at", "2025-08-17 01:49:07.743179"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "flow456"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 8"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.8ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 8"], ["created_at", "2025-08-17 01:49:07.746670"], ["updated_at", "2025-08-17 01:49:07.746670"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (3.0ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 8"], ["country_id", 69], ["LIMIT", 1]]
  [1m[36mCity Create (0.6ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 8"], ["country_id", 69], ["created_at", "2025-08-17 01:49:07.762389"], ["updated_at", "2025-08-17 01:49:07.762389"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow 1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 9"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 9"], ["created_at", "2025-08-17 01:49:07.765837"], ["updated_at", "2025-08-17 01:49:07.765837"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 9"], ["country_id", 70], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 9"], ["country_id", 70], ["created_at", "2025-08-17 01:49:07.766819"], ["updated_at", "2025-08-17 01:49:07.766819"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "My-Flow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 10"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 10"], ["created_at", "2025-08-17 01:49:07.768523"], ["updated_at", "2025-08-17 01:49:07.768523"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 10"], ["country_id", 71], ["LIMIT", 1]]
  [1m[36mCity Create (0.5ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 10"], ["country_id", 71], ["created_at", "2025-08-17 01:49:07.769828"], ["updated_at", "2025-08-17 01:49:07.769828"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "FLOW@123"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 11"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 11"], ["created_at", "2025-08-17 01:49:07.773186"], ["updated_at", "2025-08-17 01:49:07.773186"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 11"], ["country_id", 72], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 11"], ["country_id", 72], ["created_at", "2025-08-17 01:49:07.774258"], ["updated_at", "2025-08-17 01:49:07.774258"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "flow#456"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 12"], ["LIMIT", 1]]
  [1m[36mCountry Create (4.8ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 12"], ["created_at", "2025-08-17 01:49:07.775931"], ["updated_at", "2025-08-17 01:49:07.775931"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 12"], ["country_id", 73], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 12"], ["country_id", 73], ["created_at", "2025-08-17 01:49:07.785659"], ["updated_at", "2025-08-17 01:49:07.785659"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow4"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 13"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 13"], ["created_at", "2025-08-17 01:49:07.798159"], ["updated_at", "2025-08-17 01:49:07.798159"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 13"], ["country_id", 74], ["LIMIT", 1]]
  [1m[36mCity Create (0.6ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 13"], ["country_id", 74], ["created_at", "2025-08-17 01:49:07.801569"], ["updated_at", "2025-08-17 01:49:07.801569"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow5"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 14"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 14"], ["created_at", "2025-08-17 01:49:07.816887"], ["updated_at", "2025-08-17 01:49:07.816887"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow6"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 15"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 15"], ["created_at", "2025-08-17 01:49:07.828625"], ["updated_at", "2025-08-17 01:49:07.828625"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 14"], ["country_id", 76], ["LIMIT", 1]]
  [1m[36mCity Create (0.5ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 14"], ["country_id", 76], ["created_at", "2025-08-17 01:49:07.833811"], ["updated_at", "2025-08-17 01:49:07.833811"]]
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 16"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 16"], ["created_at", "2025-08-17 01:49:07.839776"], ["updated_at", "2025-08-17 01:49:07.839776"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow7"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 17"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 17"], ["created_at", "2025-08-17 01:49:07.842609"], ["updated_at", "2025-08-17 01:49:07.842609"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 15"], ["country_id", 78], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 15"], ["country_id", 78], ["created_at", "2025-08-17 01:49:07.844302"], ["updated_at", "2025-08-17 01:49:07.844302"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow8"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 18"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 18"], ["created_at", "2025-08-17 01:49:07.849647"], ["updated_at", "2025-08-17 01:49:07.849647"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 16"], ["country_id", 79], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 16"], ["country_id", 79], ["created_at", "2025-08-17 01:49:07.850815"], ["updated_at", "2025-08-17 01:49:07.850815"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow9"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 19"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 19"], ["created_at", "2025-08-17 01:49:07.853976"], ["updated_at", "2025-08-17 01:49:07.853976"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 17"], ["country_id", 80], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 17"], ["country_id", 80], ["created_at", "2025-08-17 01:49:07.857520"], ["updated_at", "2025-08-17 01:49:07.857520"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow10"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 20"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 20"], ["created_at", "2025-08-17 01:49:07.871335"], ["updated_at", "2025-08-17 01:49:07.871335"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 18"], ["country_id", 81], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 18"], ["country_id", 81], ["created_at", "2025-08-17 01:49:07.873229"], ["updated_at", "2025-08-17 01:49:07.873229"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow11"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "827b05f0-8016-49e1-ab6a-1bd00b7ae9b4"], ["name", "Flow11"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 65], ["country_id", nil], ["created_at", "2025-08-17 01:49:07.874758"], ["updated_at", "2025-08-17 01:49:07.874758"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 21"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 21"], ["created_at", "2025-08-17 01:49:07.880615"], ["updated_at", "2025-08-17 01:49:07.880615"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 19"], ["country_id", 82], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 19"], ["country_id", 82], ["created_at", "2025-08-17 01:49:07.882087"], ["updated_at", "2025-08-17 01:49:07.882087"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow12"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "edee5f78-4519-48ac-b029-e69b7717e0ba"], ["name", "Flow12"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 66], ["country_id", nil], ["created_at", "2025-08-17 01:49:07.883369"], ["updated_at", "2025-08-17 01:49:07.883369"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 22"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.1ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 22"], ["created_at", "2025-08-17 01:49:07.884583"], ["updated_at", "2025-08-17 01:49:07.884583"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 20"], ["country_id", 83], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 20"], ["country_id", 83], ["created_at", "2025-08-17 01:49:07.885721"], ["updated_at", "2025-08-17 01:49:07.885721"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow13"], ["LIMIT", 1]]
  [1m[36mFlow Create (2.9ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "db694f24-d4f9-4736-93dc-ded02c2a1485"], ["name", "Flow13"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 67], ["country_id", 82], ["created_at", "2025-08-17 01:49:07.887320"], ["updated_at", "2025-08-17 01:49:07.887320"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 23"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 23"], ["created_at", "2025-08-17 01:49:07.891564"], ["updated_at", "2025-08-17 01:49:07.891564"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 21"], ["country_id", 84], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 21"], ["country_id", 84], ["created_at", "2025-08-17 01:49:07.892779"], ["updated_at", "2025-08-17 01:49:07.892779"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow14"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.5ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "bd2662fa-7acc-4f64-aa5b-9d29f0c6af15"], ["name", "Flow14"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 68], ["country_id", nil], ["created_at", "2025-08-17 01:49:07.894264"], ["updated_at", "2025-08-17 01:49:07.894264"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."city_id" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["city_id", 66], ["id", "edee5f78-4519-48ac-b029-e69b7717e0ba"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."city_id" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["city_id", 66], ["id", "db694f24-d4f9-4736-93dc-ded02c2a1485"], ["LIMIT", 1]]
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."city_id" = $1[0m  [["city_id", 66]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 24"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 24"], ["created_at", "2025-08-17 01:49:07.899888"], ["updated_at", "2025-08-17 01:49:07.899888"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 22"], ["country_id", 85], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 22"], ["country_id", 85], ["created_at", "2025-08-17 01:49:07.901468"], ["updated_at", "2025-08-17 01:49:07.901468"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow15"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.6ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "0255708c-4d5a-42ee-992c-9804e1f401b8"], ["name", "Flow15"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 69], ["country_id", nil], ["created_at", "2025-08-17 01:49:07.903005"], ["updated_at", "2025-08-17 01:49:07.903005"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 25"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 25"], ["created_at", "2025-08-17 01:49:07.905809"], ["updated_at", "2025-08-17 01:49:07.905809"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 23"], ["country_id", 86], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 23"], ["country_id", 86], ["created_at", "2025-08-17 01:49:07.907181"], ["updated_at", "2025-08-17 01:49:07.907181"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow16"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "9317815f-5d67-427c-adaf-a5b94ea4fce9"], ["name", "Flow16"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 70], ["country_id", 85], ["created_at", "2025-08-17 01:49:07.908394"], ["updated_at", "2025-08-17 01:49:07.908394"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 26"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 26"], ["created_at", "2025-08-17 01:49:07.911006"], ["updated_at", "2025-08-17 01:49:07.911006"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 24"], ["country_id", 87], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 24"], ["country_id", 87], ["created_at", "2025-08-17 01:49:07.912812"], ["updated_at", "2025-08-17 01:49:07.912812"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow17"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "6ddb9f67-5afa-466d-9d42-6494ba36d50a"], ["name", "Flow17"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 71], ["country_id", nil], ["created_at", "2025-08-17 01:49:07.914275"], ["updated_at", "2025-08-17 01:49:07.914275"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."country_id" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["country_id", 85], ["id", "9317815f-5d67-427c-adaf-a5b94ea4fce9"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."country_id" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["country_id", 85], ["id", "0255708c-4d5a-42ee-992c-9804e1f401b8"], ["LIMIT", 1]]
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."country_id" = $1[0m  [["country_id", 85]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 27"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 27"], ["created_at", "2025-08-17 01:49:07.917429"], ["updated_at", "2025-08-17 01:49:07.917429"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 25"], ["country_id", 88], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 25"], ["country_id", 88], ["created_at", "2025-08-17 01:49:07.919030"], ["updated_at", "2025-08-17 01:49:07.919030"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow18"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "342ad099-bfc3-4f43-8143-f59940554a53"], ["name", "Flow18"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 72], ["country_id", nil], ["created_at", "2025-08-17 01:49:07.922838"], ["updated_at", "2025-08-17 01:49:07.922838"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 28"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 28"], ["created_at", "2025-08-17 01:49:07.924253"], ["updated_at", "2025-08-17 01:49:07.924253"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 26"], ["country_id", 89], ["LIMIT", 1]]
  [1m[36mCity Create (0.8ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 26"], ["country_id", 89], ["created_at", "2025-08-17 01:49:07.925318"], ["updated_at", "2025-08-17 01:49:07.925318"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow19"], ["LIMIT", 1]]
  [1m[36mFlow Create (1.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "002c7ee2-ddf2-4f34-98ff-bf19188d9152"], ["name", "Flow19"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 73], ["country_id", 88], ["created_at", "2025-08-17 01:49:07.927634"], ["updated_at", "2025-08-17 01:49:07.927634"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 29"], ["LIMIT", 1]]
  [1m[36mCountry Create (4.0ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 29"], ["created_at", "2025-08-17 01:49:07.930499"], ["updated_at", "2025-08-17 01:49:07.930499"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 27"], ["country_id", 90], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 27"], ["country_id", 90], ["created_at", "2025-08-17 01:49:07.936089"], ["updated_at", "2025-08-17 01:49:07.936089"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow20"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "d8180467-c26f-42ea-8f31-4b757347c837"], ["name", "Flow20"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 74], ["country_id", nil], ["created_at", "2025-08-17 01:49:07.938035"], ["updated_at", "2025-08-17 01:49:07.938035"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["name", "Flow18"], ["id", "342ad099-bfc3-4f43-8143-f59940554a53"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 30"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 30"], ["created_at", "2025-08-17 01:49:07.942469"], ["updated_at", "2025-08-17 01:49:07.942469"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 28"], ["country_id", 91], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 28"], ["country_id", 91], ["created_at", "2025-08-17 01:49:07.944236"], ["updated_at", "2025-08-17 01:49:07.944236"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow21"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow21"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "ca81f16c-9c2d-4a35-9d82-d7ffc541fe18"], ["name", "Flow21"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 75], ["country_id", nil], ["created_at", "2025-08-17 01:49:07.946930"], ["updated_at", "2025-08-17 01:49:07.946930"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 31"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 31"], ["created_at", "2025-08-17 01:49:07.949994"], ["updated_at", "2025-08-17 01:49:07.949994"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 29"], ["country_id", 92], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 29"], ["country_id", 92], ["created_at", "2025-08-17 01:49:07.951295"], ["updated_at", "2025-08-17 01:49:07.951295"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.5ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "0a161674-1568-4d56-970a-16cfa54b8c45"], ["name", "TestFlow"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 76], ["country_id", nil], ["created_at", "2025-08-17 01:49:07.954135"], ["updated_at", "2025-08-17 01:49:07.954135"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 32"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 32"], ["created_at", "2025-08-17 01:49:07.956201"], ["updated_at", "2025-08-17 01:49:07.956201"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 30"], ["country_id", 93], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 30"], ["country_id", 93], ["created_at", "2025-08-17 01:49:07.957272"], ["updated_at", "2025-08-17 01:49:07.957272"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Exists? (4.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", "Ciudad 1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (4.1ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 3"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 3"], ["created_at", "2025-08-17 01:49:37.607618"], ["updated_at", "2025-08-17 01:49:37.607618"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 2"], ["country_id", 94], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 2"], ["country_id", 94], ["created_at", "2025-08-17 01:49:37.609966"], ["updated_at", "2025-08-17 01:49:37.609966"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 4"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 4"], ["created_at", "2025-08-17 01:49:37.614249"], ["updated_at", "2025-08-17 01:49:37.614249"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow2"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 5"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 5"], ["created_at", "2025-08-17 01:49:37.628501"], ["updated_at", "2025-08-17 01:49:37.628501"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 3"], ["country_id", 96], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 3"], ["country_id", 96], ["created_at", "2025-08-17 01:49:37.631016"], ["updated_at", "2025-08-17 01:49:37.631016"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 6"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 6"], ["created_at", "2025-08-17 01:49:37.632303"], ["updated_at", "2025-08-17 01:49:37.632303"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow3"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow4"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE "cities"."name" IS NULL AND "cities"."country_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"], ["LIMIT", 1]]
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", "Ciudad 6"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE "cities"."name" IS NULL AND "cities"."country_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 10"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 10"], ["created_at", "2025-08-17 01:49:37.775758"], ["updated_at", "2025-08-17 01:49:37.775758"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Bogot√°"], ["country_id", 98], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Bogot√°"], ["country_id", 98], ["created_at", "2025-08-17 01:49:37.777894"], ["updated_at", "2025-08-17 01:49:37.777894"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Medell√≠n"], ["country_id", 98], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 11"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 11"], ["created_at", "2025-08-17 01:49:37.780977"], ["updated_at", "2025-08-17 01:49:37.780977"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Bogot√°"], ["country_id", 99], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Bogot√°"], ["country_id", 99], ["created_at", "2025-08-17 01:49:37.782355"], ["updated_at", "2025-08-17 01:49:37.782355"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Bogot√°"], ["country_id", 99], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Colombia"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Colombia"], ["created_at", "2025-08-17 01:49:37.784866"], ["updated_at", "2025-08-17 01:49:37.784866"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Argentina"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Argentina"], ["created_at", "2025-08-17 01:49:37.786256"], ["updated_at", "2025-08-17 01:49:37.786256"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Buenos Aires"], ["country_id", 100], ["LIMIT", 1]]
  [1m[36mCity Create (0.5ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Buenos Aires"], ["country_id", 100], ["created_at", "2025-08-17 01:49:37.789106"], ["updated_at", "2025-08-17 01:49:37.789106"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Buenos Aires"], ["country_id", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 12"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 12"], ["created_at", "2025-08-17 01:49:37.792513"], ["updated_at", "2025-08-17 01:49:37.792513"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (3.1ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "  bogota  "], ["country_id", 102], ["LIMIT", 1]]
  [1m[36mCity Create (0.5ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Bogota"], ["country_id", 102], ["created_at", "2025-08-17 01:49:37.800822"], ["updated_at", "2025-08-17 01:49:37.800822"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 13"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 13"], ["created_at", "2025-08-17 01:49:37.814294"], ["updated_at", "2025-08-17 01:49:37.814294"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Medell√≠n"], ["country_id", 103], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", "Ciudad 7"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
  [1m[36mCountry Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Load (0.4ms)[0m  [1m[34mSELECT "countries".* FROM "countries" ORDER BY "countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 15"], ["created_at", "2025-08-17 01:49:37.823305"], ["updated_at", "2025-08-17 01:49:37.823305"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 15"], ["LIMIT", 1]]
  [1m[36mCountry Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "pA√çS 15"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"], ["LIMIT", 1]]
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "  mexico  "], ["LIMIT", 1]]
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Mexico"], ["created_at", "2025-08-17 01:49:37.831091"], ["updated_at", "2025-08-17 01:49:37.831091"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "m√©xico"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "M√©xico"], ["created_at", "2025-08-17 01:49:37.833123"], ["updated_at", "2025-08-17 01:49:37.833123"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Colombia"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Argentina"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Argentina"], ["created_at", "2025-08-17 01:49:37.837838"], ["updated_at", "2025-08-17 01:49:37.837838"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Argentina"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 17"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 17"], ["created_at", "2025-08-17 01:49:37.843175"], ["updated_at", "2025-08-17 01:49:37.843175"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 8"], ["country_id", 108], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 8"], ["country_id", 108], ["created_at", "2025-08-17 01:49:37.844850"], ["updated_at", "2025-08-17 01:49:37.844850"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 18"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 18"], ["created_at", "2025-08-17 01:49:37.850531"], ["updated_at", "2025-08-17 01:49:37.850531"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 9"], ["country_id", 109], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 9"], ["country_id", 109], ["created_at", "2025-08-17 01:49:37.852481"], ["updated_at", "2025-08-17 01:49:37.852481"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Load (4.1ms)[0m  [1m[34mSELECT "flows".* FROM "flows" ORDER BY "flows"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Create (0.9ms)[0m  [1m[32mINSERT INTO "flows" ("name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Flow6"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 85], ["country_id", nil], ["created_at", "2025-08-17 01:49:37.858344"], ["updated_at", "2025-08-17 01:49:37.858344"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow6"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "fLOW6"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 19"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 19"], ["created_at", "2025-08-17 01:49:37.863707"], ["updated_at", "2025-08-17 01:49:37.863707"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 10"], ["country_id", 110], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 10"], ["country_id", 110], ["created_at", "2025-08-17 01:49:37.865146"], ["updated_at", "2025-08-17 01:49:37.865146"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow7"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 20"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 20"], ["created_at", "2025-08-17 01:49:37.868838"], ["updated_at", "2025-08-17 01:49:37.868838"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 11"], ["country_id", 111], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 11"], ["country_id", 111], ["created_at", "2025-08-17 01:49:37.870416"], ["updated_at", "2025-08-17 01:49:37.870416"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 21"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 21"], ["created_at", "2025-08-17 01:49:37.874443"], ["updated_at", "2025-08-17 01:49:37.874443"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 12"], ["country_id", 112], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 12"], ["country_id", 112], ["created_at", "2025-08-17 01:49:37.876243"], ["updated_at", "2025-08-17 01:49:37.876243"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "MyFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 22"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 22"], ["created_at", "2025-08-17 01:49:37.878148"], ["updated_at", "2025-08-17 01:49:37.878148"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 13"], ["country_id", 113], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 13"], ["country_id", 113], ["created_at", "2025-08-17 01:49:37.879419"], ["updated_at", "2025-08-17 01:49:37.879419"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "FLOW123"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 23"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 23"], ["created_at", "2025-08-17 01:49:37.881421"], ["updated_at", "2025-08-17 01:49:37.881421"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 14"], ["country_id", 114], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 14"], ["country_id", 114], ["created_at", "2025-08-17 01:49:37.884364"], ["updated_at", "2025-08-17 01:49:37.884364"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "flow456"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 24"], ["LIMIT", 1]]
  [1m[36mCountry Create (1.0ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 24"], ["created_at", "2025-08-17 01:49:37.887274"], ["updated_at", "2025-08-17 01:49:37.887274"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 15"], ["country_id", 115], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 15"], ["country_id", 115], ["created_at", "2025-08-17 01:49:37.890062"], ["updated_at", "2025-08-17 01:49:37.890062"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow 1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 25"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 25"], ["created_at", "2025-08-17 01:49:37.891840"], ["updated_at", "2025-08-17 01:49:37.891840"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 16"], ["country_id", 116], ["LIMIT", 1]]
  [1m[36mCity Create (1.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 16"], ["country_id", 116], ["created_at", "2025-08-17 01:49:37.893102"], ["updated_at", "2025-08-17 01:49:37.893102"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "My-Flow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 26"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 26"], ["created_at", "2025-08-17 01:49:37.897038"], ["updated_at", "2025-08-17 01:49:37.897038"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 17"], ["country_id", 117], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 17"], ["country_id", 117], ["created_at", "2025-08-17 01:49:37.898455"], ["updated_at", "2025-08-17 01:49:37.898455"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "FLOW@123"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 27"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 27"], ["created_at", "2025-08-17 01:49:37.900511"], ["updated_at", "2025-08-17 01:49:37.900511"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 18"], ["country_id", 118], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 18"], ["country_id", 118], ["created_at", "2025-08-17 01:49:37.901638"], ["updated_at", "2025-08-17 01:49:37.901638"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "flow#456"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 28"], ["LIMIT", 1]]
  [1m[36mCountry Create (2.1ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 28"], ["created_at", "2025-08-17 01:49:37.903882"], ["updated_at", "2025-08-17 01:49:37.903882"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 19"], ["country_id", 119], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 19"], ["country_id", 119], ["created_at", "2025-08-17 01:49:37.907176"], ["updated_at", "2025-08-17 01:49:37.907176"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow8"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 29"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 29"], ["created_at", "2025-08-17 01:49:37.910869"], ["updated_at", "2025-08-17 01:49:37.910869"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 20"], ["country_id", 120], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 20"], ["country_id", 120], ["created_at", "2025-08-17 01:49:37.912187"], ["updated_at", "2025-08-17 01:49:37.912187"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow9"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 30"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 30"], ["created_at", "2025-08-17 01:49:37.916242"], ["updated_at", "2025-08-17 01:49:37.916242"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow10"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 31"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 31"], ["created_at", "2025-08-17 01:49:37.918393"], ["updated_at", "2025-08-17 01:49:37.918393"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 21"], ["country_id", 122], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 21"], ["country_id", 122], ["created_at", "2025-08-17 01:49:37.919899"], ["updated_at", "2025-08-17 01:49:37.919899"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 32"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 32"], ["created_at", "2025-08-17 01:49:37.921387"], ["updated_at", "2025-08-17 01:49:37.921387"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow11"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 33"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 33"], ["created_at", "2025-08-17 01:49:37.924500"], ["updated_at", "2025-08-17 01:49:37.924500"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 22"], ["country_id", 124], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 22"], ["country_id", 124], ["created_at", "2025-08-17 01:49:37.926082"], ["updated_at", "2025-08-17 01:49:37.926082"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow12"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 34"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.7ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 34"], ["created_at", "2025-08-17 01:49:37.929235"], ["updated_at", "2025-08-17 01:49:37.929235"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 23"], ["country_id", 125], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 23"], ["country_id", 125], ["created_at", "2025-08-17 01:49:37.931338"], ["updated_at", "2025-08-17 01:49:37.931338"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow13"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 35"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 35"], ["created_at", "2025-08-17 01:49:37.933799"], ["updated_at", "2025-08-17 01:49:37.933799"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 24"], ["country_id", 126], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 24"], ["country_id", 126], ["created_at", "2025-08-17 01:49:37.935004"], ["updated_at", "2025-08-17 01:49:37.935004"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (6.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow14"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 36"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 36"], ["created_at", "2025-08-17 01:49:37.951180"], ["updated_at", "2025-08-17 01:49:37.951180"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 25"], ["country_id", 127], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 25"], ["country_id", 127], ["created_at", "2025-08-17 01:49:37.952487"], ["updated_at", "2025-08-17 01:49:37.952487"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow15"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "351b00bd-e40a-4d7e-a3ec-208ea4c75493"], ["name", "Flow15"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 101], ["country_id", nil], ["created_at", "2025-08-17 01:49:37.953863"], ["updated_at", "2025-08-17 01:49:37.953863"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 37"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 37"], ["created_at", "2025-08-17 01:49:37.956909"], ["updated_at", "2025-08-17 01:49:37.956909"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 26"], ["country_id", 128], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 26"], ["country_id", 128], ["created_at", "2025-08-17 01:49:37.959390"], ["updated_at", "2025-08-17 01:49:37.959390"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow16"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "7b865ae1-e112-413e-bb07-e3c875f0ffa5"], ["name", "Flow16"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 102], ["country_id", nil], ["created_at", "2025-08-17 01:49:37.960738"], ["updated_at", "2025-08-17 01:49:37.960738"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 38"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.7ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 38"], ["created_at", "2025-08-17 01:49:37.962512"], ["updated_at", "2025-08-17 01:49:37.962512"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 27"], ["country_id", 129], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 27"], ["country_id", 129], ["created_at", "2025-08-17 01:49:37.964702"], ["updated_at", "2025-08-17 01:49:37.964702"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow17"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "b302fd4c-8212-45a0-b68f-d015d4a2b230"], ["name", "Flow17"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 103], ["country_id", 128], ["created_at", "2025-08-17 01:49:37.965937"], ["updated_at", "2025-08-17 01:49:37.965937"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 39"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 39"], ["created_at", "2025-08-17 01:49:37.967232"], ["updated_at", "2025-08-17 01:49:37.967232"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 28"], ["country_id", 130], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 28"], ["country_id", 130], ["created_at", "2025-08-17 01:49:37.969891"], ["updated_at", "2025-08-17 01:49:37.969891"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow18"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.5ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "34501920-1d53-4356-8c17-aab6a38e367c"], ["name", "Flow18"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 104], ["country_id", nil], ["created_at", "2025-08-17 01:49:37.972506"], ["updated_at", "2025-08-17 01:49:37.972506"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."city_id" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["city_id", 102], ["id", "7b865ae1-e112-413e-bb07-e3c875f0ffa5"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."city_id" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["city_id", 102], ["id", "b302fd4c-8212-45a0-b68f-d015d4a2b230"], ["LIMIT", 1]]
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."city_id" = $1[0m  [["city_id", 102]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 40"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 40"], ["created_at", "2025-08-17 01:49:37.975964"], ["updated_at", "2025-08-17 01:49:37.975964"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 29"], ["country_id", 131], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 29"], ["country_id", 131], ["created_at", "2025-08-17 01:49:37.977326"], ["updated_at", "2025-08-17 01:49:37.977326"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow19"], ["LIMIT", 1]]
  [1m[36mFlow Create (2.1ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "bcb96bc3-6290-4b0c-b589-e9be340c047d"], ["name", "Flow19"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 105], ["country_id", nil], ["created_at", "2025-08-17 01:49:37.978730"], ["updated_at", "2025-08-17 01:49:37.978730"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 41"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 41"], ["created_at", "2025-08-17 01:49:37.982156"], ["updated_at", "2025-08-17 01:49:37.982156"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 30"], ["country_id", 132], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 30"], ["country_id", 132], ["created_at", "2025-08-17 01:49:37.983294"], ["updated_at", "2025-08-17 01:49:37.983294"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow20"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "3391d7de-7ae6-4cf1-b0b4-699b756df9c6"], ["name", "Flow20"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 106], ["country_id", 131], ["created_at", "2025-08-17 01:49:37.984681"], ["updated_at", "2025-08-17 01:49:37.984681"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 42"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 42"], ["created_at", "2025-08-17 01:49:37.986189"], ["updated_at", "2025-08-17 01:49:37.986189"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 31"], ["country_id", 133], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 31"], ["country_id", 133], ["created_at", "2025-08-17 01:49:37.987644"], ["updated_at", "2025-08-17 01:49:37.987644"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow21"], ["LIMIT", 1]]
  [1m[36mFlow Create (1.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "7716a0c7-6a2a-4061-a9d9-40edd189b50e"], ["name", "Flow21"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 107], ["country_id", nil], ["created_at", "2025-08-17 01:49:37.989107"], ["updated_at", "2025-08-17 01:49:37.989107"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."country_id" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["country_id", 131], ["id", "3391d7de-7ae6-4cf1-b0b4-699b756df9c6"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."country_id" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["country_id", 131], ["id", "bcb96bc3-6290-4b0c-b589-e9be340c047d"], ["LIMIT", 1]]
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."country_id" = $1[0m  [["country_id", 131]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 43"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 43"], ["created_at", "2025-08-17 01:49:37.993465"], ["updated_at", "2025-08-17 01:49:37.993465"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 32"], ["country_id", 134], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 32"], ["country_id", 134], ["created_at", "2025-08-17 01:49:37.994902"], ["updated_at", "2025-08-17 01:49:37.994902"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow22"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.8ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "522512ac-3f88-4a36-bd0a-0fd45e425664"], ["name", "Flow22"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 108], ["country_id", nil], ["created_at", "2025-08-17 01:49:37.996994"], ["updated_at", "2025-08-17 01:49:37.996994"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 44"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 44"], ["created_at", "2025-08-17 01:49:37.998988"], ["updated_at", "2025-08-17 01:49:37.998988"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 33"], ["country_id", 135], ["LIMIT", 1]]
  [1m[36mCity Create (7.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 33"], ["country_id", 135], ["created_at", "2025-08-17 01:49:38.000024"], ["updated_at", "2025-08-17 01:49:38.000024"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow23"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "9f9fc0ae-5cd3-410d-b859-151d53223fff"], ["name", "Flow23"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 109], ["country_id", 134], ["created_at", "2025-08-17 01:49:38.008837"], ["updated_at", "2025-08-17 01:49:38.008837"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 45"], ["LIMIT", 1]]
  [1m[36mCountry Create (1.5ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 45"], ["created_at", "2025-08-17 01:49:38.010569"], ["updated_at", "2025-08-17 01:49:38.010569"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 34"], ["country_id", 136], ["LIMIT", 1]]
  [1m[36mCity Create (0.5ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 34"], ["country_id", 136], ["created_at", "2025-08-17 01:49:38.014217"], ["updated_at", "2025-08-17 01:49:38.014217"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow24"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "ebfedce2-e337-4857-8d13-95b3e9eb18b1"], ["name", "Flow24"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 110], ["country_id", nil], ["created_at", "2025-08-17 01:49:38.015647"], ["updated_at", "2025-08-17 01:49:38.015647"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["name", "Flow22"], ["id", "522512ac-3f88-4a36-bd0a-0fd45e425664"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 46"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 46"], ["created_at", "2025-08-17 01:49:38.018792"], ["updated_at", "2025-08-17 01:49:38.018792"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 35"], ["country_id", 137], ["LIMIT", 1]]
  [1m[36mCity Create (1.1ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 35"], ["country_id", 137], ["created_at", "2025-08-17 01:49:38.020114"], ["updated_at", "2025-08-17 01:49:38.020114"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow25"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow25"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.5ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "a9bfbcd4-ff26-4d87-ba00-1cc30b6c7d27"], ["name", "Flow25"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 111], ["country_id", nil], ["created_at", "2025-08-17 01:49:38.031142"], ["updated_at", "2025-08-17 01:49:38.031142"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 47"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 47"], ["created_at", "2025-08-17 01:49:38.034658"], ["updated_at", "2025-08-17 01:49:38.034658"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 36"], ["country_id", 138], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 36"], ["country_id", 138], ["created_at", "2025-08-17 01:49:38.036061"], ["updated_at", "2025-08-17 01:49:38.036061"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "85576b61-0f5a-4757-bb05-7805fe1ac6d8"], ["name", "TestFlow"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 112], ["country_id", nil], ["created_at", "2025-08-17 01:49:38.037529"], ["updated_at", "2025-08-17 01:49:38.037529"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (3.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 48"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.8ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 48"], ["created_at", "2025-08-17 01:49:38.042481"], ["updated_at", "2025-08-17 01:49:38.042481"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 37"], ["country_id", 139], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 37"], ["country_id", 139], ["created_at", "2025-08-17 01:49:38.044966"], ["updated_at", "2025-08-17 01:49:38.044966"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:49:38.061483"], ["updated_at", "2025-08-17 01:49:38.061483"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:49:38.069346"], ["updated_at", "2025-08-17 01:49:38.069346"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:49:38.073477"], ["updated_at", "2025-08-17 01:49:38.073477"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:49:38.076618"], ["updated_at", "2025-08-17 01:49:38.076618"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:49:38.080637"], ["updated_at", "2025-08-17 01:49:38.080637"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:49:38.084153"], ["updated_at", "2025-08-17 01:49:38.084153"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:49:38.087562"], ["updated_at", "2025-08-17 01:49:38.087562"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:49:38.091795"], ["updated_at", "2025-08-17 01:49:38.091795"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:49:38.095800"], ["updated_at", "2025-08-17 01:49:38.095800"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:49:38.100169"], ["updated_at", "2025-08-17 01:49:38.100169"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:49:38.103606"], ["updated_at", "2025-08-17 01:49:38.103606"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:49:38.108152"], ["updated_at", "2025-08-17 01:49:38.108152"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:49:38.111960"], ["updated_at", "2025-08-17 01:49:38.111960"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:49:38.115815"], ["updated_at", "2025-08-17 01:49:38.115815"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:49:38.119024"], ["updated_at", "2025-08-17 01:49:38.119024"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (5.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:06.717191"], ["updated_at", "2025-08-17 01:50:06.717191"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Count (4.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 1"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.7ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 1"], ["created_at", "2025-08-17 01:50:06.739510"], ["updated_at", "2025-08-17 01:50:06.739510"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 1"], ["country_id", 140], ["LIMIT", 1]]
  [1m[36mCity Create (0.6ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 1"], ["country_id", 140], ["created_at", "2025-08-17 01:50:06.750703"], ["updated_at", "2025-08-17 01:50:06.750703"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:50:06 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"TestFlow", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}, "city_id"=>"114"}}
[31mUnpermitted parameter: :json_schema. Context: { controller: FlowsController, action: create, request: #<ActionDispatch::Request:0x0000000125ab2630>, params: {"flow"=>{"name"=>"TestFlow", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}, "city_id"=>"114"}, "controller"=>"flows", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 422 Unprocessable Content in 150ms (Views: 1.9ms | ActiveRecord: 0.9ms | Allocations: 292104)
  [1m[36mFlow Count (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (3.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:06.930268"], ["updated_at", "2025-08-17 01:50:06.930268"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 2"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 2"], ["created_at", "2025-08-17 01:50:06.932691"], ["updated_at", "2025-08-17 01:50:06.932691"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 2"], ["country_id", 141], ["LIMIT", 1]]
  [1m[36mCity Create (1.5ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 2"], ["country_id", 141], ["created_at", "2025-08-17 01:50:06.935162"], ["updated_at", "2025-08-17 01:50:06.935162"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:50:06 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}, "city_id"=>"115"}}
[31mUnpermitted parameter: :json_schema. Context: { controller: FlowsController, action: create, request: #<ActionDispatch::Request:0x0000000125815648>, params: {"flow"=>{"name"=>"", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}, "city_id"=>"115"}, "controller"=>"flows", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.04ms)
Completed 422 Unprocessable Content in 3ms (Views: 0.3ms | ActiveRecord: 2.4ms | Allocations: 1646)
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:06.948625"], ["updated_at", "2025-08-17 01:50:06.948625"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 3"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 3"], ["created_at", "2025-08-17 01:50:06.951271"], ["updated_at", "2025-08-17 01:50:06.951271"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 3"], ["country_id", 142], ["LIMIT", 1]]
  [1m[36mCity Create (0.5ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 3"], ["country_id", 142], ["created_at", "2025-08-17 01:50:06.953932"], ["updated_at", "2025-08-17 01:50:06.953932"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:50:06 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"TestFlow", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}, "city_id"=>nil}}
[31mUnpermitted parameter: :json_schema. Context: { controller: FlowsController, action: create, request: #<ActionDispatch::Request:0x0000000124f3c1c0>, params: {"flow"=>{"name"=>"TestFlow", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}, "city_id"=>nil}, "controller"=>"flows", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.03ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.3ms | ActiveRecord: 1.8ms | Allocations: 1103)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:06.962792"], ["updated_at", "2025-08-17 01:50:06.962792"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 4"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 4"], ["created_at", "2025-08-17 01:50:06.965522"], ["updated_at", "2025-08-17 01:50:06.965522"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 4"], ["country_id", 143], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 4"], ["country_id", 143], ["created_at", "2025-08-17 01:50:06.967195"], ["updated_at", "2025-08-17 01:50:06.967195"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:50:06 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"TestFlow", "json_schema"=>{"invalid"=>"structure"}, "city_id"=>"117"}}
[31mUnpermitted parameter: :json_schema. Context: { controller: FlowsController, action: create, request: #<ActionDispatch::Request:0x000000012451aac0>, params: {"flow"=>{"name"=>"TestFlow", "json_schema"=>{"invalid"=>"structure"}, "city_id"=>"117"}, "controller"=>"flows", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.03ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 1066)
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:06.975918"], ["updated_at", "2025-08-17 01:50:06.975918"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 5"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 5"], ["created_at", "2025-08-17 01:50:06.978479"], ["updated_at", "2025-08-17 01:50:06.978479"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 5"], ["country_id", 144], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 5"], ["country_id", 144], ["created_at", "2025-08-17 01:50:06.980181"], ["updated_at", "2025-08-17 01:50:06.980181"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow1"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.6ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "be204792-34a3-43b2-b9c2-09135fd73e15"], ["name", "Flow1"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 118], ["country_id", nil], ["created_at", "2025-08-17 01:50:06.981972"], ["updated_at", "2025-08-17 01:50:06.981972"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/be204792-34a3-43b2-b9c2-09135fd73e15" for 127.0.0.1 at 2025-08-16 20:50:06 -0500
Processing by FlowsController#show as HTML
  Parameters: {"id"=>"be204792-34a3-43b2-b9c2-09135fd73e15"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "be204792-34a3-43b2-b9c2-09135fd73e15"], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 118], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 144], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (6.89ms)
Completed 200 OK in 16ms (Views: 10.9ms | ActiveRecord: 0.9ms | Allocations: 4905)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (3.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:07.006957"], ["updated_at", "2025-08-17 01:50:07.006957"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/invalid-uuid" for 127.0.0.1 at 2025-08-16 20:50:07 -0500
Processing by FlowsController#show as HTML
  Parameters: {"id"=>"invalid-uuid"}
  [1m[36mFlow Load (0.3ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.03ms)
Filter chain halted as :set_flow rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 313)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:07.014381"], ["updated_at", "2025-08-17 01:50:07.014381"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 6"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 6"], ["created_at", "2025-08-17 01:50:07.017289"], ["updated_at", "2025-08-17 01:50:07.017289"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (4.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 6"], ["country_id", 145], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 6"], ["country_id", 145], ["created_at", "2025-08-17 01:50:07.023247"], ["updated_at", "2025-08-17 01:50:07.023247"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (3.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow2"], ["LIMIT", 1]]
  [1m[36mFlow Create (4.6ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "853a1440-30bb-415b-9212-9823f474a7ee"], ["name", "Flow2"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 119], ["country_id", nil], ["created_at", "2025-08-17 01:50:07.029507"], ["updated_at", "2025-08-17 01:50:07.029507"]]
  [1m[36mTRANSACTION (7.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/flows/853a1440-30bb-415b-9212-9823f474a7ee" for 127.0.0.1 at 2025-08-16 20:50:07 -0500
Processing by FlowsController#update as HTML
  Parameters: {"flow"=>{"name"=>"UpdatedFlow", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "id"=>"853a1440-30bb-415b-9212-9823f474a7ee"}
  [1m[36mFlow Load (3.5ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "853a1440-30bb-415b-9212-9823f474a7ee"], ["LIMIT", 1]]
[31mUnpermitted parameter: :json_schema. Context: { controller: FlowsController, action: update, request: #<ActionDispatch::Request:0x0000000123d3d848>, params: {"flow"=>{"name"=>"UpdatedFlow", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "controller"=>"flows", "action"=>"update", "id"=>"853a1440-30bb-415b-9212-9823f474a7ee"} }[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 AND "flows"."id" != $2 LIMIT $3[0m  [["name", "UpdatedFlow"], ["id", "853a1440-30bb-415b-9212-9823f474a7ee"], ["LIMIT", 1]]
  [1m[36mFlow Update (0.7ms)[0m  [1m[33mUPDATE "flows" SET "name" = $1, "updated_at" = $2 WHERE "flows"."id" = $3[0m  [["name", "UpdatedFlow"], ["updated_at", "2025-08-17 01:50:07.050164"], ["id", "853a1440-30bb-415b-9212-9823f474a7ee"]]
  [1m[36mTRANSACTION (17.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers]   [1m[36mCity Load (27.4ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 119], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 145], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (28.93ms)
Completed 200 OK in 55ms (Views: 1.6ms | ActiveRecord: 53.0ms | Allocations: 1925)
  [1m[36mFlow Load (33.6ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "853a1440-30bb-415b-9212-9823f474a7ee"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (3.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:07.140103"], ["updated_at", "2025-08-17 01:50:07.140103"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 7"], ["LIMIT", 1]]
  [1m[36mCountry Create (1.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 7"], ["created_at", "2025-08-17 01:50:07.152020"], ["updated_at", "2025-08-17 01:50:07.152020"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 7"], ["country_id", 146], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 7"], ["country_id", 146], ["created_at", "2025-08-17 01:50:07.155613"], ["updated_at", "2025-08-17 01:50:07.155613"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow3"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "106fdd04-1be8-44bf-9daf-ccc533e46322"], ["name", "Flow3"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 120], ["country_id", nil], ["created_at", "2025-08-17 01:50:07.157219"], ["updated_at", "2025-08-17 01:50:07.157219"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/flows/106fdd04-1be8-44bf-9daf-ccc533e46322" for 127.0.0.1 at 2025-08-16 20:50:07 -0500
Processing by FlowsController#update as HTML
  Parameters: {"flow"=>{"name"=>"Invalid Flow Name", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "id"=>"106fdd04-1be8-44bf-9daf-ccc533e46322"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "106fdd04-1be8-44bf-9daf-ccc533e46322"], ["LIMIT", 1]]
[31mUnpermitted parameter: :json_schema. Context: { controller: FlowsController, action: update, request: #<ActionDispatch::Request:0x0000000125ebaa20>, params: {"flow"=>{"name"=>"Invalid Flow Name", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "controller"=>"flows", "action"=>"update", "id"=>"106fdd04-1be8-44bf-9daf-ccc533e46322"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 AND "flows"."id" != $2 LIMIT $3[0m  [["name", "Invalid Flow Name"], ["id", "106fdd04-1be8-44bf-9daf-ccc533e46322"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Completed 422 Unprocessable Content in 4ms (Views: 0.3ms | ActiveRecord: 2.0ms | Allocations: 1227)
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:07.167989"], ["updated_at", "2025-08-17 01:50:07.167989"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 8"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 8"], ["created_at", "2025-08-17 01:50:07.171788"], ["updated_at", "2025-08-17 01:50:07.171788"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 8"], ["country_id", 147], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 8"], ["country_id", 147], ["created_at", "2025-08-17 01:50:07.174675"], ["updated_at", "2025-08-17 01:50:07.174675"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow4"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "6356d181-fcb7-4004-ba4b-460fd176fb40"], ["name", "Flow4"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 121], ["country_id", nil], ["created_at", "2025-08-17 01:50:07.176200"], ["updated_at", "2025-08-17 01:50:07.176200"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
Started DELETE "/flows/6356d181-fcb7-4004-ba4b-460fd176fb40" for 127.0.0.1 at 2025-08-16 20:50:07 -0500
Processing by FlowsController#destroy as HTML
  Parameters: {"id"=>"6356d181-fcb7-4004-ba4b-460fd176fb40"}
  [1m[36mFlow Load (0.5ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "6356d181-fcb7-4004-ba4b-460fd176fb40"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlowSolution Load (0.7ms)[0m  [1m[34mSELECT "flow_solutions".* FROM "flow_solutions" WHERE "flow_solutions"."flow_id" = $1[0m  [["flow_id", "6356d181-fcb7-4004-ba4b-460fd176fb40"]]
  [1m[36mFlow Destroy (0.4ms)[0m  [1m[31mDELETE FROM "flows" WHERE "flows"."id" = $1[0m  [["id", "6356d181-fcb7-4004-ba4b-460fd176fb40"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 12ms (ActiveRecord: 5.4ms | Allocations: 4803)
  [1m[36mFlow Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:07.198534"], ["updated_at", "2025-08-17 01:50:07.198534"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 9"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 9"], ["created_at", "2025-08-17 01:50:07.201325"], ["updated_at", "2025-08-17 01:50:07.201325"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 9"], ["country_id", 148], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 9"], ["country_id", 148], ["created_at", "2025-08-17 01:50:07.204556"], ["updated_at", "2025-08-17 01:50:07.204556"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "UniqueFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "3117e9de-2e1d-49db-a98f-f06f8deeeea4"], ["name", "UniqueFlow"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 122], ["country_id", nil], ["created_at", "2025-08-17 01:50:07.206708"], ["updated_at", "2025-08-17 01:50:07.206708"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_name/UniqueFlow" for 127.0.0.1 at 2025-08-16 20:50:07 -0500
Processing by FlowsController#by_name as HTML
  Parameters: {"name"=>"UniqueFlow"}
  [1m[36mFlow Load (0.3ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "UniqueFlow"], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCity Load (1.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 122], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 148], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (2.83ms)
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 1.5ms | Allocations: 977)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:07.217275"], ["updated_at", "2025-08-17 01:50:07.217275"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 10"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 10"], ["created_at", "2025-08-17 01:50:07.220096"], ["updated_at", "2025-08-17 01:50:07.220096"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 10"], ["country_id", 149], ["LIMIT", 1]]
  [1m[36mCity Create (0.7ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 10"], ["country_id", 149], ["created_at", "2025-08-17 01:50:07.221980"], ["updated_at", "2025-08-17 01:50:07.221980"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "UniqueFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "d5914f80-f972-4431-bea2-b4b35a47efdc"], ["name", "UniqueFlow"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 123], ["country_id", nil], ["created_at", "2025-08-17 01:50:07.223615"], ["updated_at", "2025-08-17 01:50:07.223615"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_name/NonExistentFlow" for 127.0.0.1 at 2025-08-16 20:50:07 -0500
Processing by FlowsController#by_name as HTML
  Parameters: {"name"=>"NonExistentFlow"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "NonExistentFlow"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.01ms)
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 277)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (5.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:07.233389"], ["updated_at", "2025-08-17 01:50:07.233389"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 11"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 11"], ["created_at", "2025-08-17 01:50:07.235211"], ["updated_at", "2025-08-17 01:50:07.235211"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 11"], ["country_id", 150], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 11"], ["country_id", 150], ["created_at", "2025-08-17 01:50:07.237108"], ["updated_at", "2025-08-17 01:50:07.237108"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow5"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.9ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "f2a427a6-2f4a-4b50-abd5-46f480cf4c91"], ["name", "Flow5"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 124], ["country_id", nil], ["created_at", "2025-08-17 01:50:07.239528"], ["updated_at", "2025-08-17 01:50:07.239528"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow6"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "298f1c05-8bfd-46ed-bc83-b169f4e48c0e"], ["name", "Flow6"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 124], ["country_id", nil], ["created_at", "2025-08-17 01:50:07.241934"], ["updated_at", "2025-08-17 01:50:07.241934"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 12"], ["country_id", 150], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 12"], ["country_id", 150], ["created_at", "2025-08-17 01:50:07.244210"], ["updated_at", "2025-08-17 01:50:07.244210"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow7"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "d67de4cf-4a1a-4cb5-a04d-17300c39a0b3"], ["name", "Flow7"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 125], ["country_id", nil], ["created_at", "2025-08-17 01:50:07.246155"], ["updated_at", "2025-08-17 01:50:07.246155"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_city/124" for 127.0.0.1 at 2025-08-16 20:50:07 -0500
Processing by FlowsController#by_city as HTML
  Parameters: {"city_id"=>"124"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."city_id" = $1[0m  [["city_id", 124]]
[active_model_serializers]   [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 150], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCACHE City Load (0.0ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCACHE Country Load (0.0ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 150], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.73ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.6ms | Allocations: 1601)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:07.256566"], ["updated_at", "2025-08-17 01:50:07.256566"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 12"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 12"], ["created_at", "2025-08-17 01:50:07.258206"], ["updated_at", "2025-08-17 01:50:07.258206"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 13"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 13"], ["created_at", "2025-08-17 01:50:07.261541"], ["updated_at", "2025-08-17 01:50:07.261541"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 13"], ["country_id", 152], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 13"], ["country_id", 152], ["created_at", "2025-08-17 01:50:07.263761"], ["updated_at", "2025-08-17 01:50:07.263761"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow8"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "91fbb3e9-0cd8-4b30-b0dc-25c73a24a093"], ["name", "Flow8"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 126], ["country_id", 151], ["created_at", "2025-08-17 01:50:07.265430"], ["updated_at", "2025-08-17 01:50:07.265430"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 14"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 14"], ["created_at", "2025-08-17 01:50:07.267461"], ["updated_at", "2025-08-17 01:50:07.267461"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (4.1ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 14"], ["country_id", 153], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 14"], ["country_id", 153], ["created_at", "2025-08-17 01:50:07.273049"], ["updated_at", "2025-08-17 01:50:07.273049"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow9"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "7730ec6a-5154-40cc-b1e8-60475e622a86"], ["name", "Flow9"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 127], ["country_id", 151], ["created_at", "2025-08-17 01:50:07.275082"], ["updated_at", "2025-08-17 01:50:07.275082"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 15"], ["LIMIT", 1]]
  [1m[36mCountry Create (1.6ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 15"], ["created_at", "2025-08-17 01:50:07.276909"], ["updated_at", "2025-08-17 01:50:07.276909"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 16"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 16"], ["created_at", "2025-08-17 01:50:07.281811"], ["updated_at", "2025-08-17 01:50:07.281811"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 15"], ["country_id", 155], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 15"], ["country_id", 155], ["created_at", "2025-08-17 01:50:07.283568"], ["updated_at", "2025-08-17 01:50:07.283568"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow10"], ["LIMIT", 1]]
  [1m[36mFlow Create (1.0ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "e4d19ba0-1b25-42f3-8c1c-c0d681315957"], ["name", "Flow10"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 128], ["country_id", 154], ["created_at", "2025-08-17 01:50:07.285224"], ["updated_at", "2025-08-17 01:50:07.285224"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_country/151" for 127.0.0.1 at 2025-08-16 20:50:07 -0500
Processing by FlowsController#by_country as HTML
  Parameters: {"country_id"=>"151"}
  [1m[36mFlow Load (0.3ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."country_id" = $1[0m  [["country_id", 151]]
[active_model_serializers]   [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 126], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 152], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 151], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCity Load (1.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.6ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 153], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCACHE Country Load (0.0ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 151], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (4.98ms)
Completed 200 OK in 6ms (Views: 3.5ms | ActiveRecord: 2.7ms | Allocations: 2186)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:07.298502"], ["updated_at", "2025-08-17 01:50:07.298502"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 17"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 17"], ["created_at", "2025-08-17 01:50:07.300539"], ["updated_at", "2025-08-17 01:50:07.300539"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 16"], ["country_id", 156], ["LIMIT", 1]]
  [1m[36mCity Create (0.5ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 16"], ["country_id", 156], ["created_at", "2025-08-17 01:50:07.304166"], ["updated_at", "2025-08-17 01:50:07.304166"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:50:07 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"TestFlow", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}, "city_id"=>"129"}}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 164)
  [1m[36mTRANSACTION (5.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:07.320758"], ["updated_at", "2025-08-17 01:50:07.320758"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 18"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 18"], ["created_at", "2025-08-17 01:50:07.323506"], ["updated_at", "2025-08-17 01:50:07.323506"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 17"], ["country_id", 157], ["LIMIT", 1]]
  [1m[36mCity Create (0.5ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 17"], ["country_id", 157], ["created_at", "2025-08-17 01:50:07.325926"], ["updated_at", "2025-08-17 01:50:07.325926"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (18.1ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow11"], ["LIMIT", 1]]
  [1m[36mFlow Create (31.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "6abbc49f-cde3-45f1-b0d2-49185c5fcc22"], ["name", "Flow11"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 130], ["country_id", nil], ["created_at", "2025-08-17 01:50:07.349225"], ["updated_at", "2025-08-17 01:50:07.349225"]]
  [1m[36mTRANSACTION (5.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/6abbc49f-cde3-45f1-b0d2-49185c5fcc22" for 127.0.0.1 at 2025-08-16 20:50:07 -0500
Processing by FlowsController#show as HTML
  Parameters: {"id"=>"6abbc49f-cde3-45f1-b0d2-49185c5fcc22"}
Completed 401 Unauthorized in 5ms (ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:49.687630"], ["updated_at", "2025-08-17 01:50:49.687630"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:49.697512"], ["updated_at", "2025-08-17 01:50:49.697512"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 1"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 1"], ["created_at", "2025-08-17 01:50:49.714483"], ["updated_at", "2025-08-17 01:50:49.714483"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 1"], ["country_id", 158], ["LIMIT", 1]]
  [1m[36mCity Create (0.6ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 1"], ["country_id", 158], ["created_at", "2025-08-17 01:50:49.730239"], ["updated_at", "2025-08-17 01:50:49.730239"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:50:49 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"TestFlow", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}, "city_id"=>"131"}}
[31mUnpermitted parameter: :json_schema. Context: { controller: FlowsController, action: create, request: #<ActionDispatch::Request:0x0000000124e9bd60>, params: {"flow"=>{"name"=>"TestFlow", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}, "city_id"=>"131"}, "controller"=>"flows", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.04ms)
Completed 422 Unprocessable Content in 141ms (Views: 1.0ms | ActiveRecord: 1.1ms | Allocations: 290895)
  [1m[36mFlow Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:49.886042"], ["updated_at", "2025-08-17 01:50:49.886042"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:49.888908"], ["updated_at", "2025-08-17 01:50:49.888908"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 2"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 2"], ["created_at", "2025-08-17 01:50:49.891749"], ["updated_at", "2025-08-17 01:50:49.891749"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 2"], ["country_id", 159], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 2"], ["country_id", 159], ["created_at", "2025-08-17 01:50:49.893427"], ["updated_at", "2025-08-17 01:50:49.893427"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:50:49 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}, "city_id"=>"132"}}
[31mUnpermitted parameter: :json_schema. Context: { controller: FlowsController, action: create, request: #<ActionDispatch::Request:0x0000000124698708>, params: {"flow"=>{"name"=>"", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}, "city_id"=>"132"}, "controller"=>"flows", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.03ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.3ms | ActiveRecord: 0.6ms | Allocations: 2241)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:49.902002"], ["updated_at", "2025-08-17 01:50:49.902002"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:49.904685"], ["updated_at", "2025-08-17 01:50:49.904685"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 3"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 3"], ["created_at", "2025-08-17 01:50:49.906518"], ["updated_at", "2025-08-17 01:50:49.906518"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 3"], ["country_id", 160], ["LIMIT", 1]]
  [1m[36mCity Create (0.5ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 3"], ["country_id", 160], ["created_at", "2025-08-17 01:50:49.908983"], ["updated_at", "2025-08-17 01:50:49.908983"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:50:49 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"TestFlow", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}, "city_id"=>nil}}
[31mUnpermitted parameter: :json_schema. Context: { controller: FlowsController, action: create, request: #<ActionDispatch::Request:0x0000000123fd2c70>, params: {"flow"=>{"name"=>"TestFlow", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}, "city_id"=>nil}, "controller"=>"flows", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.03ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.5ms | ActiveRecord: 0.6ms | Allocations: 1696)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:49.917581"], ["updated_at", "2025-08-17 01:50:49.917581"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:49.920515"], ["updated_at", "2025-08-17 01:50:49.920515"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 4"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 4"], ["created_at", "2025-08-17 01:50:49.922092"], ["updated_at", "2025-08-17 01:50:49.922092"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 4"], ["country_id", 161], ["LIMIT", 1]]
  [1m[36mCity Create (0.6ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 4"], ["country_id", 161], ["created_at", "2025-08-17 01:50:49.923549"], ["updated_at", "2025-08-17 01:50:49.923549"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:50:49 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"TestFlow", "json_schema"=>{"invalid"=>"structure"}, "city_id"=>"134"}}
[31mUnpermitted parameter: :json_schema. Context: { controller: FlowsController, action: create, request: #<ActionDispatch::Request:0x0000000125132c68>, params: {"flow"=>{"name"=>"TestFlow", "json_schema"=>{"invalid"=>"structure"}, "city_id"=>"134"}, "controller"=>"flows", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.03ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.4ms | ActiveRecord: 1.0ms | Allocations: 1659)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:49.931594"], ["updated_at", "2025-08-17 01:50:49.931594"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (5.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:49.935924"], ["updated_at", "2025-08-17 01:50:49.935924"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 5"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 5"], ["created_at", "2025-08-17 01:50:49.943949"], ["updated_at", "2025-08-17 01:50:49.943949"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 5"], ["country_id", 162], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 5"], ["country_id", 162], ["created_at", "2025-08-17 01:50:49.945297"], ["updated_at", "2025-08-17 01:50:49.945297"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow1"], ["LIMIT", 1]]
  [1m[36mFlow Create (4.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "940dcc52-c589-4e87-8d0f-ab82f02f8ca6"], ["name", "Flow1"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 135], ["country_id", nil], ["created_at", "2025-08-17 01:50:49.946866"], ["updated_at", "2025-08-17 01:50:49.946866"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/940dcc52-c589-4e87-8d0f-ab82f02f8ca6" for 127.0.0.1 at 2025-08-16 20:50:49 -0500
Processing by FlowsController#show as HTML
  Parameters: {"id"=>"940dcc52-c589-4e87-8d0f-ab82f02f8ca6"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "940dcc52-c589-4e87-8d0f-ab82f02f8ca6"], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 135], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 162], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (3.89ms)
Completed 200 OK in 7ms (Views: 4.2ms | ActiveRecord: 0.9ms | Allocations: 3770)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:49.963456"], ["updated_at", "2025-08-17 01:50:49.963456"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:49.974110"], ["updated_at", "2025-08-17 01:50:49.974110"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/invalid-uuid" for 127.0.0.1 at 2025-08-16 20:50:49 -0500
Processing by FlowsController#show as HTML
  Parameters: {"id"=>"invalid-uuid"}
  [1m[36mFlow Load (0.5ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Filter chain halted as :set_flow rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 902)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:49.980826"], ["updated_at", "2025-08-17 01:50:49.980826"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:49.984106"], ["updated_at", "2025-08-17 01:50:49.984106"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 6"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 6"], ["created_at", "2025-08-17 01:50:49.986096"], ["updated_at", "2025-08-17 01:50:49.986096"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 6"], ["country_id", 163], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 6"], ["country_id", 163], ["created_at", "2025-08-17 01:50:49.987545"], ["updated_at", "2025-08-17 01:50:49.987545"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow2"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "25e73deb-4b18-4262-8486-efa9be15643e"], ["name", "Flow2"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 136], ["country_id", nil], ["created_at", "2025-08-17 01:50:49.988820"], ["updated_at", "2025-08-17 01:50:49.988820"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/flows/25e73deb-4b18-4262-8486-efa9be15643e" for 127.0.0.1 at 2025-08-16 20:50:49 -0500
Processing by FlowsController#update as HTML
  Parameters: {"flow"=>{"name"=>"UpdatedFlow", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "id"=>"25e73deb-4b18-4262-8486-efa9be15643e"}
  [1m[36mFlow Load (0.8ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "25e73deb-4b18-4262-8486-efa9be15643e"], ["LIMIT", 1]]
[31mUnpermitted parameter: :json_schema. Context: { controller: FlowsController, action: update, request: #<ActionDispatch::Request:0x0000000124d982b0>, params: {"flow"=>{"name"=>"UpdatedFlow", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "controller"=>"flows", "action"=>"update", "id"=>"25e73deb-4b18-4262-8486-efa9be15643e"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 AND "flows"."id" != $2 LIMIT $3[0m  [["name", "UpdatedFlow"], ["id", "25e73deb-4b18-4262-8486-efa9be15643e"], ["LIMIT", 1]]
  [1m[36mFlow Update (0.4ms)[0m  [1m[33mUPDATE "flows" SET "name" = $1, "updated_at" = $2 WHERE "flows"."id" = $3[0m  [["name", "UpdatedFlow"], ["updated_at", "2025-08-17 01:50:49.994590"], ["id", "25e73deb-4b18-4262-8486-efa9be15643e"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers]   [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 136], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 163], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (1.11ms)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 2.3ms | Allocations: 2519)
  [1m[36mFlow Load (0.3ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "25e73deb-4b18-4262-8486-efa9be15643e"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (5.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (5.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:50.006998"], ["updated_at", "2025-08-17 01:50:50.006998"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:50.010207"], ["updated_at", "2025-08-17 01:50:50.010207"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 7"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 7"], ["created_at", "2025-08-17 01:50:50.011943"], ["updated_at", "2025-08-17 01:50:50.011943"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 7"], ["country_id", 164], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 7"], ["country_id", 164], ["created_at", "2025-08-17 01:50:50.013069"], ["updated_at", "2025-08-17 01:50:50.013069"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow3"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "d448c808-bf7f-44df-b005-616a46899841"], ["name", "Flow3"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 137], ["country_id", nil], ["created_at", "2025-08-17 01:50:50.014319"], ["updated_at", "2025-08-17 01:50:50.014319"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/flows/d448c808-bf7f-44df-b005-616a46899841" for 127.0.0.1 at 2025-08-16 20:50:50 -0500
Processing by FlowsController#update as HTML
  Parameters: {"flow"=>{"name"=>"Invalid Flow Name", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "id"=>"d448c808-bf7f-44df-b005-616a46899841"}
  [1m[36mFlow Load (0.4ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "d448c808-bf7f-44df-b005-616a46899841"], ["LIMIT", 1]]
[31mUnpermitted parameter: :json_schema. Context: { controller: FlowsController, action: update, request: #<ActionDispatch::Request:0x00000001245f3fc8>, params: {"flow"=>{"name"=>"Invalid Flow Name", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "controller"=>"flows", "action"=>"update", "id"=>"d448c808-bf7f-44df-b005-616a46899841"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 AND "flows"."id" != $2 LIMIT $3[0m  [["name", "Invalid Flow Name"], ["id", "d448c808-bf7f-44df-b005-616a46899841"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Completed 422 Unprocessable Content in 3ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 1820)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:50.022864"], ["updated_at", "2025-08-17 01:50:50.022864"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:50.025661"], ["updated_at", "2025-08-17 01:50:50.025661"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 8"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 8"], ["created_at", "2025-08-17 01:50:50.027675"], ["updated_at", "2025-08-17 01:50:50.027675"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 8"], ["country_id", 165], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 8"], ["country_id", 165], ["created_at", "2025-08-17 01:50:50.028939"], ["updated_at", "2025-08-17 01:50:50.028939"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow4"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "0f82bedf-027c-42ac-9242-1cddede81b6f"], ["name", "Flow4"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 138], ["country_id", nil], ["created_at", "2025-08-17 01:50:50.030017"], ["updated_at", "2025-08-17 01:50:50.030017"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
Started DELETE "/flows/0f82bedf-027c-42ac-9242-1cddede81b6f" for 127.0.0.1 at 2025-08-16 20:50:50 -0500
Processing by FlowsController#destroy as HTML
  Parameters: {"id"=>"0f82bedf-027c-42ac-9242-1cddede81b6f"}
  [1m[36mFlow Load (0.4ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "0f82bedf-027c-42ac-9242-1cddede81b6f"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlowSolution Load (0.7ms)[0m  [1m[34mSELECT "flow_solutions".* FROM "flow_solutions" WHERE "flow_solutions"."flow_id" = $1[0m  [["flow_id", "0f82bedf-027c-42ac-9242-1cddede81b6f"]]
  [1m[36mFlow Destroy (0.5ms)[0m  [1m[31mDELETE FROM "flows" WHERE "flows"."id" = $1[0m  [["id", "0f82bedf-027c-42ac-9242-1cddede81b6f"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 7ms (ActiveRecord: 3.0ms | Allocations: 3478)
  [1m[36mFlow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (3.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:50.042229"], ["updated_at", "2025-08-17 01:50:50.042229"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:50.048923"], ["updated_at", "2025-08-17 01:50:50.048923"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 9"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 9"], ["created_at", "2025-08-17 01:50:50.050736"], ["updated_at", "2025-08-17 01:50:50.050736"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 9"], ["country_id", 166], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 9"], ["country_id", 166], ["created_at", "2025-08-17 01:50:50.051889"], ["updated_at", "2025-08-17 01:50:50.051889"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "UniqueFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (1.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "5a6faea9-71cf-4430-b361-9b5d209de5d6"], ["name", "UniqueFlow"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 139], ["country_id", nil], ["created_at", "2025-08-17 01:50:50.053071"], ["updated_at", "2025-08-17 01:50:50.053071"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_name/UniqueFlow" for 127.0.0.1 at 2025-08-16 20:50:50 -0500
Processing by FlowsController#by_name as HTML
  Parameters: {"name"=>"UniqueFlow"}
  [1m[36mFlow Load (0.3ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "UniqueFlow"], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 139], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (1.9ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 166], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (2.93ms)
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 2.5ms | Allocations: 1569)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (5.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:50.070013"], ["updated_at", "2025-08-17 01:50:50.070013"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:50.073108"], ["updated_at", "2025-08-17 01:50:50.073108"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 10"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.8ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 10"], ["created_at", "2025-08-17 01:50:50.076188"], ["updated_at", "2025-08-17 01:50:50.076188"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 10"], ["country_id", 167], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 10"], ["country_id", 167], ["created_at", "2025-08-17 01:50:50.078167"], ["updated_at", "2025-08-17 01:50:50.078167"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "UniqueFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "f6d37100-2240-4820-a6e9-b31ff5841f6b"], ["name", "UniqueFlow"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 140], ["country_id", nil], ["created_at", "2025-08-17 01:50:50.079290"], ["updated_at", "2025-08-17 01:50:50.079290"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_name/NonExistentFlow" for 127.0.0.1 at 2025-08-16 20:50:50 -0500
Processing by FlowsController#by_name as HTML
  Parameters: {"name"=>"NonExistentFlow"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "NonExistentFlow"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 869)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:50.086442"], ["updated_at", "2025-08-17 01:50:50.086442"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:50.089154"], ["updated_at", "2025-08-17 01:50:50.089154"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 11"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 11"], ["created_at", "2025-08-17 01:50:50.091445"], ["updated_at", "2025-08-17 01:50:50.091445"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 11"], ["country_id", 168], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 11"], ["country_id", 168], ["created_at", "2025-08-17 01:50:50.093957"], ["updated_at", "2025-08-17 01:50:50.093957"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow5"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "56b95ed2-8753-450b-b387-57a29240895d"], ["name", "Flow5"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 141], ["country_id", nil], ["created_at", "2025-08-17 01:50:50.095249"], ["updated_at", "2025-08-17 01:50:50.095249"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow6"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.5ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "ca6df84e-ff14-4c8f-b19f-63e6c0294fb2"], ["name", "Flow6"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 141], ["country_id", nil], ["created_at", "2025-08-17 01:50:50.097242"], ["updated_at", "2025-08-17 01:50:50.097242"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 12"], ["country_id", 168], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 12"], ["country_id", 168], ["created_at", "2025-08-17 01:50:50.099193"], ["updated_at", "2025-08-17 01:50:50.099193"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow7"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "eca821eb-8544-435c-bd77-1a75d763cccd"], ["name", "Flow7"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 142], ["country_id", nil], ["created_at", "2025-08-17 01:50:50.101204"], ["updated_at", "2025-08-17 01:50:50.101204"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_city/141" for 127.0.0.1 at 2025-08-16 20:50:50 -0500
Processing by FlowsController#by_city as HTML
  Parameters: {"city_id"=>"141"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."city_id" = $1[0m  [["city_id", 141]]
[active_model_serializers]   [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 141], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 168], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCACHE City Load (0.0ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 141], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCACHE Country Load (0.0ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 168], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.4ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.5ms | Allocations: 2192)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:50.111521"], ["updated_at", "2025-08-17 01:50:50.111521"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:50.114827"], ["updated_at", "2025-08-17 01:50:50.114827"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 12"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 12"], ["created_at", "2025-08-17 01:50:50.116644"], ["updated_at", "2025-08-17 01:50:50.116644"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (3.1ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 13"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 13"], ["created_at", "2025-08-17 01:50:50.121285"], ["updated_at", "2025-08-17 01:50:50.121285"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 13"], ["country_id", 170], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 13"], ["country_id", 170], ["created_at", "2025-08-17 01:50:50.122495"], ["updated_at", "2025-08-17 01:50:50.122495"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow8"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.5ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "f649ab03-352b-4ca9-a7c1-c185f13b70f5"], ["name", "Flow8"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 143], ["country_id", 169], ["created_at", "2025-08-17 01:50:50.123893"], ["updated_at", "2025-08-17 01:50:50.123893"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 14"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 14"], ["created_at", "2025-08-17 01:50:50.126039"], ["updated_at", "2025-08-17 01:50:50.126039"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 14"], ["country_id", 171], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 14"], ["country_id", 171], ["created_at", "2025-08-17 01:50:50.127343"], ["updated_at", "2025-08-17 01:50:50.127343"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (6.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow9"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "43d235b8-427f-40aa-95ec-df3032b7b16d"], ["name", "Flow9"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 144], ["country_id", 169], ["created_at", "2025-08-17 01:50:50.134615"], ["updated_at", "2025-08-17 01:50:50.134615"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 15"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 15"], ["created_at", "2025-08-17 01:50:50.136226"], ["updated_at", "2025-08-17 01:50:50.136226"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 16"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 16"], ["created_at", "2025-08-17 01:50:50.137541"], ["updated_at", "2025-08-17 01:50:50.137541"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 15"], ["country_id", 173], ["LIMIT", 1]]
  [1m[36mCity Create (1.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 15"], ["country_id", 173], ["created_at", "2025-08-17 01:50:50.138556"], ["updated_at", "2025-08-17 01:50:50.138556"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow10"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.5ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "55e065d6-b581-4c79-a662-74494f0e3c21"], ["name", "Flow10"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 145], ["country_id", 172], ["created_at", "2025-08-17 01:50:50.142105"], ["updated_at", "2025-08-17 01:50:50.142105"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_country/169" for 127.0.0.1 at 2025-08-16 20:50:50 -0500
Processing by FlowsController#by_country as HTML
  Parameters: {"country_id"=>"169"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."country_id" = $1[0m  [["country_id", 169]]
[active_model_serializers]   [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 143], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 170], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 169], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 144], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 171], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCACHE Country Load (0.0ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 169], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (2.16ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.9ms | Allocations: 2778)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:50.152071"], ["updated_at", "2025-08-17 01:50:50.152071"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:50.155102"], ["updated_at", "2025-08-17 01:50:50.155102"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 17"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 17"], ["created_at", "2025-08-17 01:50:50.157274"], ["updated_at", "2025-08-17 01:50:50.157274"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 16"], ["country_id", 174], ["LIMIT", 1]]
  [1m[36mCity Create (1.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 16"], ["country_id", 174], ["created_at", "2025-08-17 01:50:50.160011"], ["updated_at", "2025-08-17 01:50:50.160011"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:50:50 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"TestFlow", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}, "city_id"=>"146"}}
[31mUnpermitted parameter: :json_schema. Context: { controller: FlowsController, action: create, request: #<ActionDispatch::Request:0x0000000127f594c0>, params: {"flow"=>{"name"=>"TestFlow", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}, "city_id"=>"146"}, "controller"=>"flows", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.4ms | ActiveRecord: 0.7ms | Allocations: 1676)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:50.169859"], ["updated_at", "2025-08-17 01:50:50.169859"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:50:50.173287"], ["updated_at", "2025-08-17 01:50:50.173287"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 18"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 18"], ["created_at", "2025-08-17 01:50:50.176025"], ["updated_at", "2025-08-17 01:50:50.176025"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 17"], ["country_id", 175], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 17"], ["country_id", 175], ["created_at", "2025-08-17 01:50:50.177433"], ["updated_at", "2025-08-17 01:50:50.177433"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow11"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "bdf171eb-dcfb-480d-9612-49248fc0df45"], ["name", "Flow11"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 147], ["country_id", nil], ["created_at", "2025-08-17 01:50:50.178467"], ["updated_at", "2025-08-17 01:50:50.178467"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/bdf171eb-dcfb-480d-9612-49248fc0df45" for 127.0.0.1 at 2025-08-16 20:50:50 -0500
Processing by FlowsController#show as HTML
  Parameters: {"id"=>"bdf171eb-dcfb-480d-9612-49248fc0df45"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "bdf171eb-dcfb-480d-9612-49248fc0df45"], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 147], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.7ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 175], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (2.08ms)
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 1.2ms | Allocations: 1464)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (4.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:51:44.511599"], ["updated_at", "2025-08-17 01:51:44.511599"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:51:44.521122"], ["updated_at", "2025-08-17 01:51:44.521122"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Count (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 1"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 1"], ["created_at", "2025-08-17 01:51:44.537472"], ["updated_at", "2025-08-17 01:51:44.537472"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 1"], ["country_id", 176], ["LIMIT", 1]]
  [1m[36mCity Create (2.1ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 1"], ["country_id", 176], ["created_at", "2025-08-17 01:51:44.549464"], ["updated_at", "2025-08-17 01:51:44.549464"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:51:44 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"TestFlow", "json_schema"=>"{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}", "city_id"=>"148"}}
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 6ms (ActiveRecord: 1.7ms | Allocations: 7109)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:51:44.567569"], ["updated_at", "2025-08-17 01:51:44.567569"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:51:44.572055"], ["updated_at", "2025-08-17 01:51:44.572055"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 2"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 2"], ["created_at", "2025-08-17 01:51:44.575762"], ["updated_at", "2025-08-17 01:51:44.575762"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 2"], ["country_id", 177], ["LIMIT", 1]]
  [1m[36mCity Create (3.1ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 2"], ["country_id", 177], ["created_at", "2025-08-17 01:51:44.577539"], ["updated_at", "2025-08-17 01:51:44.577539"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:51:44 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"", "json_schema"=>"{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}", "city_id"=>"149"}}
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (2.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 4.9ms | Allocations: 945)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:51:44.601260"], ["updated_at", "2025-08-17 01:51:44.601260"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:51:44.604407"], ["updated_at", "2025-08-17 01:51:44.604407"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 3"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 3"], ["created_at", "2025-08-17 01:51:44.605728"], ["updated_at", "2025-08-17 01:51:44.605728"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 3"], ["country_id", 178], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 3"], ["country_id", 178], ["created_at", "2025-08-17 01:51:44.608285"], ["updated_at", "2025-08-17 01:51:44.608285"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:51:44 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"TestFlow", "json_schema"=>"{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}", "city_id"=>nil}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.7ms | Allocations: 929)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:51:44.616055"], ["updated_at", "2025-08-17 01:51:44.616055"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:51:44.620264"], ["updated_at", "2025-08-17 01:51:44.620264"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 4"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 4"], ["created_at", "2025-08-17 01:51:44.621529"], ["updated_at", "2025-08-17 01:51:44.621529"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 4"], ["country_id", 179], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 4"], ["country_id", 179], ["created_at", "2025-08-17 01:51:44.623193"], ["updated_at", "2025-08-17 01:51:44.623193"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:51:44 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"TestFlow", "json_schema"=>"{\"invalid\":\"structure\"}", "city_id"=>"151"}}
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.03ms)
Completed 422 Unprocessable Content in 125ms (Views: 1.0ms | ActiveRecord: 1.7ms | Allocations: 284209)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:51:44.757495"], ["updated_at", "2025-08-17 01:51:44.757495"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:51:44.761104"], ["updated_at", "2025-08-17 01:51:44.761104"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 5"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.8ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 5"], ["created_at", "2025-08-17 01:51:44.764282"], ["updated_at", "2025-08-17 01:51:44.764282"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 5"], ["country_id", 180], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 5"], ["country_id", 180], ["created_at", "2025-08-17 01:51:44.766477"], ["updated_at", "2025-08-17 01:51:44.766477"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow1"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.6ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "90a28a43-275a-4168-8fd2-dcd68bb5ff2a"], ["name", "Flow1"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 152], ["country_id", nil], ["created_at", "2025-08-17 01:51:44.768188"], ["updated_at", "2025-08-17 01:51:44.768188"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/90a28a43-275a-4168-8fd2-dcd68bb5ff2a" for 127.0.0.1 at 2025-08-16 20:51:44 -0500
Processing by FlowsController#show as HTML
  Parameters: {"id"=>"90a28a43-275a-4168-8fd2-dcd68bb5ff2a"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "90a28a43-275a-4168-8fd2-dcd68bb5ff2a"], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 152], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 180], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (2.4ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.6ms | Allocations: 3736)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:51:44.780257"], ["updated_at", "2025-08-17 01:51:44.780257"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:51:44.783532"], ["updated_at", "2025-08-17 01:51:44.783532"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/invalid-uuid" for 127.0.0.1 at 2025-08-16 20:51:44 -0500
Processing by FlowsController#show as HTML
  Parameters: {"id"=>"invalid-uuid"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.04ms)
Filter chain halted as :set_flow rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 864)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:51:44.790622"], ["updated_at", "2025-08-17 01:51:44.790622"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:51:44.794694"], ["updated_at", "2025-08-17 01:51:44.794694"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 6"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 6"], ["created_at", "2025-08-17 01:51:44.797751"], ["updated_at", "2025-08-17 01:51:44.797751"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 6"], ["country_id", 181], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 6"], ["country_id", 181], ["created_at", "2025-08-17 01:51:44.799220"], ["updated_at", "2025-08-17 01:51:44.799220"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow2"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "c4532d9d-7f8d-4dea-8585-7b138afcb5fc"], ["name", "Flow2"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 153], ["country_id", nil], ["created_at", "2025-08-17 01:51:44.800636"], ["updated_at", "2025-08-17 01:51:44.800636"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/flows/c4532d9d-7f8d-4dea-8585-7b138afcb5fc" for 127.0.0.1 at 2025-08-16 20:51:44 -0500
Processing by FlowsController#update as HTML
  Parameters: {"flow"=>{"name"=>"UpdatedFlow", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "id"=>"c4532d9d-7f8d-4dea-8585-7b138afcb5fc"}
  [1m[36mFlow Load (0.4ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "c4532d9d-7f8d-4dea-8585-7b138afcb5fc"], ["LIMIT", 1]]
[31mUnpermitted parameter: :json_schema. Context: { controller: FlowsController, action: update, request: #<ActionDispatch::Request:0x00000001277dece0>, params: {"flow"=>{"name"=>"UpdatedFlow", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "controller"=>"flows", "action"=>"update", "id"=>"c4532d9d-7f8d-4dea-8585-7b138afcb5fc"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 AND "flows"."id" != $2 LIMIT $3[0m  [["name", "UpdatedFlow"], ["id", "c4532d9d-7f8d-4dea-8585-7b138afcb5fc"], ["LIMIT", 1]]
  [1m[36mFlow Update (0.3ms)[0m  [1m[33mUPDATE "flows" SET "name" = $1, "updated_at" = $2 WHERE "flows"."id" = $3[0m  [["name", "UpdatedFlow"], ["updated_at", "2025-08-17 01:51:44.804092"], ["id", "c4532d9d-7f8d-4dea-8585-7b138afcb5fc"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers]   [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 153], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 181], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (1.3ms)
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 1.8ms | Allocations: 2504)
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "c4532d9d-7f8d-4dea-8585-7b138afcb5fc"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:51:44.811256"], ["updated_at", "2025-08-17 01:51:44.811256"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:51:44.814787"], ["updated_at", "2025-08-17 01:51:44.814787"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 7"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 7"], ["created_at", "2025-08-17 01:51:44.819206"], ["updated_at", "2025-08-17 01:51:44.819206"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 7"], ["country_id", 182], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 7"], ["country_id", 182], ["created_at", "2025-08-17 01:51:44.820523"], ["updated_at", "2025-08-17 01:51:44.820523"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow3"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "c496ac20-f11b-4257-af70-7324a24129d3"], ["name", "Flow3"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 154], ["country_id", nil], ["created_at", "2025-08-17 01:51:44.821788"], ["updated_at", "2025-08-17 01:51:44.821788"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/flows/c496ac20-f11b-4257-af70-7324a24129d3" for 127.0.0.1 at 2025-08-16 20:51:44 -0500
Processing by FlowsController#update as HTML
  Parameters: {"flow"=>{"name"=>"Invalid Flow Name", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "id"=>"c496ac20-f11b-4257-af70-7324a24129d3"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "c496ac20-f11b-4257-af70-7324a24129d3"], ["LIMIT", 1]]
[31mUnpermitted parameter: :json_schema. Context: { controller: FlowsController, action: update, request: #<ActionDispatch::Request:0x0000000125b396a8>, params: {"flow"=>{"name"=>"Invalid Flow Name", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "controller"=>"flows", "action"=>"update", "id"=>"c496ac20-f11b-4257-af70-7324a24129d3"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 AND "flows"."id" != $2 LIMIT $3[0m  [["name", "Invalid Flow Name"], ["id", "c496ac20-f11b-4257-af70-7324a24129d3"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Completed 422 Unprocessable Content in 3ms (Views: 0.5ms | ActiveRecord: 1.0ms | Allocations: 1845)
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (4.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:51:44.834879"], ["updated_at", "2025-08-17 01:51:44.834879"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:51:44.842608"], ["updated_at", "2025-08-17 01:51:44.842608"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 8"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 8"], ["created_at", "2025-08-17 01:51:44.844444"], ["updated_at", "2025-08-17 01:51:44.844444"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 8"], ["country_id", 183], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 8"], ["country_id", 183], ["created_at", "2025-08-17 01:51:44.845732"], ["updated_at", "2025-08-17 01:51:44.845732"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow4"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "7a081001-8c11-4822-8548-591e3298e5f3"], ["name", "Flow4"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 155], ["country_id", nil], ["created_at", "2025-08-17 01:51:44.846829"], ["updated_at", "2025-08-17 01:51:44.846829"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
Started DELETE "/flows/7a081001-8c11-4822-8548-591e3298e5f3" for 127.0.0.1 at 2025-08-16 20:51:44 -0500
Processing by FlowsController#destroy as HTML
  Parameters: {"id"=>"7a081001-8c11-4822-8548-591e3298e5f3"}
  [1m[36mFlow Load (0.5ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "7a081001-8c11-4822-8548-591e3298e5f3"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlowSolution Load (0.7ms)[0m  [1m[34mSELECT "flow_solutions".* FROM "flow_solutions" WHERE "flow_solutions"."flow_id" = $1[0m  [["flow_id", "7a081001-8c11-4822-8548-591e3298e5f3"]]
  [1m[36mFlow Destroy (0.5ms)[0m  [1m[31mDELETE FROM "flows" WHERE "flows"."id" = $1[0m  [["id", "7a081001-8c11-4822-8548-591e3298e5f3"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 7ms (ActiveRecord: 3.8ms | Allocations: 3440)
  [1m[36mFlow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:51:44.860608"], ["updated_at", "2025-08-17 01:51:44.860608"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:51:44.863559"], ["updated_at", "2025-08-17 01:51:44.863559"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 9"], ["LIMIT", 1]]
  [1m[36mCountry Create (1.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 9"], ["created_at", "2025-08-17 01:51:44.865614"], ["updated_at", "2025-08-17 01:51:44.865614"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 9"], ["country_id", 184], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 9"], ["country_id", 184], ["created_at", "2025-08-17 01:51:44.868315"], ["updated_at", "2025-08-17 01:51:44.868315"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "UniqueFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "a894f28e-2739-4abd-9092-3b69774824c5"], ["name", "UniqueFlow"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 156], ["country_id", nil], ["created_at", "2025-08-17 01:51:44.870744"], ["updated_at", "2025-08-17 01:51:44.870744"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_name/UniqueFlow" for 127.0.0.1 at 2025-08-16 20:51:44 -0500
Processing by FlowsController#by_name as HTML
  Parameters: {"name"=>"UniqueFlow"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "UniqueFlow"], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 156], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 184], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (0.99ms)
Completed 200 OK in 2ms (Views: 0.9ms | ActiveRecord: 0.5ms | Allocations: 1532)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:51:44.878415"], ["updated_at", "2025-08-17 01:51:44.878415"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:51:44.881674"], ["updated_at", "2025-08-17 01:51:44.881674"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 10"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 10"], ["created_at", "2025-08-17 01:51:44.884445"], ["updated_at", "2025-08-17 01:51:44.884445"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 10"], ["country_id", 185], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 10"], ["country_id", 185], ["created_at", "2025-08-17 01:51:44.885981"], ["updated_at", "2025-08-17 01:51:44.885981"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "UniqueFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "9784702f-2d83-4c9e-b87f-287143562ef4"], ["name", "UniqueFlow"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 157], ["country_id", nil], ["created_at", "2025-08-17 01:51:44.887074"], ["updated_at", "2025-08-17 01:51:44.887074"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_name/NonExistentFlow" for 127.0.0.1 at 2025-08-16 20:51:44 -0500
Processing by FlowsController#by_name as HTML
  Parameters: {"name"=>"NonExistentFlow"}
  [1m[36mFlow Load (0.4ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "NonExistentFlow"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 832)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:51:44.896407"], ["updated_at", "2025-08-17 01:51:44.896407"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:51:44.899489"], ["updated_at", "2025-08-17 01:51:44.899489"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 11"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 11"], ["created_at", "2025-08-17 01:51:44.902977"], ["updated_at", "2025-08-17 01:51:44.902977"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 11"], ["country_id", 186], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 11"], ["country_id", 186], ["created_at", "2025-08-17 01:51:44.904228"], ["updated_at", "2025-08-17 01:51:44.904228"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow5"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "47808250-cbca-4e1a-9054-00e9b7ffc8ba"], ["name", "Flow5"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 158], ["country_id", nil], ["created_at", "2025-08-17 01:51:44.905384"], ["updated_at", "2025-08-17 01:51:44.905384"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow6"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "5f8cd497-57aa-4a7e-88e9-170fd8f59b29"], ["name", "Flow6"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 158], ["country_id", nil], ["created_at", "2025-08-17 01:51:44.906826"], ["updated_at", "2025-08-17 01:51:44.906826"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 12"], ["country_id", 186], ["LIMIT", 1]]
  [1m[36mCity Create (0.6ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 12"], ["country_id", 186], ["created_at", "2025-08-17 01:51:44.908482"], ["updated_at", "2025-08-17 01:51:44.908482"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow7"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "95d9ed2d-c73f-45a3-9562-b8d33369224f"], ["name", "Flow7"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 159], ["country_id", nil], ["created_at", "2025-08-17 01:51:44.910538"], ["updated_at", "2025-08-17 01:51:44.910538"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_city/158" for 127.0.0.1 at 2025-08-16 20:51:44 -0500
Processing by FlowsController#by_city as HTML
  Parameters: {"city_id"=>"158"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."city_id" = $1[0m  [["city_id", 158]]
[active_model_serializers]   [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 158], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.5ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 186], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCACHE City Load (0.0ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 158], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCACHE Country Load (0.0ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 186], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.79ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.8ms | Allocations: 2155)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:51:44.919737"], ["updated_at", "2025-08-17 01:51:44.919737"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:51:44.922536"], ["updated_at", "2025-08-17 01:51:44.922536"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 12"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 12"], ["created_at", "2025-08-17 01:51:44.926541"], ["updated_at", "2025-08-17 01:51:44.926541"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 13"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 13"], ["created_at", "2025-08-17 01:51:44.928198"], ["updated_at", "2025-08-17 01:51:44.928198"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 13"], ["country_id", 188], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 13"], ["country_id", 188], ["created_at", "2025-08-17 01:51:44.929242"], ["updated_at", "2025-08-17 01:51:44.929242"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow8"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "66450e8e-08df-4d87-8176-8eedf2036e38"], ["name", "Flow8"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 160], ["country_id", 187], ["created_at", "2025-08-17 01:51:44.930397"], ["updated_at", "2025-08-17 01:51:44.930397"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 14"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 14"], ["created_at", "2025-08-17 01:51:44.931974"], ["updated_at", "2025-08-17 01:51:44.931974"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 14"], ["country_id", 189], ["LIMIT", 1]]
  [1m[36mCity Create (0.5ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 14"], ["country_id", 189], ["created_at", "2025-08-17 01:51:44.935084"], ["updated_at", "2025-08-17 01:51:44.935084"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow9"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "f917a040-3c18-453f-b732-1d40eef4dcf5"], ["name", "Flow9"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 161], ["country_id", 187], ["created_at", "2025-08-17 01:51:44.936610"], ["updated_at", "2025-08-17 01:51:44.936610"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 15"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 15"], ["created_at", "2025-08-17 01:51:44.937741"], ["updated_at", "2025-08-17 01:51:44.937741"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 16"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 16"], ["created_at", "2025-08-17 01:51:44.938935"], ["updated_at", "2025-08-17 01:51:44.938935"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 15"], ["country_id", 191], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 15"], ["country_id", 191], ["created_at", "2025-08-17 01:51:44.940194"], ["updated_at", "2025-08-17 01:51:44.940194"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow10"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "b1925b8e-a04b-430d-af2e-2eaa59ff4aa6"], ["name", "Flow10"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 162], ["country_id", 190], ["created_at", "2025-08-17 01:51:44.941388"], ["updated_at", "2025-08-17 01:51:44.941388"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_country/187" for 127.0.0.1 at 2025-08-16 20:51:44 -0500
Processing by FlowsController#by_country as HTML
  Parameters: {"country_id"=>"187"}
  [1m[36mFlow Load (0.3ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."country_id" = $1[0m  [["country_id", 187]]
[active_model_serializers]   [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 160], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 188], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 187], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 161], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 189], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCACHE Country Load (0.0ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 187], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (2.18ms)
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 1.1ms | Allocations: 2740)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:51:44.951995"], ["updated_at", "2025-08-17 01:51:44.951995"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (5.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:51:44.960860"], ["updated_at", "2025-08-17 01:51:44.960860"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 17"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 17"], ["created_at", "2025-08-17 01:51:44.962337"], ["updated_at", "2025-08-17 01:51:44.962337"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 16"], ["country_id", 192], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 16"], ["country_id", 192], ["created_at", "2025-08-17 01:51:44.963722"], ["updated_at", "2025-08-17 01:51:44.963722"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:51:44 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"TestFlow", "json_schema"=>"{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}", "city_id"=>"163"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.9ms | Allocations: 918)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:51:44.971587"], ["updated_at", "2025-08-17 01:51:44.971587"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:51:44.974558"], ["updated_at", "2025-08-17 01:51:44.974558"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 18"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 18"], ["created_at", "2025-08-17 01:51:44.976867"], ["updated_at", "2025-08-17 01:51:44.976867"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 17"], ["country_id", 193], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 17"], ["country_id", 193], ["created_at", "2025-08-17 01:51:44.978535"], ["updated_at", "2025-08-17 01:51:44.978535"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow11"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "f044e78f-226e-41e8-a0b6-b090cbe03f44"], ["name", "Flow11"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 164], ["country_id", nil], ["created_at", "2025-08-17 01:51:44.979876"], ["updated_at", "2025-08-17 01:51:44.979876"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/f044e78f-226e-41e8-a0b6-b090cbe03f44" for 127.0.0.1 at 2025-08-16 20:51:44 -0500
Processing by FlowsController#show as HTML
  Parameters: {"id"=>"f044e78f-226e-41e8-a0b6-b090cbe03f44"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "f044e78f-226e-41e8-a0b6-b090cbe03f44"], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 164], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 193], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (0.98ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.5ms | Allocations: 1427)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:52:15.627112"], ["updated_at", "2025-08-17 01:52:15.627112"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:52:15.636866"], ["updated_at", "2025-08-17 01:52:15.636866"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Count (3.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 1"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 1"], ["created_at", "2025-08-17 01:52:15.655875"], ["updated_at", "2025-08-17 01:52:15.655875"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 1"], ["country_id", 194], ["LIMIT", 1]]
  [1m[36mCity Create (0.7ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 1"], ["country_id", 194], ["created_at", "2025-08-17 01:52:15.672386"], ["updated_at", "2025-08-17 01:52:15.672386"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:52:15 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"TestFlow", "json_schema"=>"{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}", "city_id"=>"165"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (1.7ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "88ada8e5-93c5-4a76-9b70-0bdfd289d10f"], ["name", "TestFlow"], ["json_schema", "\"{\\\"sections\\\":[{\\\"id\\\":\\\"section1\\\",\\\"title\\\":\\\"Secci√≥n 1\\\",\\\"forms\\\":[{\\\"id\\\":\\\"form1\\\",\\\"fields\\\":[{\\\"id\\\":\\\"field1\\\",\\\"type\\\":\\\"text\\\",\\\"label\\\":\\\"Campo 1\\\"}]}]}]}\""], ["city_id", 165], ["country_id", nil], ["created_at", "2025-08-17 01:52:15.685090"], ["updated_at", "2025-08-17 01:52:15.685090"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers]   [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 165], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 194], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (3.16ms)
Completed 201 Created in 14ms (Views: 3.7ms | ActiveRecord: 3.6ms | Allocations: 11023)
  [1m[36mFlow Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:52:15.698097"], ["updated_at", "2025-08-17 01:52:15.698097"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:52:15.701808"], ["updated_at", "2025-08-17 01:52:15.701808"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 2"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 2"], ["created_at", "2025-08-17 01:52:15.703192"], ["updated_at", "2025-08-17 01:52:15.703192"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 2"], ["country_id", 195], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 2"], ["country_id", 195], ["created_at", "2025-08-17 01:52:15.704328"], ["updated_at", "2025-08-17 01:52:15.704328"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:52:15 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"", "json_schema"=>"{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}", "city_id"=>"166"}}
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.03ms)
Completed 422 Unprocessable Content in 128ms (Views: 0.9ms | ActiveRecord: 3.2ms | Allocations: 284411)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:52:15.851366"], ["updated_at", "2025-08-17 01:52:15.851366"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:52:15.855128"], ["updated_at", "2025-08-17 01:52:15.855128"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 3"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.9ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 3"], ["created_at", "2025-08-17 01:52:15.858010"], ["updated_at", "2025-08-17 01:52:15.858010"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 3"], ["country_id", 196], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 3"], ["country_id", 196], ["created_at", "2025-08-17 01:52:15.860838"], ["updated_at", "2025-08-17 01:52:15.860838"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:52:15 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"TestFlow", "json_schema"=>"{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}", "city_id"=>nil}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.5ms | ActiveRecord: 0.9ms | Allocations: 1325)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:52:15.868669"], ["updated_at", "2025-08-17 01:52:15.868669"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:52:15.872088"], ["updated_at", "2025-08-17 01:52:15.872088"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 4"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 4"], ["created_at", "2025-08-17 01:52:15.874029"], ["updated_at", "2025-08-17 01:52:15.874029"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 4"], ["country_id", 197], ["LIMIT", 1]]
  [1m[36mCity Create (1.6ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 4"], ["country_id", 197], ["created_at", "2025-08-17 01:52:15.876796"], ["updated_at", "2025-08-17 01:52:15.876796"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:52:15 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"TestFlow", "json_schema"=>"{\"invalid\":\"structure\"}", "city_id"=>"168"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Completed 422 Unprocessable Content in 3ms (Views: 0.5ms | ActiveRecord: 1.3ms | Allocations: 1397)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:52:15.889818"], ["updated_at", "2025-08-17 01:52:15.889818"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:52:15.893719"], ["updated_at", "2025-08-17 01:52:15.893719"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 5"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 5"], ["created_at", "2025-08-17 01:52:15.896160"], ["updated_at", "2025-08-17 01:52:15.896160"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 5"], ["country_id", 198], ["LIMIT", 1]]
  [1m[36mCity Create (2.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 5"], ["country_id", 198], ["created_at", "2025-08-17 01:52:15.898363"], ["updated_at", "2025-08-17 01:52:15.898363"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow1"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "33b46673-0af2-4b21-a9c1-d87e8e99765c"], ["name", "Flow1"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 169], ["country_id", nil], ["created_at", "2025-08-17 01:52:15.904127"], ["updated_at", "2025-08-17 01:52:15.904127"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/33b46673-0af2-4b21-a9c1-d87e8e99765c" for 127.0.0.1 at 2025-08-16 20:52:15 -0500
Processing by FlowsController#show as HTML
  Parameters: {"id"=>"33b46673-0af2-4b21-a9c1-d87e8e99765c"}
  [1m[36mFlow Load (0.3ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "33b46673-0af2-4b21-a9c1-d87e8e99765c"], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 169], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 198], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (1.6ms)
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.9ms | Allocations: 1585)
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:52:15.918281"], ["updated_at", "2025-08-17 01:52:15.918281"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:52:15.922024"], ["updated_at", "2025-08-17 01:52:15.922024"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/invalid-uuid" for 127.0.0.1 at 2025-08-16 20:52:15 -0500
Processing by FlowsController#show as HTML
  Parameters: {"id"=>"invalid-uuid"}
  [1m[36mFlow Load (0.7ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Filter chain halted as :set_flow rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.4ms | ActiveRecord: 0.7ms | Allocations: 859)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:52:15.930743"], ["updated_at", "2025-08-17 01:52:15.930743"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:52:15.935177"], ["updated_at", "2025-08-17 01:52:15.935177"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 6"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 6"], ["created_at", "2025-08-17 01:52:15.937093"], ["updated_at", "2025-08-17 01:52:15.937093"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 6"], ["country_id", 199], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 6"], ["country_id", 199], ["created_at", "2025-08-17 01:52:15.938678"], ["updated_at", "2025-08-17 01:52:15.938678"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow2"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "cb5241e9-7e23-49eb-82b6-03500f9ecedf"], ["name", "Flow2"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 170], ["country_id", nil], ["created_at", "2025-08-17 01:52:15.940158"], ["updated_at", "2025-08-17 01:52:15.940158"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/flows/cb5241e9-7e23-49eb-82b6-03500f9ecedf" for 127.0.0.1 at 2025-08-16 20:52:15 -0500
Processing by FlowsController#update as HTML
  Parameters: {"flow"=>{"name"=>"UpdatedFlow", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "id"=>"cb5241e9-7e23-49eb-82b6-03500f9ecedf"}
  [1m[36mFlow Load (1.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "cb5241e9-7e23-49eb-82b6-03500f9ecedf"], ["LIMIT", 1]]
[31mUnpermitted parameter: :json_schema. Context: { controller: FlowsController, action: update, request: #<ActionDispatch::Request:0x0000000154b762e0>, params: {"flow"=>{"name"=>"UpdatedFlow", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "controller"=>"flows", "action"=>"update", "id"=>"cb5241e9-7e23-49eb-82b6-03500f9ecedf"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 AND "flows"."id" != $2 LIMIT $3[0m  [["name", "UpdatedFlow"], ["id", "cb5241e9-7e23-49eb-82b6-03500f9ecedf"], ["LIMIT", 1]]
  [1m[36mFlow Update (0.4ms)[0m  [1m[33mUPDATE "flows" SET "name" = $1, "updated_at" = $2 WHERE "flows"."id" = $3[0m  [["name", "UpdatedFlow"], ["updated_at", "2025-08-17 01:52:15.945695"], ["id", "cb5241e9-7e23-49eb-82b6-03500f9ecedf"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers]   [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 170], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 199], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (1.68ms)
Completed 200 OK in 6ms (Views: 1.7ms | ActiveRecord: 2.9ms | Allocations: 2439)
  [1m[36mFlow Load (0.6ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "cb5241e9-7e23-49eb-82b6-03500f9ecedf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:52:15.961817"], ["updated_at", "2025-08-17 01:52:15.961817"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:52:15.965419"], ["updated_at", "2025-08-17 01:52:15.965419"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 7"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 7"], ["created_at", "2025-08-17 01:52:15.967716"], ["updated_at", "2025-08-17 01:52:15.967716"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 7"], ["country_id", 200], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 7"], ["country_id", 200], ["created_at", "2025-08-17 01:52:15.969220"], ["updated_at", "2025-08-17 01:52:15.969220"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow3"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "2117ec3c-2b83-43d4-a99f-faaa5d79e76a"], ["name", "Flow3"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 171], ["country_id", nil], ["created_at", "2025-08-17 01:52:15.971027"], ["updated_at", "2025-08-17 01:52:15.971027"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/flows/2117ec3c-2b83-43d4-a99f-faaa5d79e76a" for 127.0.0.1 at 2025-08-16 20:52:15 -0500
Processing by FlowsController#update as HTML
  Parameters: {"flow"=>{"name"=>"Invalid Flow Name", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "id"=>"2117ec3c-2b83-43d4-a99f-faaa5d79e76a"}
  [1m[36mFlow Load (4.6ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "2117ec3c-2b83-43d4-a99f-faaa5d79e76a"], ["LIMIT", 1]]
[31mUnpermitted parameter: :json_schema. Context: { controller: FlowsController, action: update, request: #<ActionDispatch::Request:0x00000001570f2500>, params: {"flow"=>{"name"=>"Invalid Flow Name", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "controller"=>"flows", "action"=>"update", "id"=>"2117ec3c-2b83-43d4-a99f-faaa5d79e76a"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 AND "flows"."id" != $2 LIMIT $3[0m  [["name", "Invalid Flow Name"], ["id", "2117ec3c-2b83-43d4-a99f-faaa5d79e76a"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Completed 422 Unprocessable Content in 8ms (Views: 0.5ms | ActiveRecord: 5.4ms | Allocations: 1725)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:52:15.986272"], ["updated_at", "2025-08-17 01:52:15.986272"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:52:15.989903"], ["updated_at", "2025-08-17 01:52:15.989903"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 8"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.9ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 8"], ["created_at", "2025-08-17 01:52:15.992418"], ["updated_at", "2025-08-17 01:52:15.992418"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 8"], ["country_id", 201], ["LIMIT", 1]]
  [1m[36mCity Create (1.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 8"], ["country_id", 201], ["created_at", "2025-08-17 01:52:15.994549"], ["updated_at", "2025-08-17 01:52:15.994549"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow4"], ["LIMIT", 1]]
  [1m[36mFlow Create (4.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "32384eb8-1d8f-4a48-b06b-e6eeac8b7153"], ["name", "Flow4"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 172], ["country_id", nil], ["created_at", "2025-08-17 01:52:15.997189"], ["updated_at", "2025-08-17 01:52:15.997189"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
Started DELETE "/flows/32384eb8-1d8f-4a48-b06b-e6eeac8b7153" for 127.0.0.1 at 2025-08-16 20:52:16 -0500
Processing by FlowsController#destroy as HTML
  Parameters: {"id"=>"32384eb8-1d8f-4a48-b06b-e6eeac8b7153"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "32384eb8-1d8f-4a48-b06b-e6eeac8b7153"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlowSolution Load (0.8ms)[0m  [1m[34mSELECT "flow_solutions".* FROM "flow_solutions" WHERE "flow_solutions"."flow_id" = $1[0m  [["flow_id", "32384eb8-1d8f-4a48-b06b-e6eeac8b7153"]]
  [1m[36mFlow Destroy (0.4ms)[0m  [1m[31mDELETE FROM "flows" WHERE "flows"."id" = $1[0m  [["id", "32384eb8-1d8f-4a48-b06b-e6eeac8b7153"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 8ms (ActiveRecord: 3.1ms | Allocations: 3442)
  [1m[36mFlow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:52:16.018601"], ["updated_at", "2025-08-17 01:52:16.018601"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:52:16.022096"], ["updated_at", "2025-08-17 01:52:16.022096"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 9"], ["LIMIT", 1]]
  [1m[36mCountry Create (2.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 9"], ["created_at", "2025-08-17 01:52:16.025351"], ["updated_at", "2025-08-17 01:52:16.025351"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 9"], ["country_id", 202], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 9"], ["country_id", 202], ["created_at", "2025-08-17 01:52:16.029526"], ["updated_at", "2025-08-17 01:52:16.029526"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "UniqueFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "27362317-7984-41a3-8e2d-efa63e48a307"], ["name", "UniqueFlow"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 173], ["country_id", nil], ["created_at", "2025-08-17 01:52:16.031967"], ["updated_at", "2025-08-17 01:52:16.031967"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_name/UniqueFlow" for 127.0.0.1 at 2025-08-16 20:52:16 -0500
Processing by FlowsController#by_name as HTML
  Parameters: {"name"=>"UniqueFlow"}
  [1m[36mFlow Load (0.3ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "UniqueFlow"], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 173], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 202], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (1.48ms)
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.7ms | Allocations: 1532)
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:52:16.046577"], ["updated_at", "2025-08-17 01:52:16.046577"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:52:16.050279"], ["updated_at", "2025-08-17 01:52:16.050279"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 10"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 10"], ["created_at", "2025-08-17 01:52:16.053230"], ["updated_at", "2025-08-17 01:52:16.053230"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 10"], ["country_id", 203], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 10"], ["country_id", 203], ["created_at", "2025-08-17 01:52:16.054545"], ["updated_at", "2025-08-17 01:52:16.054545"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "UniqueFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.7ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "4de791ef-9f2a-4d2e-b158-9ef03a877f31"], ["name", "UniqueFlow"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 174], ["country_id", nil], ["created_at", "2025-08-17 01:52:16.055842"], ["updated_at", "2025-08-17 01:52:16.055842"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_name/NonExistentFlow" for 127.0.0.1 at 2025-08-16 20:52:16 -0500
Processing by FlowsController#by_name as HTML
  Parameters: {"name"=>"NonExistentFlow"}
  [1m[36mFlow Load (1.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "NonExistentFlow"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Completed 404 Not Found in 2ms (Views: 0.4ms | ActiveRecord: 1.1ms | Allocations: 832)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:52:16.064955"], ["updated_at", "2025-08-17 01:52:16.064955"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:52:16.071539"], ["updated_at", "2025-08-17 01:52:16.071539"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (3.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 11"], ["LIMIT", 1]]
  [1m[36mCountry Create (1.5ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 11"], ["created_at", "2025-08-17 01:52:16.076668"], ["updated_at", "2025-08-17 01:52:16.076668"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 11"], ["country_id", 204], ["LIMIT", 1]]
  [1m[36mCity Create (6.7ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 11"], ["country_id", 204], ["created_at", "2025-08-17 01:52:16.080130"], ["updated_at", "2025-08-17 01:52:16.080130"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow5"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "ec725932-9bd1-4ea1-9447-89e3db7d3c03"], ["name", "Flow5"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 175], ["country_id", nil], ["created_at", "2025-08-17 01:52:16.088716"], ["updated_at", "2025-08-17 01:52:16.088716"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow6"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.5ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "e669c964-a5d2-4490-a892-7e4e1be034ab"], ["name", "Flow6"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 175], ["country_id", nil], ["created_at", "2025-08-17 01:52:16.092671"], ["updated_at", "2025-08-17 01:52:16.092671"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 12"], ["country_id", 204], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 12"], ["country_id", 204], ["created_at", "2025-08-17 01:52:16.095348"], ["updated_at", "2025-08-17 01:52:16.095348"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow7"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "fd71e9cf-eb53-4c85-b0af-e9e4da0fd7ce"], ["name", "Flow7"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 176], ["country_id", nil], ["created_at", "2025-08-17 01:52:16.097179"], ["updated_at", "2025-08-17 01:52:16.097179"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_city/175" for 127.0.0.1 at 2025-08-16 20:52:16 -0500
Processing by FlowsController#by_city as HTML
  Parameters: {"city_id"=>"175"}
  [1m[36mFlow Load (0.4ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."city_id" = $1[0m  [["city_id", 175]]
[active_model_serializers]   [1m[36mCity Load (5.0ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 175], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 204], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCACHE City Load (0.0ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 175], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCACHE Country Load (0.0ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 204], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (7.01ms)
Completed 200 OK in 9ms (Views: 3.0ms | ActiveRecord: 5.6ms | Allocations: 2155)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:52:16.113671"], ["updated_at", "2025-08-17 01:52:16.113671"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:52:16.117682"], ["updated_at", "2025-08-17 01:52:16.117682"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 12"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.7ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 12"], ["created_at", "2025-08-17 01:52:16.120305"], ["updated_at", "2025-08-17 01:52:16.120305"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 13"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 13"], ["created_at", "2025-08-17 01:52:16.122829"], ["updated_at", "2025-08-17 01:52:16.122829"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 13"], ["country_id", 206], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 13"], ["country_id", 206], ["created_at", "2025-08-17 01:52:16.125188"], ["updated_at", "2025-08-17 01:52:16.125188"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow8"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.9ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "36d2bfa0-23b3-4472-a8e5-f40c3eea4a36"], ["name", "Flow8"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 177], ["country_id", 205], ["created_at", "2025-08-17 01:52:16.126962"], ["updated_at", "2025-08-17 01:52:16.126962"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 14"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 14"], ["created_at", "2025-08-17 01:52:16.128987"], ["updated_at", "2025-08-17 01:52:16.128987"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 14"], ["country_id", 207], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 14"], ["country_id", 207], ["created_at", "2025-08-17 01:52:16.130085"], ["updated_at", "2025-08-17 01:52:16.130085"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow9"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "8f1e53ef-1afd-4d6f-a99b-f00f4f2aea01"], ["name", "Flow9"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 178], ["country_id", 205], ["created_at", "2025-08-17 01:52:16.131270"], ["updated_at", "2025-08-17 01:52:16.131270"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 15"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 15"], ["created_at", "2025-08-17 01:52:16.132924"], ["updated_at", "2025-08-17 01:52:16.132924"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 16"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 16"], ["created_at", "2025-08-17 01:52:16.134841"], ["updated_at", "2025-08-17 01:52:16.134841"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 15"], ["country_id", 209], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 15"], ["country_id", 209], ["created_at", "2025-08-17 01:52:16.136286"], ["updated_at", "2025-08-17 01:52:16.136286"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow10"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "5598243d-cba7-45c5-a21a-d7653d18d53a"], ["name", "Flow10"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 179], ["country_id", 208], ["created_at", "2025-08-17 01:52:16.137697"], ["updated_at", "2025-08-17 01:52:16.137697"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_country/205" for 127.0.0.1 at 2025-08-16 20:52:16 -0500
Processing by FlowsController#by_country as HTML
  Parameters: {"country_id"=>"205"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."country_id" = $1[0m  [["country_id", 205]]
[active_model_serializers]   [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 177], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 206], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 205], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 178], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 207], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCACHE Country Load (0.0ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 205], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (3.32ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 1.2ms | Allocations: 2742)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:52:16.150026"], ["updated_at", "2025-08-17 01:52:16.150026"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:52:16.153091"], ["updated_at", "2025-08-17 01:52:16.153091"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 17"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 17"], ["created_at", "2025-08-17 01:52:16.154307"], ["updated_at", "2025-08-17 01:52:16.154307"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 16"], ["country_id", 210], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 16"], ["country_id", 210], ["created_at", "2025-08-17 01:52:16.155768"], ["updated_at", "2025-08-17 01:52:16.155768"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:52:16 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"TestFlow", "json_schema"=>"{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}", "city_id"=>"180"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "eabad8cc-1947-4b7c-8064-e5ed747c8ced"], ["name", "TestFlow"], ["json_schema", "\"{\\\"sections\\\":[{\\\"id\\\":\\\"section1\\\",\\\"title\\\":\\\"Secci√≥n 1\\\",\\\"forms\\\":[{\\\"id\\\":\\\"form1\\\",\\\"fields\\\":[{\\\"id\\\":\\\"field1\\\",\\\"type\\\":\\\"text\\\",\\\"label\\\":\\\"Campo 1\\\"}]}]}]}\""], ["city_id", 180], ["country_id", nil], ["created_at", "2025-08-17 01:52:16.161195"], ["updated_at", "2025-08-17 01:52:16.161195"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers]   [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 180], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 210], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (1.3ms)
Completed 201 Created in 5ms (Views: 1.2ms | ActiveRecord: 2.8ms | Allocations: 1966)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:52:16.169658"], ["updated_at", "2025-08-17 01:52:16.169658"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:52:16.173696"], ["updated_at", "2025-08-17 01:52:16.173696"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 18"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 18"], ["created_at", "2025-08-17 01:52:16.177815"], ["updated_at", "2025-08-17 01:52:16.177815"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 17"], ["country_id", 211], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 17"], ["country_id", 211], ["created_at", "2025-08-17 01:52:16.179695"], ["updated_at", "2025-08-17 01:52:16.179695"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow11"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "5a7118fc-ac86-475e-8960-5b120ca977d5"], ["name", "Flow11"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 181], ["country_id", nil], ["created_at", "2025-08-17 01:52:16.181768"], ["updated_at", "2025-08-17 01:52:16.181768"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/5a7118fc-ac86-475e-8960-5b120ca977d5" for 127.0.0.1 at 2025-08-16 20:52:16 -0500
Processing by FlowsController#show as HTML
  Parameters: {"id"=>"5a7118fc-ac86-475e-8960-5b120ca977d5"}
  [1m[36mFlow Load (0.3ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "5a7118fc-ac86-475e-8960-5b120ca977d5"], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 181], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 211], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (1.12ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.6ms | Allocations: 1427)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:02.091034"], ["updated_at", "2025-08-17 01:53:02.091034"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (1.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:02.100928"], ["updated_at", "2025-08-17 01:53:02.100928"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Count (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 1"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 1"], ["created_at", "2025-08-17 01:53:02.119571"], ["updated_at", "2025-08-17 01:53:02.119571"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 1"], ["country_id", 212], ["LIMIT", 1]]
  [1m[36mCity Create (0.5ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 1"], ["country_id", 212], ["created_at", "2025-08-17 01:53:02.136164"], ["updated_at", "2025-08-17 01:53:02.136164"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:53:02 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"TestFlow", "json_schema"=>"{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}", "city_id"=>"182"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (1.6ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "81a2e0fb-68a3-4e37-804e-a4f0a608e3df"], ["name", "TestFlow"], ["json_schema", "\"{\\\"sections\\\":[{\\\"id\\\":\\\"section1\\\",\\\"title\\\":\\\"Secci√≥n 1\\\",\\\"forms\\\":[{\\\"id\\\":\\\"form1\\\",\\\"fields\\\":[{\\\"id\\\":\\\"field1\\\",\\\"type\\\":\\\"text\\\",\\\"label\\\":\\\"Campo 1\\\"}]}]}]}\""], ["city_id", 182], ["country_id", nil], ["created_at", "2025-08-17 01:53:02.146914"], ["updated_at", "2025-08-17 01:53:02.146914"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers]   [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 182], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 212], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (2.93ms)
Completed 201 Created in 14ms (Views: 3.5ms | ActiveRecord: 4.8ms | Allocations: 10724)
  [1m[36mFlow Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:02.162189"], ["updated_at", "2025-08-17 01:53:02.162189"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:02.165824"], ["updated_at", "2025-08-17 01:53:02.165824"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 2"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 2"], ["created_at", "2025-08-17 01:53:02.167794"], ["updated_at", "2025-08-17 01:53:02.167794"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 2"], ["country_id", 213], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 2"], ["country_id", 213], ["created_at", "2025-08-17 01:53:02.169290"], ["updated_at", "2025-08-17 01:53:02.169290"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:53:02 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"", "json_schema"=>"{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}", "city_id"=>"183"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.03ms)
Completed 422 Unprocessable Content in 129ms (Views: 0.9ms | ActiveRecord: 1.3ms | Allocations: 284411)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:02.316403"], ["updated_at", "2025-08-17 01:53:02.316403"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (5.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:02.319706"], ["updated_at", "2025-08-17 01:53:02.319706"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 3"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 3"], ["created_at", "2025-08-17 01:53:02.326918"], ["updated_at", "2025-08-17 01:53:02.326918"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 3"], ["country_id", 214], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 3"], ["country_id", 214], ["created_at", "2025-08-17 01:53:02.328431"], ["updated_at", "2025-08-17 01:53:02.328431"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:53:02 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"TestFlow", "json_schema"=>"{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}", "city_id"=>nil}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Completed 422 Unprocessable Content in 3ms (Views: 0.5ms | ActiveRecord: 2.0ms | Allocations: 1325)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:02.337456"], ["updated_at", "2025-08-17 01:53:02.337456"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:02.340579"], ["updated_at", "2025-08-17 01:53:02.340579"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 4"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 4"], ["created_at", "2025-08-17 01:53:02.343668"], ["updated_at", "2025-08-17 01:53:02.343668"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 4"], ["country_id", 215], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 4"], ["country_id", 215], ["created_at", "2025-08-17 01:53:02.345144"], ["updated_at", "2025-08-17 01:53:02.345144"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:53:02 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"TestFlow", "json_schema"=>"{\"invalid\":\"structure\"}", "city_id"=>"185"}}
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (2.7ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Completed 422 Unprocessable Content in 5ms (Views: 0.4ms | ActiveRecord: 4.0ms | Allocations: 1397)
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:02.357385"], ["updated_at", "2025-08-17 01:53:02.357385"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:02.361032"], ["updated_at", "2025-08-17 01:53:02.361032"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 5"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 5"], ["created_at", "2025-08-17 01:53:02.362742"], ["updated_at", "2025-08-17 01:53:02.362742"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 5"], ["country_id", 216], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 5"], ["country_id", 216], ["created_at", "2025-08-17 01:53:02.365639"], ["updated_at", "2025-08-17 01:53:02.365639"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow1"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "49d3dd93-0e14-48e5-bb83-04d532e2f470"], ["name", "Flow1"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 186], ["country_id", nil], ["created_at", "2025-08-17 01:53:02.367395"], ["updated_at", "2025-08-17 01:53:02.367395"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/49d3dd93-0e14-48e5-bb83-04d532e2f470" for 127.0.0.1 at 2025-08-16 20:53:02 -0500
Processing by FlowsController#show as HTML
  Parameters: {"id"=>"49d3dd93-0e14-48e5-bb83-04d532e2f470"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "49d3dd93-0e14-48e5-bb83-04d532e2f470"], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 186], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 216], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (0.84ms)
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.5ms | Allocations: 1579)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:02.375721"], ["updated_at", "2025-08-17 01:53:02.375721"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:02.379113"], ["updated_at", "2025-08-17 01:53:02.379113"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/invalid-uuid" for 127.0.0.1 at 2025-08-16 20:53:02 -0500
Processing by FlowsController#show as HTML
  Parameters: {"id"=>"invalid-uuid"}
  [1m[36mFlow Load (1.7ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Filter chain halted as :set_flow rendered or redirected
Completed 404 Not Found in 3ms (Views: 0.4ms | ActiveRecord: 1.7ms | Allocations: 855)
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:02.392348"], ["updated_at", "2025-08-17 01:53:02.392348"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:02.396083"], ["updated_at", "2025-08-17 01:53:02.396083"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 6"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 6"], ["created_at", "2025-08-17 01:53:02.398740"], ["updated_at", "2025-08-17 01:53:02.398740"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 6"], ["country_id", 217], ["LIMIT", 1]]
  [1m[36mCity Create (0.5ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 6"], ["country_id", 217], ["created_at", "2025-08-17 01:53:02.400480"], ["updated_at", "2025-08-17 01:53:02.400480"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow2"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "44a017e4-ce4c-4c88-a580-77f2eab53a90"], ["name", "Flow2"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 187], ["country_id", nil], ["created_at", "2025-08-17 01:53:02.401919"], ["updated_at", "2025-08-17 01:53:02.401919"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/flows/44a017e4-ce4c-4c88-a580-77f2eab53a90" for 127.0.0.1 at 2025-08-16 20:53:02 -0500
Processing by FlowsController#update as HTML
  Parameters: {"flow"=>{"name"=>"UpdatedFlow", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "id"=>"44a017e4-ce4c-4c88-a580-77f2eab53a90"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "44a017e4-ce4c-4c88-a580-77f2eab53a90"], ["LIMIT", 1]]
[31mUnpermitted parameter: :json_schema. Context: { controller: FlowsController, action: update, request: #<ActionDispatch::Request:0x000000012f23b240>, params: {"flow"=>{"name"=>"UpdatedFlow", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "controller"=>"flows", "action"=>"update", "id"=>"44a017e4-ce4c-4c88-a580-77f2eab53a90"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 AND "flows"."id" != $2 LIMIT $3[0m  [["name", "UpdatedFlow"], ["id", "44a017e4-ce4c-4c88-a580-77f2eab53a90"], ["LIMIT", 1]]
  [1m[36mFlow Update (1.5ms)[0m  [1m[33mUPDATE "flows" SET "name" = $1, "updated_at" = $2 WHERE "flows"."id" = $3[0m  [["name", "UpdatedFlow"], ["updated_at", "2025-08-17 01:53:02.405104"], ["id", "44a017e4-ce4c-4c88-a580-77f2eab53a90"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers]   [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 187], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 217], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (1.58ms)
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 3.3ms | Allocations: 2435)
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "44a017e4-ce4c-4c88-a580-77f2eab53a90"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:02.413745"], ["updated_at", "2025-08-17 01:53:02.413745"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:02.418170"], ["updated_at", "2025-08-17 01:53:02.418170"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 7"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 7"], ["created_at", "2025-08-17 01:53:02.420781"], ["updated_at", "2025-08-17 01:53:02.420781"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 7"], ["country_id", 218], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 7"], ["country_id", 218], ["created_at", "2025-08-17 01:53:02.422129"], ["updated_at", "2025-08-17 01:53:02.422129"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow3"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "1293a7e4-7db6-4707-a98a-3197030ac4bf"], ["name", "Flow3"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 188], ["country_id", nil], ["created_at", "2025-08-17 01:53:02.424839"], ["updated_at", "2025-08-17 01:53:02.424839"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/flows/1293a7e4-7db6-4707-a98a-3197030ac4bf" for 127.0.0.1 at 2025-08-16 20:53:02 -0500
Processing by FlowsController#update as HTML
  Parameters: {"flow"=>{"name"=>"Invalid Flow Name", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "id"=>"1293a7e4-7db6-4707-a98a-3197030ac4bf"}
  [1m[36mFlow Load (0.7ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "1293a7e4-7db6-4707-a98a-3197030ac4bf"], ["LIMIT", 1]]
[31mUnpermitted parameter: :json_schema. Context: { controller: FlowsController, action: update, request: #<ActionDispatch::Request:0x000000013dc555b0>, params: {"flow"=>{"name"=>"Invalid Flow Name", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "controller"=>"flows", "action"=>"update", "id"=>"1293a7e4-7db6-4707-a98a-3197030ac4bf"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 AND "flows"."id" != $2 LIMIT $3[0m  [["name", "Invalid Flow Name"], ["id", "1293a7e4-7db6-4707-a98a-3197030ac4bf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Completed 422 Unprocessable Content in 3ms (Views: 0.3ms | ActiveRecord: 1.4ms | Allocations: 1711)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:02.434169"], ["updated_at", "2025-08-17 01:53:02.434169"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:02.437765"], ["updated_at", "2025-08-17 01:53:02.437765"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 8"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 8"], ["created_at", "2025-08-17 01:53:02.440753"], ["updated_at", "2025-08-17 01:53:02.440753"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 8"], ["country_id", 219], ["LIMIT", 1]]
  [1m[36mCity Create (0.7ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 8"], ["country_id", 219], ["created_at", "2025-08-17 01:53:02.442760"], ["updated_at", "2025-08-17 01:53:02.442760"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow4"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "7716cd15-1f6a-4f9d-9b7d-85524c5b1248"], ["name", "Flow4"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 189], ["country_id", nil], ["created_at", "2025-08-17 01:53:02.444496"], ["updated_at", "2025-08-17 01:53:02.444496"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
Started DELETE "/flows/7716cd15-1f6a-4f9d-9b7d-85524c5b1248" for 127.0.0.1 at 2025-08-16 20:53:02 -0500
Processing by FlowsController#destroy as HTML
  Parameters: {"id"=>"7716cd15-1f6a-4f9d-9b7d-85524c5b1248"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "7716cd15-1f6a-4f9d-9b7d-85524c5b1248"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlowSolution Load (0.6ms)[0m  [1m[34mSELECT "flow_solutions".* FROM "flow_solutions" WHERE "flow_solutions"."flow_id" = $1[0m  [["flow_id", "7716cd15-1f6a-4f9d-9b7d-85524c5b1248"]]
  [1m[36mFlow Destroy (0.3ms)[0m  [1m[31mDELETE FROM "flows" WHERE "flows"."id" = $1[0m  [["id", "7716cd15-1f6a-4f9d-9b7d-85524c5b1248"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 9ms (ActiveRecord: 8.3ms | Allocations: 3441)
  [1m[36mFlow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:02.460339"], ["updated_at", "2025-08-17 01:53:02.460339"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:02.462931"], ["updated_at", "2025-08-17 01:53:02.462931"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 9"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 9"], ["created_at", "2025-08-17 01:53:02.464837"], ["updated_at", "2025-08-17 01:53:02.464837"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 9"], ["country_id", 220], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 9"], ["country_id", 220], ["created_at", "2025-08-17 01:53:02.466526"], ["updated_at", "2025-08-17 01:53:02.466526"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "UniqueFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "53b4bb92-bbbb-4f12-bff5-e475761f94de"], ["name", "UniqueFlow"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 190], ["country_id", nil], ["created_at", "2025-08-17 01:53:02.467884"], ["updated_at", "2025-08-17 01:53:02.467884"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_name/UniqueFlow" for 127.0.0.1 at 2025-08-16 20:53:02 -0500
Processing by FlowsController#by_name as HTML
  Parameters: {"name"=>"UniqueFlow"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "UniqueFlow"], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 190], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 220], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (1.11ms)
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.6ms | Allocations: 1528)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:02.476102"], ["updated_at", "2025-08-17 01:53:02.476102"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:02.479030"], ["updated_at", "2025-08-17 01:53:02.479030"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 10"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 10"], ["created_at", "2025-08-17 01:53:02.481119"], ["updated_at", "2025-08-17 01:53:02.481119"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 10"], ["country_id", 221], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 10"], ["country_id", 221], ["created_at", "2025-08-17 01:53:02.482922"], ["updated_at", "2025-08-17 01:53:02.482922"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "UniqueFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "51f193c2-0e22-4214-b81e-632924e4f98a"], ["name", "UniqueFlow"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 191], ["country_id", nil], ["created_at", "2025-08-17 01:53:02.484249"], ["updated_at", "2025-08-17 01:53:02.484249"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_name/NonExistentFlow" for 127.0.0.1 at 2025-08-16 20:53:02 -0500
Processing by FlowsController#by_name as HTML
  Parameters: {"name"=>"NonExistentFlow"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "NonExistentFlow"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 828)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:02.490628"], ["updated_at", "2025-08-17 01:53:02.490628"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:02.493879"], ["updated_at", "2025-08-17 01:53:02.493879"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 11"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 11"], ["created_at", "2025-08-17 01:53:02.495624"], ["updated_at", "2025-08-17 01:53:02.495624"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 11"], ["country_id", 222], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 11"], ["country_id", 222], ["created_at", "2025-08-17 01:53:02.496862"], ["updated_at", "2025-08-17 01:53:02.496862"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow5"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "0f8355b9-8a70-4972-82e1-77c49e60cd7c"], ["name", "Flow5"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 192], ["country_id", nil], ["created_at", "2025-08-17 01:53:02.498096"], ["updated_at", "2025-08-17 01:53:02.498096"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow6"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "9c5f75d8-16b5-49b3-801f-d65a4545875b"], ["name", "Flow6"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 192], ["country_id", nil], ["created_at", "2025-08-17 01:53:02.499782"], ["updated_at", "2025-08-17 01:53:02.499782"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 12"], ["country_id", 222], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 12"], ["country_id", 222], ["created_at", "2025-08-17 01:53:02.502636"], ["updated_at", "2025-08-17 01:53:02.502636"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow7"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "a8502f43-15f7-473f-9b3f-c8615c55c862"], ["name", "Flow7"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 193], ["country_id", nil], ["created_at", "2025-08-17 01:53:02.504165"], ["updated_at", "2025-08-17 01:53:02.504165"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_city/192" for 127.0.0.1 at 2025-08-16 20:53:02 -0500
Processing by FlowsController#by_city as HTML
  Parameters: {"city_id"=>"192"}
  [1m[36mFlow Load (0.7ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."city_id" = $1[0m  [["city_id", 192]]
[active_model_serializers]   [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 192], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 222], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCACHE City Load (0.0ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 192], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCACHE Country Load (0.0ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 222], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.63ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 1.2ms | Allocations: 2151)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:02.516204"], ["updated_at", "2025-08-17 01:53:02.516204"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:02.519817"], ["updated_at", "2025-08-17 01:53:02.519817"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 12"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.1ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 12"], ["created_at", "2025-08-17 01:53:02.521317"], ["updated_at", "2025-08-17 01:53:02.521317"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (3.1ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 13"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 13"], ["created_at", "2025-08-17 01:53:02.525332"], ["updated_at", "2025-08-17 01:53:02.525332"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 13"], ["country_id", 224], ["LIMIT", 1]]
  [1m[36mCity Create (2.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 13"], ["country_id", 224], ["created_at", "2025-08-17 01:53:02.526908"], ["updated_at", "2025-08-17 01:53:02.526908"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow8"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "50516893-9ea6-4da5-a506-84179bbf4086"], ["name", "Flow8"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 194], ["country_id", 223], ["created_at", "2025-08-17 01:53:02.530411"], ["updated_at", "2025-08-17 01:53:02.530411"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 14"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 14"], ["created_at", "2025-08-17 01:53:02.532225"], ["updated_at", "2025-08-17 01:53:02.532225"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 14"], ["country_id", 225], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 14"], ["country_id", 225], ["created_at", "2025-08-17 01:53:02.535159"], ["updated_at", "2025-08-17 01:53:02.535159"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow9"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "54ea4b60-b26b-4067-aee9-2625652af9eb"], ["name", "Flow9"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 195], ["country_id", 223], ["created_at", "2025-08-17 01:53:02.536527"], ["updated_at", "2025-08-17 01:53:02.536527"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 15"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 15"], ["created_at", "2025-08-17 01:53:02.537711"], ["updated_at", "2025-08-17 01:53:02.537711"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 16"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.1ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 16"], ["created_at", "2025-08-17 01:53:02.538761"], ["updated_at", "2025-08-17 01:53:02.538761"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 15"], ["country_id", 227], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 15"], ["country_id", 227], ["created_at", "2025-08-17 01:53:02.541290"], ["updated_at", "2025-08-17 01:53:02.541290"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow10"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "dc2d16c4-b403-43aa-b4e6-64d5ca232ca1"], ["name", "Flow10"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 196], ["country_id", 226], ["created_at", "2025-08-17 01:53:02.543039"], ["updated_at", "2025-08-17 01:53:02.543039"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_country/223" for 127.0.0.1 at 2025-08-16 20:53:02 -0500
Processing by FlowsController#by_country as HTML
  Parameters: {"country_id"=>"223"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."country_id" = $1[0m  [["country_id", 223]]
[active_model_serializers]   [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 194], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 224], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 223], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCity Load (0.8ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 195], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 225], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCACHE Country Load (0.0ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 223], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (3.16ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 1.6ms | Allocations: 2737)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:02.553648"], ["updated_at", "2025-08-17 01:53:02.553648"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:02.556874"], ["updated_at", "2025-08-17 01:53:02.556874"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 17"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 17"], ["created_at", "2025-08-17 01:53:02.558821"], ["updated_at", "2025-08-17 01:53:02.558821"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 16"], ["country_id", 228], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 16"], ["country_id", 228], ["created_at", "2025-08-17 01:53:02.560285"], ["updated_at", "2025-08-17 01:53:02.560285"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:53:02 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"TestFlow", "json_schema"=>"{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}", "city_id"=>"197"}}
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms | Allocations: 858)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:02.572908"], ["updated_at", "2025-08-17 01:53:02.572908"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (1.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:02.577698"], ["updated_at", "2025-08-17 01:53:02.577698"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 18"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 18"], ["created_at", "2025-08-17 01:53:02.580805"], ["updated_at", "2025-08-17 01:53:02.580805"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 17"], ["country_id", 229], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 17"], ["country_id", 229], ["created_at", "2025-08-17 01:53:02.582419"], ["updated_at", "2025-08-17 01:53:02.582419"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow11"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "0f643ad1-d52a-49ac-aceb-ab122bb5c904"], ["name", "Flow11"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 198], ["country_id", nil], ["created_at", "2025-08-17 01:53:02.583860"], ["updated_at", "2025-08-17 01:53:02.583860"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/0f643ad1-d52a-49ac-aceb-ab122bb5c904" for 127.0.0.1 at 2025-08-16 20:53:02 -0500
Processing by FlowsController#show as HTML
  Parameters: {"id"=>"0f643ad1-d52a-49ac-aceb-ab122bb5c904"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 404)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:22.283852"], ["updated_at", "2025-08-17 01:53:22.283852"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:22.294075"], ["updated_at", "2025-08-17 01:53:22.294075"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 1"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.7ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 1"], ["created_at", "2025-08-17 01:53:22.322107"], ["updated_at", "2025-08-17 01:53:22.322107"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 1"], ["country_id", 230], ["LIMIT", 1]]
  [1m[36mCity Create (5.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 1"], ["country_id", 230], ["created_at", "2025-08-17 01:53:22.340917"], ["updated_at", "2025-08-17 01:53:22.340917"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:53:22 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"TestFlow", "json_schema"=>"{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}", "city_id"=>"199"}}
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (5.8ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.6ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "d697c0f9-1d21-4c95-9d83-2f371c35a1e2"], ["name", "TestFlow"], ["json_schema", "\"{\\\"sections\\\":[{\\\"id\\\":\\\"section1\\\",\\\"title\\\":\\\"Secci√≥n 1\\\",\\\"forms\\\":[{\\\"id\\\":\\\"form1\\\",\\\"fields\\\":[{\\\"id\\\":\\\"field1\\\",\\\"type\\\":\\\"text\\\",\\\"label\\\":\\\"Campo 1\\\"}]}]}]}\""], ["city_id", 199], ["country_id", nil], ["created_at", "2025-08-17 01:53:22.371445"], ["updated_at", "2025-08-17 01:53:22.371445"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers]   [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 199], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 230], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (3.27ms)
Completed 201 Created in 20ms (Views: 3.9ms | ActiveRecord: 11.6ms | Allocations: 10747)
  [1m[36mFlow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:22.384939"], ["updated_at", "2025-08-17 01:53:22.384939"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:22.388105"], ["updated_at", "2025-08-17 01:53:22.388105"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 2"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 2"], ["created_at", "2025-08-17 01:53:22.389406"], ["updated_at", "2025-08-17 01:53:22.389406"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 2"], ["country_id", 231], ["LIMIT", 1]]
  [1m[36mCity Create (0.5ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 2"], ["country_id", 231], ["created_at", "2025-08-17 01:53:22.391918"], ["updated_at", "2025-08-17 01:53:22.391918"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:53:22 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"", "json_schema"=>"{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}", "city_id"=>"200"}}
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.03ms)
Completed 422 Unprocessable Content in 98ms (Views: 1.1ms | ActiveRecord: 2.7ms | Allocations: 284720)
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:22.499723"], ["updated_at", "2025-08-17 01:53:22.499723"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:22.502777"], ["updated_at", "2025-08-17 01:53:22.502777"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 3"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 3"], ["created_at", "2025-08-17 01:53:22.505365"], ["updated_at", "2025-08-17 01:53:22.505365"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 3"], ["country_id", 232], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 3"], ["country_id", 232], ["created_at", "2025-08-17 01:53:22.507156"], ["updated_at", "2025-08-17 01:53:22.507156"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:53:22 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"TestFlow", "json_schema"=>"{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}", "city_id"=>nil}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 1325)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:22.515535"], ["updated_at", "2025-08-17 01:53:22.515535"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:22.519351"], ["updated_at", "2025-08-17 01:53:22.519351"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 4"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 4"], ["created_at", "2025-08-17 01:53:22.520667"], ["updated_at", "2025-08-17 01:53:22.520667"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 4"], ["country_id", 233], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 4"], ["country_id", 233], ["created_at", "2025-08-17 01:53:22.521980"], ["updated_at", "2025-08-17 01:53:22.521980"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:53:22 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"TestFlow", "json_schema"=>"{\"invalid\":\"structure\"}", "city_id"=>"202"}}
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.01ms)
Completed 422 Unprocessable Content in 3ms (Views: 0.3ms | ActiveRecord: 1.8ms | Allocations: 1397)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:22.531556"], ["updated_at", "2025-08-17 01:53:22.531556"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (3.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:22.537337"], ["updated_at", "2025-08-17 01:53:22.537337"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 5"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 5"], ["created_at", "2025-08-17 01:53:22.539416"], ["updated_at", "2025-08-17 01:53:22.539416"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 5"], ["country_id", 234], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 5"], ["country_id", 234], ["created_at", "2025-08-17 01:53:22.540916"], ["updated_at", "2025-08-17 01:53:22.540916"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow1"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "83a05f6d-e585-4b1f-b33a-3d06be65cce2"], ["name", "Flow1"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 203], ["country_id", nil], ["created_at", "2025-08-17 01:53:22.542493"], ["updated_at", "2025-08-17 01:53:22.542493"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/83a05f6d-e585-4b1f-b33a-3d06be65cce2" for 127.0.0.1 at 2025-08-16 20:53:22 -0500
Processing by FlowsController#show as HTML
  Parameters: {"id"=>"83a05f6d-e585-4b1f-b33a-3d06be65cce2"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "83a05f6d-e585-4b1f-b33a-3d06be65cce2"], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 203], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (1.11ms)
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.6ms | Allocations: 1579)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:22.551226"], ["updated_at", "2025-08-17 01:53:22.551226"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:22.554737"], ["updated_at", "2025-08-17 01:53:22.554737"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/invalid-uuid" for 127.0.0.1 at 2025-08-16 20:53:22 -0500
Processing by FlowsController#show as HTML
  Parameters: {"id"=>"invalid-uuid"}
  [1m[36mFlow Load (0.6ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Filter chain halted as :set_flow rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.4ms | ActiveRecord: 0.6ms | Allocations: 855)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:22.562755"], ["updated_at", "2025-08-17 01:53:22.562755"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:22.567139"], ["updated_at", "2025-08-17 01:53:22.567139"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 6"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 6"], ["created_at", "2025-08-17 01:53:22.569587"], ["updated_at", "2025-08-17 01:53:22.569587"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 6"], ["country_id", 235], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 6"], ["country_id", 235], ["created_at", "2025-08-17 01:53:22.570872"], ["updated_at", "2025-08-17 01:53:22.570872"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow2"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "d0a096ff-c995-4403-b8e2-14fd1f9229b3"], ["name", "Flow2"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 204], ["country_id", nil], ["created_at", "2025-08-17 01:53:22.572487"], ["updated_at", "2025-08-17 01:53:22.572487"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/flows/d0a096ff-c995-4403-b8e2-14fd1f9229b3" for 127.0.0.1 at 2025-08-16 20:53:22 -0500
Processing by FlowsController#update as HTML
  Parameters: {"flow"=>{"name"=>"UpdatedFlow", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "id"=>"d0a096ff-c995-4403-b8e2-14fd1f9229b3"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "d0a096ff-c995-4403-b8e2-14fd1f9229b3"], ["LIMIT", 1]]
[31mUnpermitted parameter: :json_schema. Context: { controller: FlowsController, action: update, request: #<ActionDispatch::Request:0x000000016d706908>, params: {"flow"=>{"name"=>"UpdatedFlow", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "controller"=>"flows", "action"=>"update", "id"=>"d0a096ff-c995-4403-b8e2-14fd1f9229b3"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 AND "flows"."id" != $2 LIMIT $3[0m  [["name", "UpdatedFlow"], ["id", "d0a096ff-c995-4403-b8e2-14fd1f9229b3"], ["LIMIT", 1]]
  [1m[36mFlow Update (0.4ms)[0m  [1m[33mUPDATE "flows" SET "name" = $1, "updated_at" = $2 WHERE "flows"."id" = $3[0m  [["name", "UpdatedFlow"], ["updated_at", "2025-08-17 01:53:22.577697"], ["id", "d0a096ff-c995-4403-b8e2-14fd1f9229b3"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers]   [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 204], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 235], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (1.09ms)
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 2.7ms | Allocations: 2435)
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "d0a096ff-c995-4403-b8e2-14fd1f9229b3"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:22.585069"], ["updated_at", "2025-08-17 01:53:22.585069"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:22.588121"], ["updated_at", "2025-08-17 01:53:22.588121"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 7"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 7"], ["created_at", "2025-08-17 01:53:22.590082"], ["updated_at", "2025-08-17 01:53:22.590082"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 7"], ["country_id", 236], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 7"], ["country_id", 236], ["created_at", "2025-08-17 01:53:22.591592"], ["updated_at", "2025-08-17 01:53:22.591592"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow3"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "cf6450e2-f1bc-4819-85ed-865f494125c9"], ["name", "Flow3"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 205], ["country_id", nil], ["created_at", "2025-08-17 01:53:22.592928"], ["updated_at", "2025-08-17 01:53:22.592928"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/flows/cf6450e2-f1bc-4819-85ed-865f494125c9" for 127.0.0.1 at 2025-08-16 20:53:22 -0500
Processing by FlowsController#update as HTML
  Parameters: {"flow"=>{"name"=>"Invalid Flow Name", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "id"=>"cf6450e2-f1bc-4819-85ed-865f494125c9"}
  [1m[36mFlow Load (0.4ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "cf6450e2-f1bc-4819-85ed-865f494125c9"], ["LIMIT", 1]]
[31mUnpermitted parameter: :json_schema. Context: { controller: FlowsController, action: update, request: #<ActionDispatch::Request:0x000000016d821f40>, params: {"flow"=>{"name"=>"Invalid Flow Name", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "controller"=>"flows", "action"=>"update", "id"=>"cf6450e2-f1bc-4819-85ed-865f494125c9"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 AND "flows"."id" != $2 LIMIT $3[0m  [["name", "Invalid Flow Name"], ["id", "cf6450e2-f1bc-4819-85ed-865f494125c9"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Completed 422 Unprocessable Content in 3ms (Views: 0.3ms | ActiveRecord: 1.1ms | Allocations: 1711)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:22.601945"], ["updated_at", "2025-08-17 01:53:22.601945"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:22.604656"], ["updated_at", "2025-08-17 01:53:22.604656"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 8"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 8"], ["created_at", "2025-08-17 01:53:22.606769"], ["updated_at", "2025-08-17 01:53:22.606769"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 8"], ["country_id", 237], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 8"], ["country_id", 237], ["created_at", "2025-08-17 01:53:22.608499"], ["updated_at", "2025-08-17 01:53:22.608499"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow4"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "bd866f2b-0143-48ff-add2-11462b3d9fce"], ["name", "Flow4"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 206], ["country_id", nil], ["created_at", "2025-08-17 01:53:22.610066"], ["updated_at", "2025-08-17 01:53:22.610066"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
Started DELETE "/flows/bd866f2b-0143-48ff-add2-11462b3d9fce" for 127.0.0.1 at 2025-08-16 20:53:22 -0500
Processing by FlowsController#destroy as HTML
  Parameters: {"id"=>"bd866f2b-0143-48ff-add2-11462b3d9fce"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "bd866f2b-0143-48ff-add2-11462b3d9fce"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlowSolution Load (1.8ms)[0m  [1m[34mSELECT "flow_solutions".* FROM "flow_solutions" WHERE "flow_solutions"."flow_id" = $1[0m  [["flow_id", "bd866f2b-0143-48ff-add2-11462b3d9fce"]]
  [1m[36mFlow Destroy (0.6ms)[0m  [1m[31mDELETE FROM "flows" WHERE "flows"."id" = $1[0m  [["id", "bd866f2b-0143-48ff-add2-11462b3d9fce"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 10ms (ActiveRecord: 5.3ms | Allocations: 3441)
  [1m[36mFlow Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:22.637513"], ["updated_at", "2025-08-17 01:53:22.637513"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:22.641941"], ["updated_at", "2025-08-17 01:53:22.641941"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 9"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 9"], ["created_at", "2025-08-17 01:53:22.644622"], ["updated_at", "2025-08-17 01:53:22.644622"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 9"], ["country_id", 238], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 9"], ["country_id", 238], ["created_at", "2025-08-17 01:53:22.645794"], ["updated_at", "2025-08-17 01:53:22.645794"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "UniqueFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "5f938a68-f75c-4291-9c79-25ef972996aa"], ["name", "UniqueFlow"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 207], ["country_id", nil], ["created_at", "2025-08-17 01:53:22.647052"], ["updated_at", "2025-08-17 01:53:22.647052"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_name/UniqueFlow" for 127.0.0.1 at 2025-08-16 20:53:22 -0500
Processing by FlowsController#by_name as HTML
  Parameters: {"name"=>"UniqueFlow"}
  [1m[36mFlow Load (1.7ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "UniqueFlow"], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 207], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 238], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (1.09ms)
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 2.0ms | Allocations: 1529)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:22.657960"], ["updated_at", "2025-08-17 01:53:22.657960"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:22.660893"], ["updated_at", "2025-08-17 01:53:22.660893"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 10"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 10"], ["created_at", "2025-08-17 01:53:22.662775"], ["updated_at", "2025-08-17 01:53:22.662775"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 10"], ["country_id", 239], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 10"], ["country_id", 239], ["created_at", "2025-08-17 01:53:22.664970"], ["updated_at", "2025-08-17 01:53:22.664970"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "UniqueFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "11d0ab2e-2ed0-43e1-862d-61d311907683"], ["name", "UniqueFlow"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 208], ["country_id", nil], ["created_at", "2025-08-17 01:53:22.666892"], ["updated_at", "2025-08-17 01:53:22.666892"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_name/NonExistentFlow" for 127.0.0.1 at 2025-08-16 20:53:22 -0500
Processing by FlowsController#by_name as HTML
  Parameters: {"name"=>"NonExistentFlow"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "NonExistentFlow"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.01ms)
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 828)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:22.673572"], ["updated_at", "2025-08-17 01:53:22.673572"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:22.677184"], ["updated_at", "2025-08-17 01:53:22.677184"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 11"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 11"], ["created_at", "2025-08-17 01:53:22.678765"], ["updated_at", "2025-08-17 01:53:22.678765"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 11"], ["country_id", 240], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 11"], ["country_id", 240], ["created_at", "2025-08-17 01:53:22.680267"], ["updated_at", "2025-08-17 01:53:22.680267"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow5"], ["LIMIT", 1]]
  [1m[36mFlow Create (5.8ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "e8900a09-74d9-4304-b6ad-1846353e775a"], ["name", "Flow5"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 209], ["country_id", nil], ["created_at", "2025-08-17 01:53:22.681729"], ["updated_at", "2025-08-17 01:53:22.681729"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow6"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "afac3d45-144a-4c27-91ef-232a422bdef7"], ["name", "Flow6"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 209], ["country_id", nil], ["created_at", "2025-08-17 01:53:22.689199"], ["updated_at", "2025-08-17 01:53:22.689199"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 12"], ["country_id", 240], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 12"], ["country_id", 240], ["created_at", "2025-08-17 01:53:22.691363"], ["updated_at", "2025-08-17 01:53:22.691363"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow7"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "50af1743-8d96-4909-84c0-986dff60c95c"], ["name", "Flow7"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 210], ["country_id", nil], ["created_at", "2025-08-17 01:53:22.692730"], ["updated_at", "2025-08-17 01:53:22.692730"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_city/209" for 127.0.0.1 at 2025-08-16 20:53:22 -0500
Processing by FlowsController#by_city as HTML
  Parameters: {"city_id"=>"209"}
  [1m[36mFlow Load (0.3ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."city_id" = $1[0m  [["city_id", 209]]
[active_model_serializers]   [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 209], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 240], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCACHE City Load (0.0ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 209], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCACHE Country Load (0.0ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 240], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.45ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.6ms | Allocations: 2151)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:22.702569"], ["updated_at", "2025-08-17 01:53:22.702569"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:22.705604"], ["updated_at", "2025-08-17 01:53:22.705604"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 12"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 12"], ["created_at", "2025-08-17 01:53:22.707657"], ["updated_at", "2025-08-17 01:53:22.707657"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 13"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 13"], ["created_at", "2025-08-17 01:53:22.709839"], ["updated_at", "2025-08-17 01:53:22.709839"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 13"], ["country_id", 242], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 13"], ["country_id", 242], ["created_at", "2025-08-17 01:53:22.711080"], ["updated_at", "2025-08-17 01:53:22.711080"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow8"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "434a7bcf-a31b-4b86-a718-597a9e00a0d4"], ["name", "Flow8"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 211], ["country_id", 241], ["created_at", "2025-08-17 01:53:22.712428"], ["updated_at", "2025-08-17 01:53:22.712428"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 14"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 14"], ["created_at", "2025-08-17 01:53:22.713799"], ["updated_at", "2025-08-17 01:53:22.713799"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 14"], ["country_id", 243], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 14"], ["country_id", 243], ["created_at", "2025-08-17 01:53:22.716720"], ["updated_at", "2025-08-17 01:53:22.716720"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow9"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "92a864fb-1d10-4182-87f3-650f77fb8013"], ["name", "Flow9"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 212], ["country_id", 241], ["created_at", "2025-08-17 01:53:22.718702"], ["updated_at", "2025-08-17 01:53:22.718702"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 15"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 15"], ["created_at", "2025-08-17 01:53:22.719987"], ["updated_at", "2025-08-17 01:53:22.719987"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 16"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 16"], ["created_at", "2025-08-17 01:53:22.721000"], ["updated_at", "2025-08-17 01:53:22.721000"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 15"], ["country_id", 245], ["LIMIT", 1]]
  [1m[36mCity Create (0.6ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 15"], ["country_id", 245], ["created_at", "2025-08-17 01:53:22.725281"], ["updated_at", "2025-08-17 01:53:22.725281"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow10"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "f7402651-b5fd-45ab-a129-3e611d0bb39d"], ["name", "Flow10"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 213], ["country_id", 244], ["created_at", "2025-08-17 01:53:22.728436"], ["updated_at", "2025-08-17 01:53:22.728436"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_country/241" for 127.0.0.1 at 2025-08-16 20:53:22 -0500
Processing by FlowsController#by_country as HTML
  Parameters: {"country_id"=>"241"}
  [1m[36mFlow Load (0.3ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."country_id" = $1[0m  [["country_id", 241]]
[active_model_serializers]   [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 211], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (2.0ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 242], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.4ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 241], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 212], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 243], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCACHE Country Load (0.0ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 241], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (7.71ms)
Completed 200 OK in 10ms (Views: 6.1ms | ActiveRecord: 3.3ms | Allocations: 2737)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:22.751740"], ["updated_at", "2025-08-17 01:53:22.751740"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:22.758934"], ["updated_at", "2025-08-17 01:53:22.758934"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 17"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.9ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 17"], ["created_at", "2025-08-17 01:53:22.764520"], ["updated_at", "2025-08-17 01:53:22.764520"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 16"], ["country_id", 246], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 16"], ["country_id", 246], ["created_at", "2025-08-17 01:53:22.770978"], ["updated_at", "2025-08-17 01:53:22.770978"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:53:22 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"TestFlow", "json_schema"=>"{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}", "city_id"=>"214"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.8ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "3ff86555-47a4-4a9e-b144-205321307b7f"], ["name", "TestFlow"], ["json_schema", "\"{\\\"sections\\\":[{\\\"id\\\":\\\"section1\\\",\\\"title\\\":\\\"Secci√≥n 1\\\",\\\"forms\\\":[{\\\"id\\\":\\\"form1\\\",\\\"fields\\\":[{\\\"id\\\":\\\"field1\\\",\\\"type\\\":\\\"text\\\",\\\"label\\\":\\\"Campo 1\\\"}]}]}]}\""], ["city_id", 214], ["country_id", nil], ["created_at", "2025-08-17 01:53:22.784326"], ["updated_at", "2025-08-17 01:53:22.784326"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers]   [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 214], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 246], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (1.29ms)
Completed 201 Created in 9ms (Views: 1.8ms | ActiveRecord: 3.1ms | Allocations: 2449)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:22.796338"], ["updated_at", "2025-08-17 01:53:22.796338"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:22.802279"], ["updated_at", "2025-08-17 01:53:22.802279"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 18"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 18"], ["created_at", "2025-08-17 01:53:22.804327"], ["updated_at", "2025-08-17 01:53:22.804327"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 17"], ["country_id", 247], ["LIMIT", 1]]
  [1m[36mCity Create (1.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 17"], ["country_id", 247], ["created_at", "2025-08-17 01:53:22.807141"], ["updated_at", "2025-08-17 01:53:22.807141"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow11"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "ec342594-472b-4f3a-8623-2864319e19e6"], ["name", "Flow11"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 215], ["country_id", nil], ["created_at", "2025-08-17 01:53:22.809548"], ["updated_at", "2025-08-17 01:53:22.809548"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/ec342594-472b-4f3a-8623-2864319e19e6" for 127.0.0.1 at 2025-08-16 20:53:22 -0500
Processing by FlowsController#show as HTML
  Parameters: {"id"=>"ec342594-472b-4f3a-8623-2864319e19e6"}
  [1m[36mFlow Load (0.7ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "ec342594-472b-4f3a-8623-2864319e19e6"], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCity Load (3.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 215], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 247], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (4.59ms)
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 4.2ms | Allocations: 1554)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:42.236785"], ["updated_at", "2025-08-17 01:53:42.236785"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:42.246351"], ["updated_at", "2025-08-17 01:53:42.246351"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 1"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 1"], ["created_at", "2025-08-17 01:53:42.262837"], ["updated_at", "2025-08-17 01:53:42.262837"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 1"], ["country_id", 248], ["LIMIT", 1]]
  [1m[36mCity Create (5.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 1"], ["country_id", 248], ["created_at", "2025-08-17 01:53:42.277203"], ["updated_at", "2025-08-17 01:53:42.277203"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:53:42 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"TestFlow", "json_schema"=>"{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}", "city_id"=>"216"}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.7ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "a1f1f02d-175c-4828-8cf3-f6b7f5a0c0fb"], ["name", "TestFlow"], ["json_schema", "\"{\\\"sections\\\":[{\\\"id\\\":\\\"section1\\\",\\\"title\\\":\\\"Secci√≥n 1\\\",\\\"forms\\\":[{\\\"id\\\":\\\"form1\\\",\\\"fields\\\":[{\\\"id\\\":\\\"field1\\\",\\\"type\\\":\\\"text\\\",\\\"label\\\":\\\"Campo 1\\\"}]}]}]}\""], ["city_id", 216], ["country_id", nil], ["created_at", "2025-08-17 01:53:42.293813"], ["updated_at", "2025-08-17 01:53:42.293813"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers]   [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 216], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 248], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (5.37ms)
Completed 201 Created in 15ms (Views: 3.9ms | ActiveRecord: 5.1ms | Allocations: 10724)
  [1m[36mFlow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:42.308550"], ["updated_at", "2025-08-17 01:53:42.308550"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:42.312359"], ["updated_at", "2025-08-17 01:53:42.312359"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 2"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 2"], ["created_at", "2025-08-17 01:53:42.313881"], ["updated_at", "2025-08-17 01:53:42.313881"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 2"], ["country_id", 249], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 2"], ["country_id", 249], ["created_at", "2025-08-17 01:53:42.316970"], ["updated_at", "2025-08-17 01:53:42.316970"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:53:42 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"", "json_schema"=>"{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}", "city_id"=>"217"}}
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (2.9ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.03ms)
Completed 422 Unprocessable Content in 133ms (Views: 0.8ms | ActiveRecord: 5.3ms | Allocations: 284411)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:42.467692"], ["updated_at", "2025-08-17 01:53:42.467692"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:42.473017"], ["updated_at", "2025-08-17 01:53:42.473017"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 3"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 3"], ["created_at", "2025-08-17 01:53:42.474878"], ["updated_at", "2025-08-17 01:53:42.474878"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 3"], ["country_id", 250], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 3"], ["country_id", 250], ["created_at", "2025-08-17 01:53:42.476986"], ["updated_at", "2025-08-17 01:53:42.476986"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:53:42 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"TestFlow", "json_schema"=>"{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}", "city_id"=>nil}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 1325)
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:42.486370"], ["updated_at", "2025-08-17 01:53:42.486370"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (3.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:42.492541"], ["updated_at", "2025-08-17 01:53:42.492541"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 4"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 4"], ["created_at", "2025-08-17 01:53:42.494613"], ["updated_at", "2025-08-17 01:53:42.494613"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 4"], ["country_id", 251], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 4"], ["country_id", 251], ["created_at", "2025-08-17 01:53:42.496513"], ["updated_at", "2025-08-17 01:53:42.496513"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:53:42 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"TestFlow", "json_schema"=>"{\"invalid\":\"structure\"}", "city_id"=>"219"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Completed 422 Unprocessable Content in 3ms (Views: 0.5ms | ActiveRecord: 1.4ms | Allocations: 1397)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:42.507170"], ["updated_at", "2025-08-17 01:53:42.507170"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:42.510913"], ["updated_at", "2025-08-17 01:53:42.510913"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 5"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 5"], ["created_at", "2025-08-17 01:53:42.513493"], ["updated_at", "2025-08-17 01:53:42.513493"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 5"], ["country_id", 252], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 5"], ["country_id", 252], ["created_at", "2025-08-17 01:53:42.516586"], ["updated_at", "2025-08-17 01:53:42.516586"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow1"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "43444708-62ee-4373-a114-13e97f483001"], ["name", "Flow1"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 220], ["country_id", nil], ["created_at", "2025-08-17 01:53:42.518932"], ["updated_at", "2025-08-17 01:53:42.518932"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/43444708-62ee-4373-a114-13e97f483001" for 127.0.0.1 at 2025-08-16 20:53:42 -0500
Processing by FlowsController#show as HTML
  Parameters: {"id"=>"43444708-62ee-4373-a114-13e97f483001"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "43444708-62ee-4373-a114-13e97f483001"], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCity Load (1.7ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 220], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 252], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (2.98ms)
Completed 200 OK in 5ms (Views: 1.6ms | ActiveRecord: 2.1ms | Allocations: 1579)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:42.529691"], ["updated_at", "2025-08-17 01:53:42.529691"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (5.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:42.533668"], ["updated_at", "2025-08-17 01:53:42.533668"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/invalid-uuid" for 127.0.0.1 at 2025-08-16 20:53:42 -0500
Processing by FlowsController#show as HTML
  Parameters: {"id"=>"invalid-uuid"}
  [1m[36mFlow Load (0.3ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.03ms)
Filter chain halted as :set_flow rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 855)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:42.546634"], ["updated_at", "2025-08-17 01:53:42.546634"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:42.550351"], ["updated_at", "2025-08-17 01:53:42.550351"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 6"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 6"], ["created_at", "2025-08-17 01:53:42.552811"], ["updated_at", "2025-08-17 01:53:42.552811"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 6"], ["country_id", 253], ["LIMIT", 1]]
  [1m[36mCity Create (0.5ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 6"], ["country_id", 253], ["created_at", "2025-08-17 01:53:42.554669"], ["updated_at", "2025-08-17 01:53:42.554669"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow2"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "a79cc260-ff43-42ca-be31-03d9f020deb7"], ["name", "Flow2"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 221], ["country_id", nil], ["created_at", "2025-08-17 01:53:42.556898"], ["updated_at", "2025-08-17 01:53:42.556898"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/flows/a79cc260-ff43-42ca-be31-03d9f020deb7" for 127.0.0.1 at 2025-08-16 20:53:42 -0500
Processing by FlowsController#update as HTML
  Parameters: {"flow"=>{"name"=>"UpdatedFlow", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "id"=>"a79cc260-ff43-42ca-be31-03d9f020deb7"}
  [1m[36mFlow Load (0.4ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "a79cc260-ff43-42ca-be31-03d9f020deb7"], ["LIMIT", 1]]
[31mUnpermitted parameter: :json_schema. Context: { controller: FlowsController, action: update, request: #<ActionDispatch::Request:0x0000000122bf6058>, params: {"flow"=>{"name"=>"UpdatedFlow", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "controller"=>"flows", "action"=>"update", "id"=>"a79cc260-ff43-42ca-be31-03d9f020deb7"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 AND "flows"."id" != $2 LIMIT $3[0m  [["name", "UpdatedFlow"], ["id", "a79cc260-ff43-42ca-be31-03d9f020deb7"], ["LIMIT", 1]]
  [1m[36mFlow Update (0.4ms)[0m  [1m[33mUPDATE "flows" SET "name" = $1, "updated_at" = $2 WHERE "flows"."id" = $3[0m  [["name", "UpdatedFlow"], ["updated_at", "2025-08-17 01:53:42.561078"], ["id", "a79cc260-ff43-42ca-be31-03d9f020deb7"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers]   [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 221], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 253], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (0.88ms)
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 1.7ms | Allocations: 2435)
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "a79cc260-ff43-42ca-be31-03d9f020deb7"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:42.577425"], ["updated_at", "2025-08-17 01:53:42.577425"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:42.582041"], ["updated_at", "2025-08-17 01:53:42.582041"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 7"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 7"], ["created_at", "2025-08-17 01:53:42.584046"], ["updated_at", "2025-08-17 01:53:42.584046"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 7"], ["country_id", 254], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 7"], ["country_id", 254], ["created_at", "2025-08-17 01:53:42.585858"], ["updated_at", "2025-08-17 01:53:42.585858"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow3"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "a5d57fe7-7938-40bd-82f5-8b719a689e3b"], ["name", "Flow3"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 222], ["country_id", nil], ["created_at", "2025-08-17 01:53:42.588353"], ["updated_at", "2025-08-17 01:53:42.588353"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/flows/a5d57fe7-7938-40bd-82f5-8b719a689e3b" for 127.0.0.1 at 2025-08-16 20:53:42 -0500
Processing by FlowsController#update as HTML
  Parameters: {"flow"=>{"name"=>"Invalid Flow Name", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "id"=>"a5d57fe7-7938-40bd-82f5-8b719a689e3b"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "a5d57fe7-7938-40bd-82f5-8b719a689e3b"], ["LIMIT", 1]]
[31mUnpermitted parameter: :json_schema. Context: { controller: FlowsController, action: update, request: #<ActionDispatch::Request:0x0000000125f1b050>, params: {"flow"=>{"name"=>"Invalid Flow Name", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "controller"=>"flows", "action"=>"update", "id"=>"a5d57fe7-7938-40bd-82f5-8b719a689e3b"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 AND "flows"."id" != $2 LIMIT $3[0m  [["name", "Invalid Flow Name"], ["id", "a5d57fe7-7938-40bd-82f5-8b719a689e3b"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 1720)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:42.597247"], ["updated_at", "2025-08-17 01:53:42.597247"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:42.603093"], ["updated_at", "2025-08-17 01:53:42.603093"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 8"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 8"], ["created_at", "2025-08-17 01:53:42.605161"], ["updated_at", "2025-08-17 01:53:42.605161"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 8"], ["country_id", 255], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 8"], ["country_id", 255], ["created_at", "2025-08-17 01:53:42.606870"], ["updated_at", "2025-08-17 01:53:42.606870"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow4"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "9bade580-d487-4a10-810b-4db6664f8200"], ["name", "Flow4"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 223], ["country_id", nil], ["created_at", "2025-08-17 01:53:42.608403"], ["updated_at", "2025-08-17 01:53:42.608403"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
Started DELETE "/flows/9bade580-d487-4a10-810b-4db6664f8200" for 127.0.0.1 at 2025-08-16 20:53:42 -0500
Processing by FlowsController#destroy as HTML
  Parameters: {"id"=>"9bade580-d487-4a10-810b-4db6664f8200"}
  [1m[36mFlow Load (0.3ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "9bade580-d487-4a10-810b-4db6664f8200"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlowSolution Load (0.6ms)[0m  [1m[34mSELECT "flow_solutions".* FROM "flow_solutions" WHERE "flow_solutions"."flow_id" = $1[0m  [["flow_id", "9bade580-d487-4a10-810b-4db6664f8200"]]
  [1m[36mFlow Destroy (0.4ms)[0m  [1m[31mDELETE FROM "flows" WHERE "flows"."id" = $1[0m  [["id", "9bade580-d487-4a10-810b-4db6664f8200"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 7ms (ActiveRecord: 3.0ms | Allocations: 3441)
  [1m[36mFlow Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:42.622734"], ["updated_at", "2025-08-17 01:53:42.622734"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:42.626379"], ["updated_at", "2025-08-17 01:53:42.626379"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 9"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 9"], ["created_at", "2025-08-17 01:53:42.628479"], ["updated_at", "2025-08-17 01:53:42.628479"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 9"], ["country_id", 256], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 9"], ["country_id", 256], ["created_at", "2025-08-17 01:53:42.630084"], ["updated_at", "2025-08-17 01:53:42.630084"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "UniqueFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "9db17745-f1a9-4d53-9dbf-1f96b211aa80"], ["name", "UniqueFlow"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 224], ["country_id", nil], ["created_at", "2025-08-17 01:53:42.632226"], ["updated_at", "2025-08-17 01:53:42.632226"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_name/UniqueFlow" for 127.0.0.1 at 2025-08-16 20:53:42 -0500
Processing by FlowsController#by_name as HTML
  Parameters: {"name"=>"UniqueFlow"}
  [1m[36mFlow Load (0.4ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "UniqueFlow"], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 224], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 256], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (1.18ms)
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.8ms | Allocations: 1528)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:42.641583"], ["updated_at", "2025-08-17 01:53:42.641583"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:42.644842"], ["updated_at", "2025-08-17 01:53:42.644842"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 10"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 10"], ["created_at", "2025-08-17 01:53:42.647117"], ["updated_at", "2025-08-17 01:53:42.647117"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 10"], ["country_id", 257], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 10"], ["country_id", 257], ["created_at", "2025-08-17 01:53:42.648831"], ["updated_at", "2025-08-17 01:53:42.648831"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "UniqueFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "4121cc34-04e7-4e7b-95d9-907c0c4aed13"], ["name", "UniqueFlow"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 225], ["country_id", nil], ["created_at", "2025-08-17 01:53:42.650067"], ["updated_at", "2025-08-17 01:53:42.650067"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_name/NonExistentFlow" for 127.0.0.1 at 2025-08-16 20:53:42 -0500
Processing by FlowsController#by_name as HTML
  Parameters: {"name"=>"NonExistentFlow"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "NonExistentFlow"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 828)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:42.656179"], ["updated_at", "2025-08-17 01:53:42.656179"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:42.659578"], ["updated_at", "2025-08-17 01:53:42.659578"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (2.7ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 11"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 11"], ["created_at", "2025-08-17 01:53:42.664139"], ["updated_at", "2025-08-17 01:53:42.664139"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 11"], ["country_id", 258], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 11"], ["country_id", 258], ["created_at", "2025-08-17 01:53:42.666577"], ["updated_at", "2025-08-17 01:53:42.666577"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow5"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "a5a4909c-f9e4-4cb0-b8bd-b17838b075ed"], ["name", "Flow5"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 226], ["country_id", nil], ["created_at", "2025-08-17 01:53:42.668627"], ["updated_at", "2025-08-17 01:53:42.668627"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow6"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "cf9cc8ca-15ee-4f60-b584-e0421bb3a56d"], ["name", "Flow6"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 226], ["country_id", nil], ["created_at", "2025-08-17 01:53:42.670140"], ["updated_at", "2025-08-17 01:53:42.670140"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 12"], ["country_id", 258], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 12"], ["country_id", 258], ["created_at", "2025-08-17 01:53:42.671506"], ["updated_at", "2025-08-17 01:53:42.671506"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow7"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "410bacd8-8d3f-4209-90a3-892c5383f408"], ["name", "Flow7"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 227], ["country_id", nil], ["created_at", "2025-08-17 01:53:42.673663"], ["updated_at", "2025-08-17 01:53:42.673663"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_city/226" for 127.0.0.1 at 2025-08-16 20:53:42 -0500
Processing by FlowsController#by_city as HTML
  Parameters: {"city_id"=>"226"}
  [1m[36mFlow Load (0.5ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."city_id" = $1[0m  [["city_id", 226]]
[active_model_serializers]   [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 226], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 258], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCACHE City Load (0.0ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 226], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCACHE Country Load (0.0ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 258], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (2.32ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 1.1ms | Allocations: 2151)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:42.685249"], ["updated_at", "2025-08-17 01:53:42.685249"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:42.688913"], ["updated_at", "2025-08-17 01:53:42.688913"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 12"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 12"], ["created_at", "2025-08-17 01:53:42.690807"], ["updated_at", "2025-08-17 01:53:42.690807"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 13"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 13"], ["created_at", "2025-08-17 01:53:42.692660"], ["updated_at", "2025-08-17 01:53:42.692660"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 13"], ["country_id", 260], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 13"], ["country_id", 260], ["created_at", "2025-08-17 01:53:42.695149"], ["updated_at", "2025-08-17 01:53:42.695149"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow8"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.6ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "94897de4-489d-428a-9ed0-ffe7e12495b3"], ["name", "Flow8"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 228], ["country_id", 259], ["created_at", "2025-08-17 01:53:42.697164"], ["updated_at", "2025-08-17 01:53:42.697164"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 14"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 14"], ["created_at", "2025-08-17 01:53:42.699763"], ["updated_at", "2025-08-17 01:53:42.699763"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 14"], ["country_id", 261], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 14"], ["country_id", 261], ["created_at", "2025-08-17 01:53:42.701753"], ["updated_at", "2025-08-17 01:53:42.701753"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow9"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "b9c6ca2d-0ee2-463e-9e25-d11fcadbfe73"], ["name", "Flow9"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 229], ["country_id", 259], ["created_at", "2025-08-17 01:53:42.703328"], ["updated_at", "2025-08-17 01:53:42.703328"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 15"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 15"], ["created_at", "2025-08-17 01:53:42.704980"], ["updated_at", "2025-08-17 01:53:42.704980"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 16"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 16"], ["created_at", "2025-08-17 01:53:42.706708"], ["updated_at", "2025-08-17 01:53:42.706708"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 15"], ["country_id", 263], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 15"], ["country_id", 263], ["created_at", "2025-08-17 01:53:42.708337"], ["updated_at", "2025-08-17 01:53:42.708337"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow10"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "7ff82b4d-e970-47eb-89cb-d1aaec85da00"], ["name", "Flow10"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 230], ["country_id", 262], ["created_at", "2025-08-17 01:53:42.710190"], ["updated_at", "2025-08-17 01:53:42.710190"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_country/259" for 127.0.0.1 at 2025-08-16 20:53:42 -0500
Processing by FlowsController#by_country as HTML
  Parameters: {"country_id"=>"259"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."country_id" = $1[0m  [["country_id", 259]]
[active_model_serializers]   [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 228], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 260], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.5ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 259], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 229], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 261], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCACHE Country Load (0.0ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 259], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (4.09ms)
Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 1.4ms | Allocations: 2737)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:42.722182"], ["updated_at", "2025-08-17 01:53:42.722182"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:42.727471"], ["updated_at", "2025-08-17 01:53:42.727471"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", "Ciudad 1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 3"], ["LIMIT", 1]]
  [1m[36mCountry Create (1.1ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 3"], ["created_at", "2025-08-17 01:53:50.114087"], ["updated_at", "2025-08-17 01:53:50.114087"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 2"], ["country_id", 264], ["LIMIT", 1]]
  [1m[36mCity Create (1.6ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 2"], ["country_id", 264], ["created_at", "2025-08-17 01:53:50.117242"], ["updated_at", "2025-08-17 01:53:50.117242"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 4"], ["LIMIT", 1]]
  [1m[36mCountry Create (1.1ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 4"], ["created_at", "2025-08-17 01:53:50.122406"], ["updated_at", "2025-08-17 01:53:50.122406"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow2"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 5"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 5"], ["created_at", "2025-08-17 01:53:50.126977"], ["updated_at", "2025-08-17 01:53:50.126977"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 3"], ["country_id", 266], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 3"], ["country_id", 266], ["created_at", "2025-08-17 01:53:50.140430"], ["updated_at", "2025-08-17 01:53:50.140430"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 6"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 6"], ["created_at", "2025-08-17 01:53:50.142127"], ["updated_at", "2025-08-17 01:53:50.142127"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow3"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow4"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
  [1m[36mCity Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE "cities"."name" IS NULL AND "cities"."country_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"], ["LIMIT", 1]]
  [1m[36mCity Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", "Ciudad 6"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE "cities"."name" IS NULL AND "cities"."country_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 10"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 10"], ["created_at", "2025-08-17 01:53:50.279375"], ["updated_at", "2025-08-17 01:53:50.279375"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Bogot√°"], ["country_id", 268], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Bogot√°"], ["country_id", 268], ["created_at", "2025-08-17 01:53:50.280816"], ["updated_at", "2025-08-17 01:53:50.280816"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Medell√≠n"], ["country_id", 268], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 11"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 11"], ["created_at", "2025-08-17 01:53:50.283914"], ["updated_at", "2025-08-17 01:53:50.283914"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Bogot√°"], ["country_id", 269], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Bogot√°"], ["country_id", 269], ["created_at", "2025-08-17 01:53:50.285314"], ["updated_at", "2025-08-17 01:53:50.285314"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Bogot√°"], ["country_id", 269], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Colombia"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Colombia"], ["created_at", "2025-08-17 01:53:50.287427"], ["updated_at", "2025-08-17 01:53:50.287427"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Argentina"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Argentina"], ["created_at", "2025-08-17 01:53:50.288635"], ["updated_at", "2025-08-17 01:53:50.288635"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Buenos Aires"], ["country_id", 270], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Buenos Aires"], ["country_id", 270], ["created_at", "2025-08-17 01:53:50.290263"], ["updated_at", "2025-08-17 01:53:50.290263"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Buenos Aires"], ["country_id", 271], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 12"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 12"], ["created_at", "2025-08-17 01:53:50.293183"], ["updated_at", "2025-08-17 01:53:50.293183"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "  bogota  "], ["country_id", 272], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Bogota"], ["country_id", 272], ["created_at", "2025-08-17 01:53:50.294531"], ["updated_at", "2025-08-17 01:53:50.294531"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 13"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.1ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 13"], ["created_at", "2025-08-17 01:53:50.296621"], ["updated_at", "2025-08-17 01:53:50.296621"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Medell√≠n"], ["country_id", 273], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", "Ciudad 7"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
  [1m[36mCountry Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" ORDER BY "countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (1.1ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 15"], ["created_at", "2025-08-17 01:53:50.306118"], ["updated_at", "2025-08-17 01:53:50.306118"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 15"], ["LIMIT", 1]]
  [1m[36mCountry Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "pA√çS 15"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"], ["LIMIT", 1]]
  [1m[36mCountry Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "  mexico  "], ["LIMIT", 1]]
  [1m[36mCountry Create (1.6ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Mexico"], ["created_at", "2025-08-17 01:53:50.314234"], ["updated_at", "2025-08-17 01:53:50.314234"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "m√©xico"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "M√©xico"], ["created_at", "2025-08-17 01:53:50.318166"], ["updated_at", "2025-08-17 01:53:50.318166"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Colombia"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (5.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (6.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Argentina"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Argentina"], ["created_at", "2025-08-17 01:53:50.326545"], ["updated_at", "2025-08-17 01:53:50.326545"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Argentina"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (3.1ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 17"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.8ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 17"], ["created_at", "2025-08-17 01:53:50.333911"], ["updated_at", "2025-08-17 01:53:50.333911"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 8"], ["country_id", 278], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 8"], ["country_id", 278], ["created_at", "2025-08-17 01:53:50.336015"], ["updated_at", "2025-08-17 01:53:50.336015"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 18"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 18"], ["created_at", "2025-08-17 01:53:50.342864"], ["updated_at", "2025-08-17 01:53:50.342864"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 9"], ["country_id", 279], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 9"], ["country_id", 279], ["created_at", "2025-08-17 01:53:50.344218"], ["updated_at", "2025-08-17 01:53:50.344218"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" ORDER BY "flows"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Create (0.7ms)[0m  [1m[32mINSERT INTO "flows" ("name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Flow6"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 238], ["country_id", nil], ["created_at", "2025-08-17 01:53:50.345667"], ["updated_at", "2025-08-17 01:53:50.345667"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow6"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "fLOW6"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 19"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 19"], ["created_at", "2025-08-17 01:53:50.351866"], ["updated_at", "2025-08-17 01:53:50.351866"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 10"], ["country_id", 280], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 10"], ["country_id", 280], ["created_at", "2025-08-17 01:53:50.353511"], ["updated_at", "2025-08-17 01:53:50.353511"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow7"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 20"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 20"], ["created_at", "2025-08-17 01:53:50.359738"], ["updated_at", "2025-08-17 01:53:50.359738"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 11"], ["country_id", 281], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 11"], ["country_id", 281], ["created_at", "2025-08-17 01:53:50.361102"], ["updated_at", "2025-08-17 01:53:50.361102"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 21"], ["LIMIT", 1]]
  [1m[36mCountry Create (1.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 21"], ["created_at", "2025-08-17 01:53:50.362621"], ["updated_at", "2025-08-17 01:53:50.362621"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 12"], ["country_id", 282], ["LIMIT", 1]]
  [1m[36mCity Create (0.6ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 12"], ["country_id", 282], ["created_at", "2025-08-17 01:53:50.365961"], ["updated_at", "2025-08-17 01:53:50.365961"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "MyFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 22"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 22"], ["created_at", "2025-08-17 01:53:50.368508"], ["updated_at", "2025-08-17 01:53:50.368508"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 13"], ["country_id", 283], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 13"], ["country_id", 283], ["created_at", "2025-08-17 01:53:50.369749"], ["updated_at", "2025-08-17 01:53:50.369749"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "FLOW123"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 23"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 23"], ["created_at", "2025-08-17 01:53:50.371293"], ["updated_at", "2025-08-17 01:53:50.371293"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 14"], ["country_id", 284], ["LIMIT", 1]]
  [1m[36mCity Create (3.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 14"], ["country_id", 284], ["created_at", "2025-08-17 01:53:50.372585"], ["updated_at", "2025-08-17 01:53:50.372585"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "flow456"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 24"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 24"], ["created_at", "2025-08-17 01:53:50.378762"], ["updated_at", "2025-08-17 01:53:50.378762"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 15"], ["country_id", 285], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 15"], ["country_id", 285], ["created_at", "2025-08-17 01:53:50.379958"], ["updated_at", "2025-08-17 01:53:50.379958"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow 1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 25"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.8ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 25"], ["created_at", "2025-08-17 01:53:50.382326"], ["updated_at", "2025-08-17 01:53:50.382326"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (5.1ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 16"], ["country_id", 286], ["LIMIT", 1]]
  [1m[36mCity Create (1.0ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 16"], ["country_id", 286], ["created_at", "2025-08-17 01:53:50.389191"], ["updated_at", "2025-08-17 01:53:50.389191"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "My-Flow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 26"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 26"], ["created_at", "2025-08-17 01:53:50.393567"], ["updated_at", "2025-08-17 01:53:50.393567"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 17"], ["country_id", 287], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 17"], ["country_id", 287], ["created_at", "2025-08-17 01:53:50.395836"], ["updated_at", "2025-08-17 01:53:50.395836"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "FLOW@123"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 27"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.8ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 27"], ["created_at", "2025-08-17 01:53:50.397797"], ["updated_at", "2025-08-17 01:53:50.397797"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 18"], ["country_id", 288], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 18"], ["country_id", 288], ["created_at", "2025-08-17 01:53:50.400181"], ["updated_at", "2025-08-17 01:53:50.400181"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "flow#456"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 28"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 28"], ["created_at", "2025-08-17 01:53:50.402200"], ["updated_at", "2025-08-17 01:53:50.402200"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 19"], ["country_id", 289], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 19"], ["country_id", 289], ["created_at", "2025-08-17 01:53:50.403166"], ["updated_at", "2025-08-17 01:53:50.403166"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow8"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 29"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 29"], ["created_at", "2025-08-17 01:53:50.409413"], ["updated_at", "2025-08-17 01:53:50.409413"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 20"], ["country_id", 290], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 20"], ["country_id", 290], ["created_at", "2025-08-17 01:53:50.410931"], ["updated_at", "2025-08-17 01:53:50.410931"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow9"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 30"], ["LIMIT", 1]]
  [1m[36mCountry Create (1.0ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 30"], ["created_at", "2025-08-17 01:53:50.415146"], ["updated_at", "2025-08-17 01:53:50.415146"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow10"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 31"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 31"], ["created_at", "2025-08-17 01:53:50.418923"], ["updated_at", "2025-08-17 01:53:50.418923"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 21"], ["country_id", 292], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 21"], ["country_id", 292], ["created_at", "2025-08-17 01:53:50.420113"], ["updated_at", "2025-08-17 01:53:50.420113"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 32"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 32"], ["created_at", "2025-08-17 01:53:50.421107"], ["updated_at", "2025-08-17 01:53:50.421107"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow11"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 33"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 33"], ["created_at", "2025-08-17 01:53:50.425294"], ["updated_at", "2025-08-17 01:53:50.425294"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 22"], ["country_id", 294], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 22"], ["country_id", 294], ["created_at", "2025-08-17 01:53:50.427994"], ["updated_at", "2025-08-17 01:53:50.427994"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow12"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 34"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 34"], ["created_at", "2025-08-17 01:53:50.430545"], ["updated_at", "2025-08-17 01:53:50.430545"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 23"], ["country_id", 295], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 23"], ["country_id", 295], ["created_at", "2025-08-17 01:53:50.432996"], ["updated_at", "2025-08-17 01:53:50.432996"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow13"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 35"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 35"], ["created_at", "2025-08-17 01:53:50.436433"], ["updated_at", "2025-08-17 01:53:50.436433"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 24"], ["country_id", 296], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 24"], ["country_id", 296], ["created_at", "2025-08-17 01:53:50.437632"], ["updated_at", "2025-08-17 01:53:50.437632"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow14"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (5.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (5.9ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 36"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 36"], ["created_at", "2025-08-17 01:53:50.453769"], ["updated_at", "2025-08-17 01:53:50.453769"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 25"], ["country_id", 297], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 25"], ["country_id", 297], ["created_at", "2025-08-17 01:53:50.455330"], ["updated_at", "2025-08-17 01:53:50.455330"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow15"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "ad495514-c525-49ef-9f91-77e6a95e1aa9"], ["name", "Flow15"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 254], ["country_id", nil], ["created_at", "2025-08-17 01:53:50.456674"], ["updated_at", "2025-08-17 01:53:50.456674"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 37"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 37"], ["created_at", "2025-08-17 01:53:50.460132"], ["updated_at", "2025-08-17 01:53:50.460132"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 26"], ["country_id", 298], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 26"], ["country_id", 298], ["created_at", "2025-08-17 01:53:50.461445"], ["updated_at", "2025-08-17 01:53:50.461445"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow16"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "4587ce45-671a-4bbf-872c-74931e32ae63"], ["name", "Flow16"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 255], ["country_id", nil], ["created_at", "2025-08-17 01:53:50.462534"], ["updated_at", "2025-08-17 01:53:50.462534"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 38"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 38"], ["created_at", "2025-08-17 01:53:50.463805"], ["updated_at", "2025-08-17 01:53:50.463805"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 27"], ["country_id", 299], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 27"], ["country_id", 299], ["created_at", "2025-08-17 01:53:50.465444"], ["updated_at", "2025-08-17 01:53:50.465444"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow17"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "d87ba292-a451-40a7-af82-584609473923"], ["name", "Flow17"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 256], ["country_id", 298], ["created_at", "2025-08-17 01:53:50.467046"], ["updated_at", "2025-08-17 01:53:50.467046"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 39"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 39"], ["created_at", "2025-08-17 01:53:50.468893"], ["updated_at", "2025-08-17 01:53:50.468893"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 28"], ["country_id", 300], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 28"], ["country_id", 300], ["created_at", "2025-08-17 01:53:50.471292"], ["updated_at", "2025-08-17 01:53:50.471292"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow18"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "5050fc2a-39ef-4786-b710-8592ecfe9674"], ["name", "Flow18"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 257], ["country_id", nil], ["created_at", "2025-08-17 01:53:50.472750"], ["updated_at", "2025-08-17 01:53:50.472750"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."city_id" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["city_id", 255], ["id", "4587ce45-671a-4bbf-872c-74931e32ae63"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."city_id" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["city_id", 255], ["id", "d87ba292-a451-40a7-af82-584609473923"], ["LIMIT", 1]]
  [1m[36mFlow Load (0.1ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."city_id" = $1[0m  [["city_id", 255]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 40"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 40"], ["created_at", "2025-08-17 01:53:50.476523"], ["updated_at", "2025-08-17 01:53:50.476523"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 29"], ["country_id", 301], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 29"], ["country_id", 301], ["created_at", "2025-08-17 01:53:50.477720"], ["updated_at", "2025-08-17 01:53:50.477720"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow19"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "70c55d96-c337-4870-8f2d-737e43489c93"], ["name", "Flow19"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 258], ["country_id", nil], ["created_at", "2025-08-17 01:53:50.478806"], ["updated_at", "2025-08-17 01:53:50.478806"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 41"], ["LIMIT", 1]]
  [1m[36mCountry Create (1.5ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 41"], ["created_at", "2025-08-17 01:53:50.480023"], ["updated_at", "2025-08-17 01:53:50.480023"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 30"], ["country_id", 302], ["LIMIT", 1]]
  [1m[36mCity Create (1.5ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 30"], ["country_id", 302], ["created_at", "2025-08-17 01:53:50.488669"], ["updated_at", "2025-08-17 01:53:50.488669"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow20"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "f51af367-7417-4864-8629-1b7e3d8e0d5e"], ["name", "Flow20"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 259], ["country_id", 301], ["created_at", "2025-08-17 01:53:50.499633"], ["updated_at", "2025-08-17 01:53:50.499633"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 42"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 42"], ["created_at", "2025-08-17 01:53:50.502511"], ["updated_at", "2025-08-17 01:53:50.502511"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 31"], ["country_id", 303], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 31"], ["country_id", 303], ["created_at", "2025-08-17 01:53:50.503665"], ["updated_at", "2025-08-17 01:53:50.503665"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow21"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "eb0dffa5-9b7d-4c45-b904-6d1bf0fc6c0f"], ["name", "Flow21"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 260], ["country_id", nil], ["created_at", "2025-08-17 01:53:50.504599"], ["updated_at", "2025-08-17 01:53:50.504599"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."country_id" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["country_id", 301], ["id", "f51af367-7417-4864-8629-1b7e3d8e0d5e"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."country_id" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["country_id", 301], ["id", "70c55d96-c337-4870-8f2d-737e43489c93"], ["LIMIT", 1]]
  [1m[36mFlow Load (0.3ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."country_id" = $1[0m  [["country_id", 301]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 43"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 43"], ["created_at", "2025-08-17 01:53:50.509047"], ["updated_at", "2025-08-17 01:53:50.509047"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 32"], ["country_id", 304], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 32"], ["country_id", 304], ["created_at", "2025-08-17 01:53:50.510509"], ["updated_at", "2025-08-17 01:53:50.510509"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow22"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "9473fae5-6c56-4278-993d-8de6a38f4a5a"], ["name", "Flow22"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 261], ["country_id", nil], ["created_at", "2025-08-17 01:53:50.511555"], ["updated_at", "2025-08-17 01:53:50.511555"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 44"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 44"], ["created_at", "2025-08-17 01:53:50.516436"], ["updated_at", "2025-08-17 01:53:50.516436"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 33"], ["country_id", 305], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 33"], ["country_id", 305], ["created_at", "2025-08-17 01:53:50.518635"], ["updated_at", "2025-08-17 01:53:50.518635"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow23"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "0c79711d-8b54-489a-a048-42d8ebb8c42d"], ["name", "Flow23"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 262], ["country_id", 304], ["created_at", "2025-08-17 01:53:50.519708"], ["updated_at", "2025-08-17 01:53:50.519708"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 45"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 45"], ["created_at", "2025-08-17 01:53:50.520993"], ["updated_at", "2025-08-17 01:53:50.520993"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 34"], ["country_id", 306], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 34"], ["country_id", 306], ["created_at", "2025-08-17 01:53:50.521963"], ["updated_at", "2025-08-17 01:53:50.521963"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow24"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "b7da9acb-2f68-4fec-9fe1-356f070f83bd"], ["name", "Flow24"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 263], ["country_id", nil], ["created_at", "2025-08-17 01:53:50.524627"], ["updated_at", "2025-08-17 01:53:50.524627"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["name", "Flow22"], ["id", "9473fae5-6c56-4278-993d-8de6a38f4a5a"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 46"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 46"], ["created_at", "2025-08-17 01:53:50.528258"], ["updated_at", "2025-08-17 01:53:50.528258"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 35"], ["country_id", 307], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 35"], ["country_id", 307], ["created_at", "2025-08-17 01:53:50.529560"], ["updated_at", "2025-08-17 01:53:50.529560"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow25"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow25"], ["LIMIT", 1]]
  [1m[36mFlow Create (3.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "8c04226c-ec81-4265-b38d-9dd43108b14f"], ["name", "Flow25"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 264], ["country_id", nil], ["created_at", "2025-08-17 01:53:50.530866"], ["updated_at", "2025-08-17 01:53:50.530866"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 47"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 47"], ["created_at", "2025-08-17 01:53:50.536933"], ["updated_at", "2025-08-17 01:53:50.536933"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 36"], ["country_id", 308], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 36"], ["country_id", 308], ["created_at", "2025-08-17 01:53:50.538089"], ["updated_at", "2025-08-17 01:53:50.538089"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.5ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "c10cb58b-1c5d-4a0d-8706-67733d0ff5ca"], ["name", "TestFlow"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 265], ["country_id", nil], ["created_at", "2025-08-17 01:53:50.539484"], ["updated_at", "2025-08-17 01:53:50.539484"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 48"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 48"], ["created_at", "2025-08-17 01:53:50.541967"], ["updated_at", "2025-08-17 01:53:50.541967"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (7.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 37"], ["country_id", 309], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 37"], ["country_id", 309], ["created_at", "2025-08-17 01:53:50.553303"], ["updated_at", "2025-08-17 01:53:50.553303"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:50.574937"], ["updated_at", "2025-08-17 01:53:50.574937"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:50.579220"], ["updated_at", "2025-08-17 01:53:50.579220"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 49"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 49"], ["created_at", "2025-08-17 01:53:50.583381"], ["updated_at", "2025-08-17 01:53:50.583381"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 38"], ["country_id", 310], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 38"], ["country_id", 310], ["created_at", "2025-08-17 01:53:50.585243"], ["updated_at", "2025-08-17 01:53:50.585243"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:53:50 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"TestFlow", "json_schema"=>"{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}", "city_id"=>"267"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "1741cdb1-c8a4-49b1-b27b-db0adafd7fa7"], ["name", "TestFlow"], ["json_schema", "\"{\\\"sections\\\":[{\\\"id\\\":\\\"section1\\\",\\\"title\\\":\\\"Secci√≥n 1\\\",\\\"forms\\\":[{\\\"id\\\":\\\"form1\\\",\\\"fields\\\":[{\\\"id\\\":\\\"field1\\\",\\\"type\\\":\\\"text\\\",\\\"label\\\":\\\"Campo 1\\\"}]}]}]}\""], ["city_id", 267], ["country_id", nil], ["created_at", "2025-08-17 01:53:50.594158"], ["updated_at", "2025-08-17 01:53:50.594158"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers]   [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 267], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 310], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (2.73ms)
Completed 201 Created in 9ms (Views: 3.5ms | ActiveRecord: 1.9ms | Allocations: 6775)
  [1m[36mFlow Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:50.604764"], ["updated_at", "2025-08-17 01:53:50.604764"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:50.608335"], ["updated_at", "2025-08-17 01:53:50.608335"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 50"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 50"], ["created_at", "2025-08-17 01:53:50.610775"], ["updated_at", "2025-08-17 01:53:50.610775"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 39"], ["country_id", 311], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 39"], ["country_id", 311], ["created_at", "2025-08-17 01:53:50.611979"], ["updated_at", "2025-08-17 01:53:50.611979"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:53:50 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"", "json_schema"=>"{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}", "city_id"=>"268"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Completed 422 Unprocessable Content in 3ms (Views: 0.8ms | ActiveRecord: 0.7ms | Allocations: 2286)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:50.620842"], ["updated_at", "2025-08-17 01:53:50.620842"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:50.624784"], ["updated_at", "2025-08-17 01:53:50.624784"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 51"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 51"], ["created_at", "2025-08-17 01:53:50.626933"], ["updated_at", "2025-08-17 01:53:50.626933"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 40"], ["country_id", 312], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 40"], ["country_id", 312], ["created_at", "2025-08-17 01:53:50.628089"], ["updated_at", "2025-08-17 01:53:50.628089"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:53:50 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"TestFlow", "json_schema"=>"{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}", "city_id"=>nil}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Completed 422 Unprocessable Content in 3ms (Views: 0.3ms | ActiveRecord: 1.6ms | Allocations: 1322)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:50.636627"], ["updated_at", "2025-08-17 01:53:50.636627"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (5.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:50.645079"], ["updated_at", "2025-08-17 01:53:50.645079"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 52"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 52"], ["created_at", "2025-08-17 01:53:50.646675"], ["updated_at", "2025-08-17 01:53:50.646675"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 41"], ["country_id", 313], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 41"], ["country_id", 313], ["created_at", "2025-08-17 01:53:50.648383"], ["updated_at", "2025-08-17 01:53:50.648383"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:53:50 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"TestFlow", "json_schema"=>"{\"invalid\":\"structure\"}", "city_id"=>"270"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.3ms | ActiveRecord: 0.8ms | Allocations: 1380)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:50.656585"], ["updated_at", "2025-08-17 01:53:50.656585"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:50.660154"], ["updated_at", "2025-08-17 01:53:50.660154"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 53"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 53"], ["created_at", "2025-08-17 01:53:50.662761"], ["updated_at", "2025-08-17 01:53:50.662761"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 42"], ["country_id", 314], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 42"], ["country_id", 314], ["created_at", "2025-08-17 01:53:50.664370"], ["updated_at", "2025-08-17 01:53:50.664370"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow26"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "aae46757-e0e7-47fa-a793-5a6cb5fbe9b4"], ["name", "Flow26"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 271], ["country_id", nil], ["created_at", "2025-08-17 01:53:50.665948"], ["updated_at", "2025-08-17 01:53:50.665948"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/aae46757-e0e7-47fa-a793-5a6cb5fbe9b4" for 127.0.0.1 at 2025-08-16 20:53:50 -0500
Processing by FlowsController#show as HTML
  Parameters: {"id"=>"aae46757-e0e7-47fa-a793-5a6cb5fbe9b4"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "aae46757-e0e7-47fa-a793-5a6cb5fbe9b4"], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 271], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 314], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (0.9ms)
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.5ms | Allocations: 1546)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:50.673966"], ["updated_at", "2025-08-17 01:53:50.673966"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:50.677057"], ["updated_at", "2025-08-17 01:53:50.677057"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/invalid-uuid" for 127.0.0.1 at 2025-08-16 20:53:50 -0500
Processing by FlowsController#show as HTML
  Parameters: {"id"=>"invalid-uuid"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Filter chain halted as :set_flow rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 855)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:50.683682"], ["updated_at", "2025-08-17 01:53:50.683682"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:50.686670"], ["updated_at", "2025-08-17 01:53:50.686670"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 54"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 54"], ["created_at", "2025-08-17 01:53:50.688050"], ["updated_at", "2025-08-17 01:53:50.688050"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 43"], ["country_id", 315], ["LIMIT", 1]]
  [1m[36mCity Create (1.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 43"], ["country_id", 315], ["created_at", "2025-08-17 01:53:50.689344"], ["updated_at", "2025-08-17 01:53:50.689344"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow27"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "bf8a4fb2-dace-481d-b185-72e48bd2a98f"], ["name", "Flow27"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 272], ["country_id", nil], ["created_at", "2025-08-17 01:53:50.692191"], ["updated_at", "2025-08-17 01:53:50.692191"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/flows/bf8a4fb2-dace-481d-b185-72e48bd2a98f" for 127.0.0.1 at 2025-08-16 20:53:50 -0500
Processing by FlowsController#update as HTML
  Parameters: {"flow"=>{"name"=>"UpdatedFlow", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "id"=>"bf8a4fb2-dace-481d-b185-72e48bd2a98f"}
  [1m[36mFlow Load (0.5ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "bf8a4fb2-dace-481d-b185-72e48bd2a98f"], ["LIMIT", 1]]
[31mUnpermitted parameter: :json_schema. Context: { controller: FlowsController, action: update, request: #<ActionDispatch::Request:0x0000000126dd2b20>, params: {"flow"=>{"name"=>"UpdatedFlow", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "controller"=>"flows", "action"=>"update", "id"=>"bf8a4fb2-dace-481d-b185-72e48bd2a98f"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 AND "flows"."id" != $2 LIMIT $3[0m  [["name", "UpdatedFlow"], ["id", "bf8a4fb2-dace-481d-b185-72e48bd2a98f"], ["LIMIT", 1]]
  [1m[36mFlow Update (0.3ms)[0m  [1m[33mUPDATE "flows" SET "name" = $1, "updated_at" = $2 WHERE "flows"."id" = $3[0m  [["name", "UpdatedFlow"], ["updated_at", "2025-08-17 01:53:50.696411"], ["id", "bf8a4fb2-dace-481d-b185-72e48bd2a98f"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers]   [1m[36mCity Load (1.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 272], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 315], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (2.23ms)
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 2.9ms | Allocations: 2433)
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "bf8a4fb2-dace-481d-b185-72e48bd2a98f"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:50.703909"], ["updated_at", "2025-08-17 01:53:50.703909"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:50.708919"], ["updated_at", "2025-08-17 01:53:50.708919"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 55"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 55"], ["created_at", "2025-08-17 01:53:50.711208"], ["updated_at", "2025-08-17 01:53:50.711208"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 44"], ["country_id", 316], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 44"], ["country_id", 316], ["created_at", "2025-08-17 01:53:50.712250"], ["updated_at", "2025-08-17 01:53:50.712250"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow28"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "81cd58df-0fe0-4cb9-b201-45a4667dc481"], ["name", "Flow28"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 273], ["country_id", nil], ["created_at", "2025-08-17 01:53:50.713458"], ["updated_at", "2025-08-17 01:53:50.713458"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/flows/81cd58df-0fe0-4cb9-b201-45a4667dc481" for 127.0.0.1 at 2025-08-16 20:53:50 -0500
Processing by FlowsController#update as HTML
  Parameters: {"flow"=>{"name"=>"Invalid Flow Name", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "id"=>"81cd58df-0fe0-4cb9-b201-45a4667dc481"}
  [1m[36mFlow Load (0.7ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "81cd58df-0fe0-4cb9-b201-45a4667dc481"], ["LIMIT", 1]]
[31mUnpermitted parameter: :json_schema. Context: { controller: FlowsController, action: update, request: #<ActionDispatch::Request:0x00000001259f03c8>, params: {"flow"=>{"name"=>"Invalid Flow Name", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "controller"=>"flows", "action"=>"update", "id"=>"81cd58df-0fe0-4cb9-b201-45a4667dc481"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 AND "flows"."id" != $2 LIMIT $3[0m  [["name", "Invalid Flow Name"], ["id", "81cd58df-0fe0-4cb9-b201-45a4667dc481"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Completed 422 Unprocessable Content in 4ms (Views: 0.4ms | ActiveRecord: 1.8ms | Allocations: 1711)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:50.722611"], ["updated_at", "2025-08-17 01:53:50.722611"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:50.727015"], ["updated_at", "2025-08-17 01:53:50.727015"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 56"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 56"], ["created_at", "2025-08-17 01:53:50.729036"], ["updated_at", "2025-08-17 01:53:50.729036"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 45"], ["country_id", 317], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 45"], ["country_id", 317], ["created_at", "2025-08-17 01:53:50.730572"], ["updated_at", "2025-08-17 01:53:50.730572"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow29"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.6ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "c573e66a-ff53-4e3b-96f3-2dbd892ca014"], ["name", "Flow29"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 274], ["country_id", nil], ["created_at", "2025-08-17 01:53:50.734217"], ["updated_at", "2025-08-17 01:53:50.734217"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
Started DELETE "/flows/c573e66a-ff53-4e3b-96f3-2dbd892ca014" for 127.0.0.1 at 2025-08-16 20:53:50 -0500
Processing by FlowsController#destroy as HTML
  Parameters: {"id"=>"c573e66a-ff53-4e3b-96f3-2dbd892ca014"}
  [1m[36mFlow Load (0.3ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "c573e66a-ff53-4e3b-96f3-2dbd892ca014"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlowSolution Load (1.9ms)[0m  [1m[34mSELECT "flow_solutions".* FROM "flow_solutions" WHERE "flow_solutions"."flow_id" = $1[0m  [["flow_id", "c573e66a-ff53-4e3b-96f3-2dbd892ca014"]]
  [1m[36mFlow Destroy (0.7ms)[0m  [1m[31mDELETE FROM "flows" WHERE "flows"."id" = $1[0m  [["id", "c573e66a-ff53-4e3b-96f3-2dbd892ca014"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 6ms (ActiveRecord: 3.5ms | Allocations: 1835)
  [1m[36mFlow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:50.747190"], ["updated_at", "2025-08-17 01:53:50.747190"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:50.751838"], ["updated_at", "2025-08-17 01:53:50.751838"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 57"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 57"], ["created_at", "2025-08-17 01:53:50.753489"], ["updated_at", "2025-08-17 01:53:50.753489"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 46"], ["country_id", 318], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 46"], ["country_id", 318], ["created_at", "2025-08-17 01:53:50.754759"], ["updated_at", "2025-08-17 01:53:50.754759"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "UniqueFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (1.8ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "f5581e2a-7557-4acf-850a-85cc1afb2a68"], ["name", "UniqueFlow"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 275], ["country_id", nil], ["created_at", "2025-08-17 01:53:50.757039"], ["updated_at", "2025-08-17 01:53:50.757039"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_name/UniqueFlow" for 127.0.0.1 at 2025-08-16 20:53:50 -0500
Processing by FlowsController#by_name as HTML
  Parameters: {"name"=>"UniqueFlow"}
  [1m[36mFlow Load (0.3ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "UniqueFlow"], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 275], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 318], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (1.54ms)
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.9ms | Allocations: 1523)
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:50.770078"], ["updated_at", "2025-08-17 01:53:50.770078"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:50.775051"], ["updated_at", "2025-08-17 01:53:50.775051"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 58"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 58"], ["created_at", "2025-08-17 01:53:50.777453"], ["updated_at", "2025-08-17 01:53:50.777453"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 47"], ["country_id", 319], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 47"], ["country_id", 319], ["created_at", "2025-08-17 01:53:50.780231"], ["updated_at", "2025-08-17 01:53:50.780231"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "UniqueFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "36af3721-1d59-438f-b515-9a59a92368d4"], ["name", "UniqueFlow"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 276], ["country_id", nil], ["created_at", "2025-08-17 01:53:50.783002"], ["updated_at", "2025-08-17 01:53:50.783002"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_name/NonExistentFlow" for 127.0.0.1 at 2025-08-16 20:53:50 -0500
Processing by FlowsController#by_name as HTML
  Parameters: {"name"=>"NonExistentFlow"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "NonExistentFlow"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.01ms)
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 827)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:50.790797"], ["updated_at", "2025-08-17 01:53:50.790797"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:50.794594"], ["updated_at", "2025-08-17 01:53:50.794594"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 59"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 59"], ["created_at", "2025-08-17 01:53:50.796297"], ["updated_at", "2025-08-17 01:53:50.796297"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 48"], ["country_id", 320], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 48"], ["country_id", 320], ["created_at", "2025-08-17 01:53:50.798957"], ["updated_at", "2025-08-17 01:53:50.798957"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow30"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.6ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "b9d1304d-f0a5-48d4-a3cc-9ee889b5ae41"], ["name", "Flow30"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 277], ["country_id", nil], ["created_at", "2025-08-17 01:53:50.802091"], ["updated_at", "2025-08-17 01:53:50.802091"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow31"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "8b73966b-ef5a-4d1c-a4e2-c99dda3b43d5"], ["name", "Flow31"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 277], ["country_id", nil], ["created_at", "2025-08-17 01:53:50.804714"], ["updated_at", "2025-08-17 01:53:50.804714"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 49"], ["country_id", 320], ["LIMIT", 1]]
  [1m[36mCity Create (0.9ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 49"], ["country_id", 320], ["created_at", "2025-08-17 01:53:50.808430"], ["updated_at", "2025-08-17 01:53:50.808430"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow32"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "96f8a0ab-54ba-4e8f-acd5-77730a113a71"], ["name", "Flow32"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 278], ["country_id", nil], ["created_at", "2025-08-17 01:53:50.811402"], ["updated_at", "2025-08-17 01:53:50.811402"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_city/277" for 127.0.0.1 at 2025-08-16 20:53:50 -0500
Processing by FlowsController#by_city as HTML
  Parameters: {"city_id"=>"277"}
  [1m[36mFlow Load (1.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."city_id" = $1[0m  [["city_id", 277]]
[active_model_serializers]   [1m[36mCity Load (0.4ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 277], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 320], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCACHE City Load (0.0ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 277], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCACHE Country Load (0.0ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 320], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (2.24ms)
Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 1.8ms | Allocations: 2139)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:50.824520"], ["updated_at", "2025-08-17 01:53:50.824520"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:50.828775"], ["updated_at", "2025-08-17 01:53:50.828775"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 60"], ["LIMIT", 1]]
  [1m[36mCountry Create (4.7ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 60"], ["created_at", "2025-08-17 01:53:50.831040"], ["updated_at", "2025-08-17 01:53:50.831040"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 61"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 61"], ["created_at", "2025-08-17 01:53:50.837645"], ["updated_at", "2025-08-17 01:53:50.837645"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 50"], ["country_id", 322], ["LIMIT", 1]]
  [1m[36mCity Create (2.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 50"], ["country_id", 322], ["created_at", "2025-08-17 01:53:50.838989"], ["updated_at", "2025-08-17 01:53:50.838989"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow33"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.5ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "4ee4a68a-9491-4578-baf4-111cd52244ee"], ["name", "Flow33"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 279], ["country_id", 321], ["created_at", "2025-08-17 01:53:50.844538"], ["updated_at", "2025-08-17 01:53:50.844538"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 62"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 62"], ["created_at", "2025-08-17 01:53:50.846374"], ["updated_at", "2025-08-17 01:53:50.846374"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 51"], ["country_id", 323], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 51"], ["country_id", 323], ["created_at", "2025-08-17 01:53:50.849134"], ["updated_at", "2025-08-17 01:53:50.849134"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow34"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "2db671ae-1e00-4105-b004-0186408a593b"], ["name", "Flow34"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 280], ["country_id", 321], ["created_at", "2025-08-17 01:53:50.851128"], ["updated_at", "2025-08-17 01:53:50.851128"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 63"], ["LIMIT", 1]]
  [1m[36mCountry Create (1.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 63"], ["created_at", "2025-08-17 01:53:50.852905"], ["updated_at", "2025-08-17 01:53:50.852905"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 64"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 64"], ["created_at", "2025-08-17 01:53:50.862297"], ["updated_at", "2025-08-17 01:53:50.862297"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 52"], ["country_id", 325], ["LIMIT", 1]]
  [1m[36mCity Create (3.6ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 52"], ["country_id", 325], ["created_at", "2025-08-17 01:53:50.863625"], ["updated_at", "2025-08-17 01:53:50.863625"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow35"], ["LIMIT", 1]]
  [1m[36mFlow Create (2.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "db24a831-2d65-4ce3-98a7-7acd4cb9a774"], ["name", "Flow35"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 281], ["country_id", 324], ["created_at", "2025-08-17 01:53:50.879888"], ["updated_at", "2025-08-17 01:53:50.879888"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_country/321" for 127.0.0.1 at 2025-08-16 20:53:50 -0500
Processing by FlowsController#by_country as HTML
  Parameters: {"country_id"=>"321"}
  [1m[36mFlow Load (1.0ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."country_id" = $1[0m  [["country_id", 321]]
[active_model_serializers]   [1m[36mCity Load (5.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 279], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 322], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (1.9ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 321], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 280], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 323], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCACHE Country Load (0.0ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 321], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (13.71ms)
Completed 200 OK in 18ms (Views: 8.4ms | ActiveRecord: 9.0ms | Allocations: 2733)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:50.915700"], ["updated_at", "2025-08-17 01:53:50.915700"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:53:50.919351"], ["updated_at", "2025-08-17 01:53:50.919351"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (3.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", "Ciudad 1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 3"], ["LIMIT", 1]]
  [1m[36mCountry Create (4.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 3"], ["created_at", "2025-08-17 01:54:39.847275"], ["updated_at", "2025-08-17 01:54:39.847275"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 2"], ["country_id", 326], ["LIMIT", 1]]
  [1m[36mCity Create (0.7ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 2"], ["country_id", 326], ["created_at", "2025-08-17 01:54:39.853928"], ["updated_at", "2025-08-17 01:54:39.853928"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 4"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 4"], ["created_at", "2025-08-17 01:54:39.860877"], ["updated_at", "2025-08-17 01:54:39.860877"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow2"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 5"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 5"], ["created_at", "2025-08-17 01:54:39.864074"], ["updated_at", "2025-08-17 01:54:39.864074"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 3"], ["country_id", 328], ["LIMIT", 1]]
  [1m[36mCity Create (1.1ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 3"], ["country_id", 328], ["created_at", "2025-08-17 01:54:39.877261"], ["updated_at", "2025-08-17 01:54:39.877261"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 6"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 6"], ["created_at", "2025-08-17 01:54:39.879651"], ["updated_at", "2025-08-17 01:54:39.879651"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow3"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow4"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE "cities"."name" IS NULL AND "cities"."country_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"], ["LIMIT", 1]]
  [1m[36mCity Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", "Ciudad 6"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE "cities"."name" IS NULL AND "cities"."country_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 10"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 10"], ["created_at", "2025-08-17 01:54:40.056527"], ["updated_at", "2025-08-17 01:54:40.056527"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Bogot√°"], ["country_id", 330], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Bogot√°"], ["country_id", 330], ["created_at", "2025-08-17 01:54:40.060297"], ["updated_at", "2025-08-17 01:54:40.060297"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Medell√≠n"], ["country_id", 330], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 11"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 11"], ["created_at", "2025-08-17 01:54:40.063301"], ["updated_at", "2025-08-17 01:54:40.063301"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Bogot√°"], ["country_id", 331], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Bogot√°"], ["country_id", 331], ["created_at", "2025-08-17 01:54:40.065003"], ["updated_at", "2025-08-17 01:54:40.065003"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Bogot√°"], ["country_id", 331], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Colombia"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Colombia"], ["created_at", "2025-08-17 01:54:40.068785"], ["updated_at", "2025-08-17 01:54:40.068785"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Argentina"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Argentina"], ["created_at", "2025-08-17 01:54:40.071572"], ["updated_at", "2025-08-17 01:54:40.071572"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Buenos Aires"], ["country_id", 332], ["LIMIT", 1]]
  [1m[36mCity Create (2.0ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Buenos Aires"], ["country_id", 332], ["created_at", "2025-08-17 01:54:40.074195"], ["updated_at", "2025-08-17 01:54:40.074195"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Buenos Aires"], ["country_id", 333], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 12"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 12"], ["created_at", "2025-08-17 01:54:40.079220"], ["updated_at", "2025-08-17 01:54:40.079220"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "  bogota  "], ["country_id", 334], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Bogota"], ["country_id", 334], ["created_at", "2025-08-17 01:54:40.080835"], ["updated_at", "2025-08-17 01:54:40.080835"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 13"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 13"], ["created_at", "2025-08-17 01:54:40.084702"], ["updated_at", "2025-08-17 01:54:40.084702"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Medell√≠n"], ["country_id", 335], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" IS NULL LIMIT $2[0m  [["name", "Ciudad 7"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
  [1m[36mCountry Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" ORDER BY "countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 15"], ["created_at", "2025-08-17 01:54:40.093944"], ["updated_at", "2025-08-17 01:54:40.093944"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 15"], ["LIMIT", 1]]
  [1m[36mCountry Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "pA√çS 15"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"], ["LIMIT", 1]]
  [1m[36mCountry Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (4.8ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "  mexico  "], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Mexico"], ["created_at", "2025-08-17 01:54:40.106659"], ["updated_at", "2025-08-17 01:54:40.106659"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "m√©xico"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "M√©xico"], ["created_at", "2025-08-17 01:54:40.109579"], ["updated_at", "2025-08-17 01:54:40.109579"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Colombia"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Argentina"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Argentina"], ["created_at", "2025-08-17 01:54:40.113627"], ["updated_at", "2025-08-17 01:54:40.113627"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Argentina"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 17"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 17"], ["created_at", "2025-08-17 01:54:40.118397"], ["updated_at", "2025-08-17 01:54:40.118397"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 8"], ["country_id", 340], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 8"], ["country_id", 340], ["created_at", "2025-08-17 01:54:40.119577"], ["updated_at", "2025-08-17 01:54:40.119577"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 18"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 18"], ["created_at", "2025-08-17 01:54:40.124323"], ["updated_at", "2025-08-17 01:54:40.124323"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 9"], ["country_id", 341], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 9"], ["country_id", 341], ["created_at", "2025-08-17 01:54:40.126003"], ["updated_at", "2025-08-17 01:54:40.126003"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Load (0.3ms)[0m  [1m[34mSELECT "flows".* FROM "flows" ORDER BY "flows"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Create (0.8ms)[0m  [1m[32mINSERT INTO "flows" ("name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Flow6"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 289], ["country_id", nil], ["created_at", "2025-08-17 01:54:40.128155"], ["updated_at", "2025-08-17 01:54:40.128155"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow6"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "fLOW6"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 19"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 19"], ["created_at", "2025-08-17 01:54:40.133950"], ["updated_at", "2025-08-17 01:54:40.133950"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 10"], ["country_id", 342], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 10"], ["country_id", 342], ["created_at", "2025-08-17 01:54:40.136016"], ["updated_at", "2025-08-17 01:54:40.136016"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow7"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 20"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 20"], ["created_at", "2025-08-17 01:54:40.140507"], ["updated_at", "2025-08-17 01:54:40.140507"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 11"], ["country_id", 343], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 11"], ["country_id", 343], ["created_at", "2025-08-17 01:54:40.142199"], ["updated_at", "2025-08-17 01:54:40.142199"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 21"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 21"], ["created_at", "2025-08-17 01:54:40.144526"], ["updated_at", "2025-08-17 01:54:40.144526"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 12"], ["country_id", 344], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 12"], ["country_id", 344], ["created_at", "2025-08-17 01:54:40.146342"], ["updated_at", "2025-08-17 01:54:40.146342"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "MyFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 22"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 22"], ["created_at", "2025-08-17 01:54:40.148492"], ["updated_at", "2025-08-17 01:54:40.148492"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 13"], ["country_id", 345], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 13"], ["country_id", 345], ["created_at", "2025-08-17 01:54:40.149972"], ["updated_at", "2025-08-17 01:54:40.149972"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "FLOW123"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 23"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 23"], ["created_at", "2025-08-17 01:54:40.151833"], ["updated_at", "2025-08-17 01:54:40.151833"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 14"], ["country_id", 346], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 14"], ["country_id", 346], ["created_at", "2025-08-17 01:54:40.152989"], ["updated_at", "2025-08-17 01:54:40.152989"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "flow456"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 24"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 24"], ["created_at", "2025-08-17 01:54:40.156389"], ["updated_at", "2025-08-17 01:54:40.156389"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 15"], ["country_id", 347], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 15"], ["country_id", 347], ["created_at", "2025-08-17 01:54:40.158469"], ["updated_at", "2025-08-17 01:54:40.158469"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow 1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 25"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 25"], ["created_at", "2025-08-17 01:54:40.160993"], ["updated_at", "2025-08-17 01:54:40.160993"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 16"], ["country_id", 348], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 16"], ["country_id", 348], ["created_at", "2025-08-17 01:54:40.162623"], ["updated_at", "2025-08-17 01:54:40.162623"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "My-Flow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 26"], ["LIMIT", 1]]
  [1m[36mCountry Create (6.5ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 26"], ["created_at", "2025-08-17 01:54:40.164958"], ["updated_at", "2025-08-17 01:54:40.164958"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 17"], ["country_id", 349], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 17"], ["country_id", 349], ["created_at", "2025-08-17 01:54:40.173206"], ["updated_at", "2025-08-17 01:54:40.173206"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "FLOW@123"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 27"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.9ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 27"], ["created_at", "2025-08-17 01:54:40.176126"], ["updated_at", "2025-08-17 01:54:40.176126"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 18"], ["country_id", 350], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 18"], ["country_id", 350], ["created_at", "2025-08-17 01:54:40.178213"], ["updated_at", "2025-08-17 01:54:40.178213"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "flow#456"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 28"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.9ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 28"], ["created_at", "2025-08-17 01:54:40.180520"], ["updated_at", "2025-08-17 01:54:40.180520"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 19"], ["country_id", 351], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 19"], ["country_id", 351], ["created_at", "2025-08-17 01:54:40.183474"], ["updated_at", "2025-08-17 01:54:40.183474"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow8"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 29"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 29"], ["created_at", "2025-08-17 01:54:40.189330"], ["updated_at", "2025-08-17 01:54:40.189330"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 20"], ["country_id", 352], ["LIMIT", 1]]
  [1m[36mCity Create (1.1ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 20"], ["country_id", 352], ["created_at", "2025-08-17 01:54:40.191725"], ["updated_at", "2025-08-17 01:54:40.191725"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow9"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 30"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 30"], ["created_at", "2025-08-17 01:54:40.196241"], ["updated_at", "2025-08-17 01:54:40.196241"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow10"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 31"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 31"], ["created_at", "2025-08-17 01:54:40.201598"], ["updated_at", "2025-08-17 01:54:40.201598"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 21"], ["country_id", 354], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 21"], ["country_id", 354], ["created_at", "2025-08-17 01:54:40.203204"], ["updated_at", "2025-08-17 01:54:40.203204"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 32"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 32"], ["created_at", "2025-08-17 01:54:40.204762"], ["updated_at", "2025-08-17 01:54:40.204762"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow11"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (2.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 33"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 33"], ["created_at", "2025-08-17 01:54:40.210218"], ["updated_at", "2025-08-17 01:54:40.210218"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 22"], ["country_id", 356], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 22"], ["country_id", 356], ["created_at", "2025-08-17 01:54:40.211612"], ["updated_at", "2025-08-17 01:54:40.211612"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow12"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 34"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 34"], ["created_at", "2025-08-17 01:54:40.214924"], ["updated_at", "2025-08-17 01:54:40.214924"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 23"], ["country_id", 357], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 23"], ["country_id", 357], ["created_at", "2025-08-17 01:54:40.216801"], ["updated_at", "2025-08-17 01:54:40.216801"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow13"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 35"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 35"], ["created_at", "2025-08-17 01:54:40.220403"], ["updated_at", "2025-08-17 01:54:40.220403"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 24"], ["country_id", 358], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 24"], ["country_id", 358], ["created_at", "2025-08-17 01:54:40.221808"], ["updated_at", "2025-08-17 01:54:40.221808"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow14"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFlow Exists? (3.0ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 36"], ["LIMIT", 1]]
  [1m[36mCountry Create (1.8ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 36"], ["created_at", "2025-08-17 01:54:40.241932"], ["updated_at", "2025-08-17 01:54:40.241932"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 25"], ["country_id", 359], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 25"], ["country_id", 359], ["created_at", "2025-08-17 01:54:40.245333"], ["updated_at", "2025-08-17 01:54:40.245333"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow15"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "a5c99018-81c3-4a15-be96-1a9ae46e461b"], ["name", "Flow15"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 305], ["country_id", nil], ["created_at", "2025-08-17 01:54:40.246739"], ["updated_at", "2025-08-17 01:54:40.246739"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 37"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.9ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 37"], ["created_at", "2025-08-17 01:54:40.266601"], ["updated_at", "2025-08-17 01:54:40.266601"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (4.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 26"], ["country_id", 360], ["LIMIT", 1]]
  [1m[36mCity Create (0.8ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 26"], ["country_id", 360], ["created_at", "2025-08-17 01:54:40.277595"], ["updated_at", "2025-08-17 01:54:40.277595"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow16"], ["LIMIT", 1]]
  [1m[36mFlow Create (4.9ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "8040d763-8f28-4db9-921e-661d106ea2f8"], ["name", "Flow16"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 306], ["country_id", nil], ["created_at", "2025-08-17 01:54:40.290281"], ["updated_at", "2025-08-17 01:54:40.290281"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 38"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.9ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 38"], ["created_at", "2025-08-17 01:54:40.305991"], ["updated_at", "2025-08-17 01:54:40.305991"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 27"], ["country_id", 361], ["LIMIT", 1]]
  [1m[36mCity Create (1.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 27"], ["country_id", 361], ["created_at", "2025-08-17 01:54:40.314176"], ["updated_at", "2025-08-17 01:54:40.314176"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow17"], ["LIMIT", 1]]
  [1m[36mFlow Create (1.5ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "0ff5036c-5240-494c-aabb-10f7565016b8"], ["name", "Flow17"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 307], ["country_id", 360], ["created_at", "2025-08-17 01:54:40.321860"], ["updated_at", "2025-08-17 01:54:40.321860"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (3.0ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 39"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 39"], ["created_at", "2025-08-17 01:54:40.343126"], ["updated_at", "2025-08-17 01:54:40.343126"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 28"], ["country_id", 362], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 28"], ["country_id", 362], ["created_at", "2025-08-17 01:54:40.345390"], ["updated_at", "2025-08-17 01:54:40.345390"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow18"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.6ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "d5681997-12af-4f7c-88c8-91d3d952c506"], ["name", "Flow18"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 308], ["country_id", nil], ["created_at", "2025-08-17 01:54:40.347226"], ["updated_at", "2025-08-17 01:54:40.347226"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."city_id" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["city_id", 306], ["id", "8040d763-8f28-4db9-921e-661d106ea2f8"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."city_id" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["city_id", 306], ["id", "0ff5036c-5240-494c-aabb-10f7565016b8"], ["LIMIT", 1]]
  [1m[36mFlow Load (0.3ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."city_id" = $1[0m  [["city_id", 306]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 40"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 40"], ["created_at", "2025-08-17 01:54:40.352500"], ["updated_at", "2025-08-17 01:54:40.352500"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 29"], ["country_id", 363], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 29"], ["country_id", 363], ["created_at", "2025-08-17 01:54:40.354344"], ["updated_at", "2025-08-17 01:54:40.354344"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow19"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "d26d3677-3be7-45ac-ba1f-6e61b55a8783"], ["name", "Flow19"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 309], ["country_id", nil], ["created_at", "2025-08-17 01:54:40.355599"], ["updated_at", "2025-08-17 01:54:40.355599"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (6.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 41"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 41"], ["created_at", "2025-08-17 01:54:40.363368"], ["updated_at", "2025-08-17 01:54:40.363368"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 30"], ["country_id", 364], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 30"], ["country_id", 364], ["created_at", "2025-08-17 01:54:40.365486"], ["updated_at", "2025-08-17 01:54:40.365486"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow20"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "a0325a40-2b68-4870-84af-5d3e051ce77c"], ["name", "Flow20"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 310], ["country_id", 363], ["created_at", "2025-08-17 01:54:40.367057"], ["updated_at", "2025-08-17 01:54:40.367057"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 42"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 42"], ["created_at", "2025-08-17 01:54:40.369404"], ["updated_at", "2025-08-17 01:54:40.369404"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 31"], ["country_id", 365], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 31"], ["country_id", 365], ["created_at", "2025-08-17 01:54:40.370619"], ["updated_at", "2025-08-17 01:54:40.370619"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow21"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "d54f84f1-f284-4dfa-851b-e4f3a358fad2"], ["name", "Flow21"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 311], ["country_id", nil], ["created_at", "2025-08-17 01:54:40.371751"], ["updated_at", "2025-08-17 01:54:40.371751"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."country_id" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["country_id", 363], ["id", "a0325a40-2b68-4870-84af-5d3e051ce77c"], ["LIMIT", 1]]
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."country_id" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["country_id", 363], ["id", "d26d3677-3be7-45ac-ba1f-6e61b55a8783"], ["LIMIT", 1]]
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."country_id" = $1[0m  [["country_id", 363]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 43"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.7ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 43"], ["created_at", "2025-08-17 01:54:40.376060"], ["updated_at", "2025-08-17 01:54:40.376060"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 32"], ["country_id", 366], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 32"], ["country_id", 366], ["created_at", "2025-08-17 01:54:40.378377"], ["updated_at", "2025-08-17 01:54:40.378377"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow22"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.6ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "e44602e7-fb3a-47aa-949a-834158c4998c"], ["name", "Flow22"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 312], ["country_id", nil], ["created_at", "2025-08-17 01:54:40.380643"], ["updated_at", "2025-08-17 01:54:40.380643"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 44"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 44"], ["created_at", "2025-08-17 01:54:40.383015"], ["updated_at", "2025-08-17 01:54:40.383015"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 33"], ["country_id", 367], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 33"], ["country_id", 367], ["created_at", "2025-08-17 01:54:40.384969"], ["updated_at", "2025-08-17 01:54:40.384969"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow23"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.5ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "dca18ed0-64ce-4554-864a-001c67c6674e"], ["name", "Flow23"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 313], ["country_id", 366], ["created_at", "2025-08-17 01:54:40.386327"], ["updated_at", "2025-08-17 01:54:40.386327"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 45"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 45"], ["created_at", "2025-08-17 01:54:40.388589"], ["updated_at", "2025-08-17 01:54:40.388589"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 34"], ["country_id", 368], ["LIMIT", 1]]
  [1m[36mCity Create (0.8ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 34"], ["country_id", 368], ["created_at", "2025-08-17 01:54:40.392483"], ["updated_at", "2025-08-17 01:54:40.392483"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow24"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "5ebdb4fe-7a67-4d03-a10d-44acf872eeee"], ["name", "Flow24"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 314], ["country_id", nil], ["created_at", "2025-08-17 01:54:40.394909"], ["updated_at", "2025-08-17 01:54:40.394909"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 AND "flows"."id" = $2 LIMIT $3[0m  [["name", "Flow22"], ["id", "e44602e7-fb3a-47aa-949a-834158c4998c"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 46"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 46"], ["created_at", "2025-08-17 01:54:40.398160"], ["updated_at", "2025-08-17 01:54:40.398160"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 35"], ["country_id", 369], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 35"], ["country_id", 369], ["created_at", "2025-08-17 01:54:40.401114"], ["updated_at", "2025-08-17 01:54:40.401114"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow25"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow25"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "66edcca9-ef5a-47f6-b143-f1bba37628b1"], ["name", "Flow25"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 315], ["country_id", nil], ["created_at", "2025-08-17 01:54:40.403354"], ["updated_at", "2025-08-17 01:54:40.403354"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 47"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 47"], ["created_at", "2025-08-17 01:54:40.406380"], ["updated_at", "2025-08-17 01:54:40.406380"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 36"], ["country_id", 370], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 36"], ["country_id", 370], ["created_at", "2025-08-17 01:54:40.407802"], ["updated_at", "2025-08-17 01:54:40.407802"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "658fcbae-9a7d-4025-8a6a-529935e22eef"], ["name", "TestFlow"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 316], ["country_id", nil], ["created_at", "2025-08-17 01:54:40.409032"], ["updated_at", "2025-08-17 01:54:40.409032"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 48"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 48"], ["created_at", "2025-08-17 01:54:40.411958"], ["updated_at", "2025-08-17 01:54:40.411958"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (7.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 37"], ["country_id", 371], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 37"], ["country_id", 371], ["created_at", "2025-08-17 01:54:40.420504"], ["updated_at", "2025-08-17 01:54:40.420504"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (3.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:54:40.449839"], ["updated_at", "2025-08-17 01:54:40.449839"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:54:40.454833"], ["updated_at", "2025-08-17 01:54:40.454833"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 49"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 49"], ["created_at", "2025-08-17 01:54:40.459246"], ["updated_at", "2025-08-17 01:54:40.459246"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 38"], ["country_id", 372], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 38"], ["country_id", 372], ["created_at", "2025-08-17 01:54:40.462116"], ["updated_at", "2025-08-17 01:54:40.462116"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:54:40 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"TestFlow", "json_schema"=>"{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}", "city_id"=>"318"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (2.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "f624585c-d711-4785-b690-8e622f9ebefe"], ["name", "TestFlow"], ["json_schema", "\"{\\\"sections\\\":[{\\\"id\\\":\\\"section1\\\",\\\"title\\\":\\\"Secci√≥n 1\\\",\\\"forms\\\":[{\\\"id\\\":\\\"form1\\\",\\\"fields\\\":[{\\\"id\\\":\\\"field1\\\",\\\"type\\\":\\\"text\\\",\\\"label\\\":\\\"Campo 1\\\"}]}]}]}\""], ["city_id", 318], ["country_id", nil], ["created_at", "2025-08-17 01:54:40.476783"], ["updated_at", "2025-08-17 01:54:40.476783"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers]   [1m[36mCity Load (2.0ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 318], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.7ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 372], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (9.62ms)
Completed 201 Created in 22ms (Views: 9.5ms | ActiveRecord: 6.0ms | Allocations: 6775)
  [1m[36mFlow Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:54:40.500055"], ["updated_at", "2025-08-17 01:54:40.500055"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:54:40.505319"], ["updated_at", "2025-08-17 01:54:40.505319"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 50"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 50"], ["created_at", "2025-08-17 01:54:40.509339"], ["updated_at", "2025-08-17 01:54:40.509339"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 39"], ["country_id", 373], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 39"], ["country_id", 373], ["created_at", "2025-08-17 01:54:40.511415"], ["updated_at", "2025-08-17 01:54:40.511415"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:54:40 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"", "json_schema"=>"{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}", "city_id"=>"319"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.04ms)
Completed 422 Unprocessable Content in 4ms (Views: 1.2ms | ActiveRecord: 1.0ms | Allocations: 2286)
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:54:40.523159"], ["updated_at", "2025-08-17 01:54:40.523159"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:54:40.526720"], ["updated_at", "2025-08-17 01:54:40.526720"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 51"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 51"], ["created_at", "2025-08-17 01:54:40.529535"], ["updated_at", "2025-08-17 01:54:40.529535"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 40"], ["country_id", 374], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 40"], ["country_id", 374], ["created_at", "2025-08-17 01:54:40.531396"], ["updated_at", "2025-08-17 01:54:40.531396"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:54:40 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"TestFlow", "json_schema"=>"{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}", "city_id"=>nil}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Completed 422 Unprocessable Content in 3ms (Views: 0.4ms | ActiveRecord: 1.7ms | Allocations: 1322)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:54:40.540572"], ["updated_at", "2025-08-17 01:54:40.540572"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:54:40.546432"], ["updated_at", "2025-08-17 01:54:40.546432"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 52"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 52"], ["created_at", "2025-08-17 01:54:40.548169"], ["updated_at", "2025-08-17 01:54:40.548169"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 41"], ["country_id", 375], ["LIMIT", 1]]
  [1m[36mCity Create (1.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 41"], ["country_id", 375], ["created_at", "2025-08-17 01:54:40.551025"], ["updated_at", "2025-08-17 01:54:40.551025"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/flows" for 127.0.0.1 at 2025-08-16 20:54:40 -0500
Processing by FlowsController#create as HTML
  Parameters: {"flow"=>{"name"=>"TestFlow", "json_schema"=>"{\"invalid\":\"structure\"}", "city_id"=>"321"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "TestFlow"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 1380)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:54:40.559756"], ["updated_at", "2025-08-17 01:54:40.559756"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:54:40.564756"], ["updated_at", "2025-08-17 01:54:40.564756"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 53"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 53"], ["created_at", "2025-08-17 01:54:40.566948"], ["updated_at", "2025-08-17 01:54:40.566948"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 42"], ["country_id", 376], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 42"], ["country_id", 376], ["created_at", "2025-08-17 01:54:40.568820"], ["updated_at", "2025-08-17 01:54:40.568820"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow26"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "17d26377-9e46-4d73-b87b-4d990c0d11e6"], ["name", "Flow26"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 322], ["country_id", nil], ["created_at", "2025-08-17 01:54:40.570402"], ["updated_at", "2025-08-17 01:54:40.570402"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/17d26377-9e46-4d73-b87b-4d990c0d11e6" for 127.0.0.1 at 2025-08-16 20:54:40 -0500
Processing by FlowsController#show as HTML
  Parameters: {"id"=>"17d26377-9e46-4d73-b87b-4d990c0d11e6"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "17d26377-9e46-4d73-b87b-4d990c0d11e6"], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 322], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 376], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (1.16ms)
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.5ms | Allocations: 1546)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:54:40.579925"], ["updated_at", "2025-08-17 01:54:40.579925"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:54:40.583700"], ["updated_at", "2025-08-17 01:54:40.583700"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/invalid-uuid" for 127.0.0.1 at 2025-08-16 20:54:40 -0500
Processing by FlowsController#show as HTML
  Parameters: {"id"=>"invalid-uuid"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Filter chain halted as :set_flow rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 855)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:54:40.590517"], ["updated_at", "2025-08-17 01:54:40.590517"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:54:40.593565"], ["updated_at", "2025-08-17 01:54:40.593565"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 54"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 54"], ["created_at", "2025-08-17 01:54:40.595085"], ["updated_at", "2025-08-17 01:54:40.595085"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 43"], ["country_id", 377], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 43"], ["country_id", 377], ["created_at", "2025-08-17 01:54:40.596500"], ["updated_at", "2025-08-17 01:54:40.596500"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow27"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "585fcb78-1c71-4922-8373-bb4c618558df"], ["name", "Flow27"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 323], ["country_id", nil], ["created_at", "2025-08-17 01:54:40.598175"], ["updated_at", "2025-08-17 01:54:40.598175"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/flows/585fcb78-1c71-4922-8373-bb4c618558df" for 127.0.0.1 at 2025-08-16 20:54:40 -0500
Processing by FlowsController#update as HTML
  Parameters: {"flow"=>{"name"=>"UpdatedFlow", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "id"=>"585fcb78-1c71-4922-8373-bb4c618558df"}
  [1m[36mFlow Load (0.3ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "585fcb78-1c71-4922-8373-bb4c618558df"], ["LIMIT", 1]]
[31mUnpermitted parameter: :json_schema. Context: { controller: FlowsController, action: update, request: #<ActionDispatch::Request:0x0000000138a12820>, params: {"flow"=>{"name"=>"UpdatedFlow", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "controller"=>"flows", "action"=>"update", "id"=>"585fcb78-1c71-4922-8373-bb4c618558df"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 AND "flows"."id" != $2 LIMIT $3[0m  [["name", "UpdatedFlow"], ["id", "585fcb78-1c71-4922-8373-bb4c618558df"], ["LIMIT", 1]]
  [1m[36mFlow Update (1.0ms)[0m  [1m[33mUPDATE "flows" SET "name" = $1, "updated_at" = $2 WHERE "flows"."id" = $3[0m  [["name", "UpdatedFlow"], ["updated_at", "2025-08-17 01:54:40.602149"], ["id", "585fcb78-1c71-4922-8373-bb4c618558df"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers]   [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 323], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 377], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (1.23ms)
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 2.5ms | Allocations: 2433)
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "585fcb78-1c71-4922-8373-bb4c618558df"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:54:40.610135"], ["updated_at", "2025-08-17 01:54:40.610135"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (4.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:54:40.613197"], ["updated_at", "2025-08-17 01:54:40.613197"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 55"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 55"], ["created_at", "2025-08-17 01:54:40.619414"], ["updated_at", "2025-08-17 01:54:40.619414"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 44"], ["country_id", 378], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 44"], ["country_id", 378], ["created_at", "2025-08-17 01:54:40.620779"], ["updated_at", "2025-08-17 01:54:40.620779"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow28"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "dbcc629f-e6fc-49b1-9b15-533c1af90fa8"], ["name", "Flow28"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 324], ["country_id", nil], ["created_at", "2025-08-17 01:54:40.622060"], ["updated_at", "2025-08-17 01:54:40.622060"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/flows/dbcc629f-e6fc-49b1-9b15-533c1af90fa8" for 127.0.0.1 at 2025-08-16 20:54:40 -0500
Processing by FlowsController#update as HTML
  Parameters: {"flow"=>{"name"=>"Invalid Flow Name", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "id"=>"dbcc629f-e6fc-49b1-9b15-533c1af90fa8"}
  [1m[36mFlow Load (0.9ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "dbcc629f-e6fc-49b1-9b15-533c1af90fa8"], ["LIMIT", 1]]
[31mUnpermitted parameter: :json_schema. Context: { controller: FlowsController, action: update, request: #<ActionDispatch::Request:0x000000013819e068>, params: {"flow"=>{"name"=>"Invalid Flow Name", "json_schema"=>{"sections"=>[{"id"=>"section1", "title"=>"Secci√≥n 1", "forms"=>[{"id"=>"form1", "fields"=>[{"id"=>"field1", "type"=>"text", "label"=>"Campo 1"}]}]}]}}, "controller"=>"flows", "action"=>"update", "id"=>"dbcc629f-e6fc-49b1-9b15-533c1af90fa8"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 AND "flows"."id" != $2 LIMIT $3[0m  [["name", "Invalid Flow Name"], ["id", "dbcc629f-e6fc-49b1-9b15-533c1af90fa8"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Completed 422 Unprocessable Content in 4ms (Views: 0.4ms | ActiveRecord: 1.7ms | Allocations: 1711)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:54:40.631200"], ["updated_at", "2025-08-17 01:54:40.631200"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:54:40.634856"], ["updated_at", "2025-08-17 01:54:40.634856"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 56"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 56"], ["created_at", "2025-08-17 01:54:40.637275"], ["updated_at", "2025-08-17 01:54:40.637275"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 45"], ["country_id", 379], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 45"], ["country_id", 379], ["created_at", "2025-08-17 01:54:40.639003"], ["updated_at", "2025-08-17 01:54:40.639003"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow29"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.4ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "2aaa92c5-ffd6-432b-8d54-24acab8ed3b2"], ["name", "Flow29"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 325], ["country_id", nil], ["created_at", "2025-08-17 01:54:40.641568"], ["updated_at", "2025-08-17 01:54:40.641568"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFlow Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
Started DELETE "/flows/2aaa92c5-ffd6-432b-8d54-24acab8ed3b2" for 127.0.0.1 at 2025-08-16 20:54:40 -0500
Processing by FlowsController#destroy as HTML
  Parameters: {"id"=>"2aaa92c5-ffd6-432b-8d54-24acab8ed3b2"}
  [1m[36mFlow Load (0.3ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."id" = $1 LIMIT $2[0m  [["id", "2aaa92c5-ffd6-432b-8d54-24acab8ed3b2"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlowSolution Load (1.2ms)[0m  [1m[34mSELECT "flow_solutions".* FROM "flow_solutions" WHERE "flow_solutions"."flow_id" = $1[0m  [["flow_id", "2aaa92c5-ffd6-432b-8d54-24acab8ed3b2"]]
  [1m[36mFlow Destroy (0.4ms)[0m  [1m[31mDELETE FROM "flows" WHERE "flows"."id" = $1[0m  [["id", "2aaa92c5-ffd6-432b-8d54-24acab8ed3b2"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 8ms (ActiveRecord: 2.3ms | Allocations: 1835)
  [1m[36mFlow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "flows"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:54:40.657858"], ["updated_at", "2025-08-17 01:54:40.657858"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:54:40.661876"], ["updated_at", "2025-08-17 01:54:40.661876"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 57"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 57"], ["created_at", "2025-08-17 01:54:40.664112"], ["updated_at", "2025-08-17 01:54:40.664112"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 46"], ["country_id", 380], ["LIMIT", 1]]
  [1m[36mCity Create (2.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 46"], ["country_id", 380], ["created_at", "2025-08-17 01:54:40.666392"], ["updated_at", "2025-08-17 01:54:40.666392"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "UniqueFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "04bdf223-1983-4a9d-9b75-d5b9ea79ac2a"], ["name", "UniqueFlow"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 326], ["country_id", nil], ["created_at", "2025-08-17 01:54:40.670149"], ["updated_at", "2025-08-17 01:54:40.670149"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_name/UniqueFlow" for 127.0.0.1 at 2025-08-16 20:54:40 -0500
Processing by FlowsController#by_name as HTML
  Parameters: {"name"=>"UniqueFlow"}
  [1m[36mFlow Load (0.4ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "UniqueFlow"], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 326], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 380], ["LIMIT", 1]]
[active_model_serializers] Rendered FlowSerializer with ActiveModelSerializers::Adapter::Attributes (1.36ms)
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.8ms | Allocations: 1523)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:54:40.679678"], ["updated_at", "2025-08-17 01:54:40.679678"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:54:40.683625"], ["updated_at", "2025-08-17 01:54:40.683625"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 58"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 58"], ["created_at", "2025-08-17 01:54:40.687509"], ["updated_at", "2025-08-17 01:54:40.687509"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 47"], ["country_id", 381], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 47"], ["country_id", 381], ["created_at", "2025-08-17 01:54:40.689538"], ["updated_at", "2025-08-17 01:54:40.689538"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "UniqueFlow"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.2ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "24117def-93f5-4ca9-b872-8a35514207e2"], ["name", "UniqueFlow"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 327], ["country_id", nil], ["created_at", "2025-08-17 01:54:40.691318"], ["updated_at", "2025-08-17 01:54:40.691318"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_name/NonExistentFlow" for 127.0.0.1 at 2025-08-16 20:54:40 -0500
Processing by FlowsController#by_name as HTML
  Parameters: {"name"=>"NonExistentFlow"}
  [1m[36mFlow Load (0.2ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "NonExistentFlow"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.02ms)
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 827)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:54:40.697479"], ["updated_at", "2025-08-17 01:54:40.697479"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:54:40.702114"], ["updated_at", "2025-08-17 01:54:40.702114"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 59"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 59"], ["created_at", "2025-08-17 01:54:40.703707"], ["updated_at", "2025-08-17 01:54:40.703707"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 48"], ["country_id", 382], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 48"], ["country_id", 382], ["created_at", "2025-08-17 01:54:40.705253"], ["updated_at", "2025-08-17 01:54:40.705253"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow30"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.7ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "5d6b9364-2607-4734-9b59-5634ab92532f"], ["name", "Flow30"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 328], ["country_id", nil], ["created_at", "2025-08-17 01:54:40.707052"], ["updated_at", "2025-08-17 01:54:40.707052"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow31"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.9ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "dc6767c6-bd6f-4286-9476-dba0419d02fb"], ["name", "Flow31"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 328], ["country_id", nil], ["created_at", "2025-08-17 01:54:40.709611"], ["updated_at", "2025-08-17 01:54:40.709611"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 49"], ["country_id", 382], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 49"], ["country_id", 382], ["created_at", "2025-08-17 01:54:40.711982"], ["updated_at", "2025-08-17 01:54:40.711982"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow32"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "72059cb0-b2f4-4165-a7f5-24a1733f3d86"], ["name", "Flow32"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 329], ["country_id", nil], ["created_at", "2025-08-17 01:54:40.713607"], ["updated_at", "2025-08-17 01:54:40.713607"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_city/328" for 127.0.0.1 at 2025-08-16 20:54:40 -0500
Processing by FlowsController#by_city as HTML
  Parameters: {"city_id"=>"328"}
  [1m[36mFlow Load (0.7ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."city_id" = $1[0m  [["city_id", 328]]
[active_model_serializers]   [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 328], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 382], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCACHE City Load (0.0ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 328], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCACHE Country Load (0.0ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 382], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.94ms)
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 1.2ms | Allocations: 2139)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:54:40.723813"], ["updated_at", "2025-08-17 01:54:40.723813"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:54:40.727756"], ["updated_at", "2025-08-17 01:54:40.727756"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 60"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 60"], ["created_at", "2025-08-17 01:54:40.729261"], ["updated_at", "2025-08-17 01:54:40.729261"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 61"], ["LIMIT", 1]]
  [1m[36mCountry Create (1.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 61"], ["created_at", "2025-08-17 01:54:40.730608"], ["updated_at", "2025-08-17 01:54:40.730608"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 50"], ["country_id", 384], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 50"], ["country_id", 384], ["created_at", "2025-08-17 01:54:40.733193"], ["updated_at", "2025-08-17 01:54:40.733193"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow33"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "047a8ad5-a505-4ed1-8c10-9f55d82e9f08"], ["name", "Flow33"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 330], ["country_id", 383], ["created_at", "2025-08-17 01:54:40.735077"], ["updated_at", "2025-08-17 01:54:40.735077"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 62"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 62"], ["created_at", "2025-08-17 01:54:40.736719"], ["updated_at", "2025-08-17 01:54:40.736719"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 51"], ["country_id", 385], ["LIMIT", 1]]
  [1m[36mCity Create (0.4ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 51"], ["country_id", 385], ["created_at", "2025-08-17 01:54:40.738041"], ["updated_at", "2025-08-17 01:54:40.738041"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow34"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "3505a5b7-9539-49d2-8ea3-1ff45b598f2f"], ["name", "Flow34"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 331], ["country_id", 383], ["created_at", "2025-08-17 01:54:40.739800"], ["updated_at", "2025-08-17 01:54:40.739800"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 63"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 63"], ["created_at", "2025-08-17 01:54:40.741334"], ["updated_at", "2025-08-17 01:54:40.741334"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Pa√≠s 64"], ["LIMIT", 1]]
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pa√≠s 64"], ["created_at", "2025-08-17 01:54:40.750889"], ["updated_at", "2025-08-17 01:54:40.750889"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCity Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE LOWER("cities"."name") = LOWER($1) AND "cities"."country_id" = $2 LIMIT $3[0m  [["name", "Ciudad 52"], ["country_id", 387], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ciudad 52"], ["country_id", 387], ["created_at", "2025-08-17 01:54:40.753576"], ["updated_at", "2025-08-17 01:54:40.753576"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFlow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flows" WHERE "flows"."name" = $1 LIMIT $2[0m  [["name", "Flow35"], ["LIMIT", 1]]
  [1m[36mFlow Create (0.3ms)[0m  [1m[32mINSERT INTO "flows" ("id", "name", "json_schema", "city_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", "d5e850de-ad3b-488a-8bf2-02b23168eec8"], ["name", "Flow35"], ["json_schema", "{\"sections\":[{\"id\":\"section1\",\"title\":\"Secci√≥n 1\",\"forms\":[{\"id\":\"form1\",\"fields\":[{\"id\":\"field1\",\"type\":\"text\",\"label\":\"Campo 1\"}]}]}]}"], ["city_id", 332], ["country_id", 386], ["created_at", "2025-08-17 01:54:40.755191"], ["updated_at", "2025-08-17 01:54:40.755191"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/flows/by_country/383" for 127.0.0.1 at 2025-08-16 20:54:40 -0500
Processing by FlowsController#by_country as HTML
  Parameters: {"country_id"=>"383"}
  [1m[36mFlow Load (0.3ms)[0m  [1m[34mSELECT "flows".* FROM "flows" WHERE "flows"."country_id" = $1[0m  [["country_id", 383]]
[active_model_serializers]   [1m[36mCity Load (0.4ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 330], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 384], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 383], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 331], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 385], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCACHE Country Load (0.0ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 383], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (3.95ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 1.4ms | Allocations: 2733)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:54:40.767020"], ["updated_at", "2025-08-17 01:54:40.767020"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 01:54:40.770456"], ["updated_at", "2025-08-17 01:54:40.770456"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 02:30:57.147844"], ["updated_at", "2025-08-17 02:30:57.147844"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 02:30:57.167745"], ["updated_at", "2025-08-17 02:30:57.167745"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (3.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 02:33:56.983332"], ["updated_at", "2025-08-17 02:33:56.983332"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 02:33:56.994863"], ["updated_at", "2025-08-17 02:33:56.994863"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (2.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "[FILTERED]"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2025-08-17 02:36:14.650353"], ["updated_at", "2025-08-17 02:36:14.650353"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
